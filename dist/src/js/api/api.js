var _Debug=!1,_NoError=0,_GeneralException=101,_ServerBusy=102,_InvalidArgumentError=201,_ElementCannotHaveChildren=202,_ElementIsNotAnArray=203,_NotInitialized=301,_NotImplementedError=401,_InvalidSetValue=402,_ElementIsReadOnly=403,_ElementIsWriteOnly=404,_IncorrectDataType=405,apiHandle=null,API=null,findAPITries=0;function doLMSInitialize(){var api=getAPIHandle();if(null==api)return alert("Unable to locate the LMS's API Implementation.\nLMSInitialize was not successful."),"false";var result=api.LMSInitialize("");return result.toString(),result.toString()}function doLMSFinish(){var api=getAPIHandle();if(null==api)return alert("Unable to locate the LMS's API Implementation.\nLMSFinish was not successful."),"false";var result=api.LMSFinish("");if("true"!=result.toString())ErrorHandler();return result.toString()}function doLMSGetValue(name){var api=getAPIHandle();if(null==api)return alert("Unable to locate the LMS's API Implementation.\nLMSGetValue was not successful."),"";var value=api.LMSGetValue(name),errCode=api.LMSGetLastError().toString();if(errCode!=_NoError){var errDescription=api.LMSGetErrorString(errCode);return alert("LMSGetValue("+name+") failed. \n"+errDescription),""}return value.toString()}function doLMSSetValue(name,value){var api=getAPIHandle();if(null!=api){if("true"!=api.LMSSetValue(name,value).toString())ErrorHandler()}else alert("Unable to locate the LMS's API Implementation.\nLMSSetValue was not successful.")}function doLMSCommit(){var api=getAPIHandle();if(null==api)return alert("Unable to locate the LMS's API Implementation.\nLMSCommit was not successful."),"false";var result=api.LMSCommit("");if("true"!=result)ErrorHandler();return result.toString()}function doLMSGetLastError(){var api=getAPIHandle();return null==api?(alert("Unable to locate the LMS's API Implementation.\nLMSGetLastError was not successful."),_GeneralError):api.LMSGetLastError().toString()}function doLMSGetErrorString(errorCode){var api=getAPIHandle();return null==api&&alert("Unable to locate the LMS's API Implementation.\nLMSGetErrorString was not successful."),api.LMSGetErrorString(errorCode).toString()}function doLMSGetDiagnostic(errorCode){var api=getAPIHandle();return null==api&&alert("Unable to locate the LMS's API Implementation.\nLMSGetDiagnostic was not successful."),api.LMSGetDiagnostic(errorCode).toString()}function LMSIsInitialized(){var api=getAPIHandle();if(null==api)return alert("Unable to locate the LMS's API Implementation.\nLMSIsInitialized() failed."),!1;api.LMSGetValue("cmi.core.student_name");return api.LMSGetLastError().toString()!=_NotInitialized}function ErrorHandler(){var api=getAPIHandle();if(null!=api){var errCode=api.LMSGetLastError().toString();if(errCode!=_NoError){var errDescription=api.LMSGetErrorString(errCode);1==_Debug&&(errDescription+="\n",errDescription+=api.LMSGetDiagnostic(null)),alert(errDescription)}return errCode}alert("Unable to locate the LMS's API Implementation.\nCannot determine LMS error code.")}function getAPIHandle(){return null==apiHandle&&(apiHandle=getAPI()),apiHandle}function findAPI(win){for(;null==win.API&&null!=win.parent&&win.parent!=win;){if(7<++findAPITries)return alert("Error finding API -- too deeply nested."),null;win=win.parent}return win.API}function getAPI(){var theAPI=findAPI(window);return null==theAPI&&null!=window.opener&&void 0!==window.opener&&(theAPI=findAPI(window.opener)),theAPI}var startDate,exitPageStatus;_Debug=!1,_NoError=0,_GeneralException=101,_ServerBusy=102,_InvalidArgumentError=201,_ElementCannotHaveChildren=202,_ElementIsNotAnArray=203,_NotInitialized=301,_NotImplementedError=401,_InvalidSetValue=402,_ElementIsReadOnly=403,_ElementIsWriteOnly=404,_IncorrectDataType=405,apiHandle=null,API=null,findAPITries=0;function doLMSInitialize(){var api=getAPIHandle();if(null==api)return"false";var result=api.Initialize("");return result.toString(),result.toString()}function doLMSFinish(){var api=getAPIHandle();if(null==api)return"false";var result=api.Terminate("");if("true"!=result.toString())ErrorHandler();return result.toString()}function doLMSGetValue(name){var api=getAPIHandle();if(null==api)return"";var value=api.GetValue(name),errCode=api.GetLastError().toString();if(errCode!=_NoError){api.GetErrorString(errCode);return""}return value.toString()}function doLMSSetValue(name,value){var api=getAPIHandle();if(null!=api&&"true"!=api.SetValue(name,value).toString())ErrorHandler()}function doLMSCommit(){var api=getAPIHandle();if(null==api)return"false";var result=api.Commit("");if("true"!=result)ErrorHandler();return result.toString()}function doLMSGetLastError(){var api=getAPIHandle();return null==api?_GeneralError:api.GetLastError().toString()}function doLMSGetErrorString(errorCode){var api=getAPIHandle();return api.GetErrorString(errorCode).toString()}function doLMSGetDiagnostic(errorCode){var api=getAPIHandle();return api.GetDiagnostic(errorCode).toString()}function LMSIsInitialized(){var api=getAPIHandle();if(null==api)return!1;api.GetValue("cmi.learner_name");return api.GetLastError().toString()!=_NotInitialized}function ErrorHandler(){var api=getAPIHandle();if(null!=api){var errCode=api.GetLastError().toString();if(errCode!=_NoError){api.GetErrorString(errCode);1==_Debug&&("\n",api.GetDiagnostic(null))}return errCode}}function getAPIHandle(){return null==apiHandle&&(apiHandle=getAPI()),apiHandle}function findAPI(win){for(;null==win.API_1484_11&&null!=win.parent&&win.parent!=win;){if(7<++findAPITries)return null;win=win.parent}return win.API_1484_11}function getAPI(){var theAPI=findAPI(window);return null==theAPI&&null!=window.opener&&void 0!==window.opener&&(theAPI=findAPI(window.opener)),theAPI}function loadPage(){doLMSInitialize();"not attempted"==doLMSGetValue("cmi.core.lesson_status")&&doLMSSetValue("cmi.core.lesson_status","incomplete"),exitPageStatus=!1,startTimer()}function startTimer(){startDate=(new Date).getTime()}function computeTime(){if(0!=startDate)var currentDate=(new Date).getTime(),formattedTime=convertTotalSeconds((currentDate-startDate)/1e3);else formattedTime="00:00:00.0";doLMSSetValue("cmi.core.session_time",formattedTime),doLMSCommit()}function doBack(){doLMSSetValue("cmi.core.exit","suspend"),computeTime(),exitPageStatus=!0,doLMSCommit(),doLMSFinish()}function doContinue(status){doLMSSetValue("cmi.core.exit","");var mode=doLMSGetValue("cmi.core.lesson_mode");"review"!=mode&&"browse"!=mode&&doLMSSetValue("cmi.core.lesson_status",status),computeTime(),exitPageStatus=!0,doLMSCommit(),doLMSFinish()}function doQuit(){doLMSSetValue("cmi.core.exit","logout"),computeTime(),exitPageStatus=!0,doLMSCommit(),doLMSFinish()}function unloadPage(){1!=exitPageStatus&&doQuit()}function convertTotalSeconds(ts){var sec=ts%60,tmp=(ts-=sec)%3600;ts-=tmp,sec=Math.round(100*sec)/100;var strSec=new String(sec),strWholeSec=strSec,strFractionSec="";if(-1!=strSec.indexOf(".")&&(strWholeSec=strSec.substring(0,strSec.indexOf(".")),strFractionSec=strSec.substring(strSec.indexOf(".")+1,strSec.length)),strWholeSec.length<2&&(strWholeSec="0"+strWholeSec),strSec=strWholeSec,strFractionSec.length&&(strSec=strSec+"."+strFractionSec),ts%3600!=0)var hour=0;else hour=ts/3600;if(tmp%60!=0)var min=0;else min=tmp/60;return new String(hour).length<2&&(hour="0"+hour),new String(min).length<2&&(min="0"+min),hour+":"+min+":"+strSec}function loadPage(){doLMSInitialize();"not attempted"==doLMSGetValue("cmi.success_status")&&doLMSSetValue("cmi.success_status","incomplete"),exitPageStatus=!1,startTimer()}function startTimer(){startDate=(new Date).getTime()}function computeTime(){if(0!=startDate)var currentDate=(new Date).getTime(),formattedTime=convertTotalSeconds((currentDate-startDate)/1e3);else formattedTime="PT0H0M0S";doLMSSetValue("cmi.session_time",formattedTime)}function doBack(){doLMSSetValue("cmi.exit","suspend"),computeTime(),exitPageStatus=!0,doLMSCommit(),doLMSFinish()}function doContinue(status){doLMSSetValue("cmi.exit","");var mode=doLMSGetValue("cmi.mode");"review"!=mode&&"browse"!=mode&&doLMSSetValue("cmi.success_status",status),computeTime(),exitPageStatus=!0,doLMSCommit(),doLMSFinish()}function doQuit(){doLMSSetValue("cmi.exit","logout"),computeTime(),exitPageStatus=!0,doLMSCommit(),doLMSFinish()}function unloadPage(){1!=exitPageStatus&&doQuit()}function convertTotalSeconds(ts){var sec=ts%60,tmp=(ts-=sec)%3600;ts-=tmp,sec=Math.round(100*sec)/100;var strSec=new String(sec),strWholeSec=strSec,strFractionSec="";if(-1!=strSec.indexOf(".")&&(strWholeSec=strSec.substring(0,strSec.indexOf(".")),strFractionSec=strSec.substring(strSec.indexOf(".")+1,strSec.length)),strWholeSec.length<2&&(strWholeSec="0"+strWholeSec),strSec=strWholeSec,strFractionSec.length&&(strSec=strSec+"."+strFractionSec),ts%3600!=0)var hour=0;else hour=ts/3600;if(tmp%60!=0)var min=0;else min=tmp/60;return new String(hour).length<2&&(hour="0"+hour),new String(min).length<2&&(min="0"+min),"PT"+hour+"H"+min+"M"+strSec+"S"}