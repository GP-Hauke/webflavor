!function(e){var t={};function a(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(s,o,function(t){return e[t]}.bind(null,o));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=13)}([function(e,t,a){"use strict";a.d(t,"c",function(){return r}),a.d(t,"b",function(){return i}),a.d(t,"d",function(){return l}),a.d(t,"a",function(){return d});var s,o,n=a(2);function r(e,t,a,r){s=e;(o=JSON.parse(localStorage.getItem(s))).THEME_PATH;switch(t){case"splashPage":$("#modalContainer").html(function(){var e=JSON.parse(localStorage.getItem(s));console.log(e);var t=e.splash.title,a=e.splash.caption,o=e.splash.introduction;return'<div class="modal" id="splashPageModal" tabindex="-1" role="dialog" aria-labelledby="splashPageModalLabel"><div class="modal-dialog" role="document" style="max-width: 1000px"><div class="modal-content"><div class="row"><div class="col-md-5 col splashTitle"><h3>'+t+"</h3><h1>"+a+"</h1><p>"+o+'</p> <a id="beginCourse" class="btn btn-default d-block mx-auto" role="button">Begin Course</a></div></div></div></div></div><audio autoplay><source src="dir/media/audio/0.mp3"/></audio>'}());break;case"glossary":$("#modalContainer").html(function(){for(var e='<div class="modal fade" id="glossaryModal" tabindex="-1" role="dialog" aria-labelledby="glossaryModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><div class="modal-title-wrapper"><h4 class="modal-title" id="glossaryModalLabel">GLOSSARY</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><img src="dir/media/img/btn_close_glossary.png" alt="close the glossary"></span></button></div><div class="alphabet"><a id="" href="#">#</a><a id="" href="#">a</a><a id="" href="#">b</a><a id="" href="#">c</a><a id="" href="#">d</a><a id="" href="#">e</a><a id="" href="#">f</a><a id="" href="#">g</a><a id="" href="#">h</a><a id="" href="#">i</a><a id="" href="#">j</a><a id="" href="#">k</a><a id="" href="#">l</a><a id="" href="#">m</a><a id="" href="#">n</a><a id="" href="#">o</a><a id="" href="#">p</a><a id="" href="#">q</a><a id="" href="#">r</a><a id="" href="#">s</a><a id="" href="#">t</a><a id="" href="#">u</a><a id="" href="#">v</a><a id="" href="#">w</a><a id="" href="#">x</a><a id="" href="#">y</a><a id="" href="#">z</a></div></div><div class="modal-body">',t=0;t<o.glossary.items.length;t++){var a=o.glossary.items[t].term,s=o.glossary.items[t].definition,n=a.charAt(0),r='<div class="gloss-item" id="'+n+'"><h5>'+a+"</h5><p>"+s+"</p></div>";e+=r}return e+="</div></div></div></div>"}()),$(".alphabet a").click(function(){var e="#"+$(this).text();"##"==e?$(".modal-body").scrollTop(0):null!=$(e).offset()&&($(e).offset().top>140||120>$(e).offset().top)&&($(".modal-body").scrollTop(0),$(".modal-body").animate({scrollTop:$(e).offset().top-130}))});break;case"resources":$("#modalContainer").html(function(){for(var e='<div class="modal fade" id="resourcesModal" tabindex="-1" role="dialog" aria-labelledby="resourcesModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><div class="modal-title-wrapper"><h4 class="modal-title" id="resourcesModalLabel">RESOURCES</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><img src="dir/media/img/btn_close_glossary.png" alt="close the resources"></span></button></div></div><div class="modal-body">',t=0;t<o.resources.items.length;t++){var a=o.resources.items[t].term,s=o.resources.items[t].definition,n=o.resources.items[t].name,r=o.resources.items[t].source,i='<div class="gloss-item""><h5>'+a+"</h5><p>"+s+'</p><a target="blank" href="'+r+'" class="bolded">'+n+"</a></div>";e+=i}return e+="</div></div></div></div>"}());break;case"help":$("#modalContainer").html('<div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby=""><div class="modal-dialog" style="max-width:none" role="document"><div class="modal-content"><div class="modal-header"><h4 class="modal-title" id="helpModalLabel">HELP</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><img src="dir/media/img/btn_close_help.png" alt="close the help page"></span></button></div><div class="modal-body"><div class="help-section"><h5>NAVIGATION</h5><div class="help-item"><h6>TABLE OF CONTENTS</h6><img src="dir/media/img/help_toc.png" alt="t.o.c. icon"/><p>Use this to navigate to different pages in the course.</p></div><div class="help-item"><h6>CONTENT AREA</h6><p>Content will appear here. Follow the on-screen instructions for videos or interactives. Some pages may scroll.</p></div><div class="help-item"><h6>PAGE COUNT</h6><img src="dir/media/img/help_page_count.png" alt="page count screen shot"/><p>Check your progress through the course.</p></div><div class="help-item"><h6>BACK/NEXT BUTTONS</h6><img src="dir/media/img/help_back_next.png" alt="page count screen shot"/><p>Use these buttons to move forward or backward in the course.</p></div></div><div class="help-section"><h5>HELP</h5><div class="help-item"><h6>HELP</h6><img src="dir/media/img/help_help.png" alt="page count screen shot"/><p>This page describes how to use the course.</p></div></div></div></div></div></div>');break;case"assessment":$("#modalContainer").html('<div class="modal" id="assessmentModal" tabindex="-1" role="dialog" aria-labelledby="assessmentModalLabel" data-backdrop="static"><div class="modal-dialog" role="document" style="max-width: 1000px"><div class="modal-content"><div class="row"><div class="col-md-12 assessment-container"></div></div></div></div></div>'),n.b(a,r)}$("#beginCourse").click(function(){$("#modalContainer").html(""),$(".modal-backdrop").remove()}),$(".modal").on("shown.bs.modal",function(e){$(".modal .modal-body").css({height:$(".modal").height()})}),$(".modal").on("hidden.bs.modal",function(e){$("#modalContainer").html("")}),$(".modal").modal()}function i(e){$("#modalContainer").html(e)}function l(e){$("#modalContainer").html("<div class='modal fade' id='videoModal' tabindex='-1' role='dialog' aria-labelledby='videoModalLabel'><div class='modal-dialog' role='document'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'><img src='dir/media/img/btn_close.png' alt='close the modal'></span></button></div><div class='modal-body clearfix'><video controls autoplay>Sorry, your browser doesn't support embedded videos. <source src='"+e+"' type='video/mp4'></video></div></div></div></div>"),$(".modal").on("hidden.bs.modal",function(e){$("#modalContainer").html("")}),$(".modal").modal()}function d(e){console.log(e),$("#modalContainer").html("<div class='modal fade' id='audioModal' tabindex='-1' role='dialog' aria-labelledby='audioModalLabel'><div class='modal-dialog' role='document'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'><img src='dir/media/img/btn_close.png' alt='close the modal'></span></button></div><div class='modal-body clearfix'><audio controls><source src='"+e+"' type='audio/mp3'>Your browser does not support the audio element.</audio></div></div></div></div>"),$(".modal").on("hidden.bs.modal",function(e){$("#modalContainer").html("")}),$(".modal").modal()}},function(e,t,a){"use strict";a.d(t,"e",function(){return i}),a.d(t,"d",function(){return l}),a.d(t,"a",function(){return d}),a.d(t,"b",function(){return c}),a.d(t,"f",function(){return u}),a.d(t,"c",function(){return m});var s,o="SCORM",n="1.2",r=-1;function i(e){s=e}function l(e,t){if("SCORM"==o){if(null==getAPIHandle())return;"2004"==n?doLMSSetValue("cmi.location",e+"_"+t):"1.2"==n&&doLMSSetValue("cmi.core.lesson_location",e+"_"+t),doLMSCommit()}else"COOKIES"==o&&g(s+"bm",e+"_"+t)}function d(){if("SCORM"==o){if(null==getAPIHandle())return;if("2004"==n)return doLMSGetValue("cmi.location");if("1.2"==n)return doLMSGetValue("cmi.core.lesson_location")}else if("COOKIES"==o)return h(s+"bm")}function c(){if("SCORM"==o){if(null==getAPIHandle())return;return doLMSGetValue("cmi.suspend_data")}return"COOKIES"==o?h(s+"pm"):""}function p(){if(console.log("Course Completed"),"SCORM"==o){if(null==getAPIHandle())return;"1.2"==n?doLMSSetValue("cmi.core.lesson_status","passed"):"2004"==n&&(doLMSSetValue("cmi.completion_status","completed"),doLMSSetValue("cmi.success_status","passed"),-1!=r&&(doLMSSetValue("cmi.score.raw",r),doLMSSetValue("cmi.score.scaled",r/100))),doLMSCommit()}}function u(){try{if(null==getAPIHandle())return void(o="COOKIES");if(doLMSInitialize(),startTimer(),"2004"==n)"incomplete"!=(e=doLMSGetValue("cmi.completion_status"))&&"completed"!=e&&(doLMSSetValue("cmi.completion_status","incomplete"),doLMSSetValue("cmi.success_status","unknown"),doLMSSetValue("cmi.location",""),doLMSSetValue("cmi.suspend_data","")),doLMSSetValue("cmi.exit","suspend"),doLMSCommit();else if("1.2"==n){var e;"not attempted"==(e=doLMSGetValue("cmi.core.lesson_status"))&&(doLMSSetValue("cmi.core.lesson_status","incomplete"),doLMSSetValue("cmi.core.lesson_location",""),doLMSSetValue("cmi.suspend_data",""),doLMSSetValue("cmi.core.exit","suspend"),doLMSCommit())}}catch(e){o="COOKIES"}}function m(){"SCORM"==o&&("2004"==n?doLMSSetValue("cmi.exit","suspend"):"1.2"==n&&doLMSSetValue("cmi.core.exit","suspend"),computeTime(),doLMSFinish())}function h(e){var t=e+"=";if(document.cookie.length>0){var a=document.cookie.indexOf(t);if(-1!=a){a+=t.length;var s=document.cookie.indexOf(";",a);return-1==s&&(s=document.cookie.length),unescape(document.cookie.substring(a,s))}return""}}function g(e,t,a){var s=new Date;null==a||-1!=a?(a=31536e6,s.setTime(s.getTime()+a),document.cookie=escape(e)+"="+escape(t)+";expires="+s.toGMTString()+";path=/"):document.cookie=escape(e)+"="+escape(t)+";path=/"}window.setComplete=p},function(module,__webpack_exports__,__webpack_require__){"use strict";var startBtn,LOCAL_COURSE_DATA_ID;function initAssessments(e,t){LOCAL_COURSE_DATA_ID=e,"undefined"===localStorage&&location.reload();var a=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));if(void 0===a.assessmentData.VERSION||a.assessmentData.VERSION!==$(t).find("version").text()){a.assessmentData.VERSION=$(t).find("version").text(),a.assessmentData.TOTAL_QUESTIONS=$(t).find("question").length,a.assessmentData.QUESTIONS_GIVEN=$(t).find("assessments").attr("questionsGiven"),a.assessmentData.assessments=[];for(var s=0;s<$(t).find("assessment").length;s++){var o=$(t).find("assessment")[s],n={id:parseFloat($(o).attr("id")),completed:$(o).attr("completed"),title:$(o).attr("title"),introText:$(o).find("introText").text(),questionsAnswers:{questions:[],answers:[],answersFiltered:[],feedback:{}},currentQuestionIndex:0,score:0};-1!==n.title.indexOf("Buick")?n.style="buick":-1!==n.title.indexOf("Chevrolet")?n.style="chevy":-1!==n.title.indexOf("GMC")&&(n.style="gmc"),n.questionsAnswers.feedback.correct=$(o).find("correct").text(),n.questionsAnswers.feedback.incorrect=$(o).find("incorrect").text(),$(o).find("question").each(function(){var e=$(this),t={TYPE:e.attr("type"),CHARACTERISTIC:e.find("characteristic").text(),REQUIRED:e.attr("required"),ANSWERED:e.attr("answered"),PASSED:e.attr("passed"),SCORE:0,IMAGE:e.find("imgSrc").text(),CRITERION:e.find("criterion").text(),HASFILTERS:e.find("filters").attr("hasFilters"),filters:[],question:{questionTitle:e.find("questionTitle").text(),questionBody:e.find("questionBody").text()}};$(this).find("filter").each(function(){var e=$(this),a={type:e.attr("type"),filter:e.text(),compare:e.attr("compare"),value:e.attr("value")};t.filters.push(a)}),n.questionsAnswers.questions.push(t)}),$(o).find("answer").each(function(){var e=$(this),t={correct:e.attr("correct"),img:e.find("modelImgSrc").text(),brand:e.find("brand").text(),base:e.find("base").text(),model:e.find("model").text(),attributes:e.find("attributes").text(),mpg:e.find("mpg").text(),rearLegRoom:e.find("rearLegRoom").text(),cargoVol:e.find("cargoVol").text(),basePrice:e.find("basePrice").text(),horsePower:e.find("horsePower").text(),driveLine:e.find("driveLine").text(),interiorHeadRoom:e.find("interiorHeadRoom").text(),doors:e.find("doors").text(),color:e.find("color").text(),engineType:e.find("engineType").text(),heatedSeats:e.find("heatedSeats").text(),sunroof:e.find("sunroof").text(),heatedWheel:e.find("heatedWheel").text(),remoteStart:e.find("remoteStart").text(),connectedNavigation:e.find("connectedNavigation").text(),thirdRowSeating:e.find("thirdRowSeating").text(),i4:e.find("i4").text(),v6:e.find("v6").text(),dr4:e.find("dr4").text(),dr2:e.find("dr2").text()};n.questionsAnswers.answers.push(t)}),a.assessmentData.assessments.push(n)}localStorage.setItem(LOCAL_COURSE_DATA_ID,JSON.stringify(a))}}function launchAssessment(e,t){startBtn=t;var a=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID)),s=e;a.assessmentData.assessments[s].questionsAnswers.questions.length,a.assessmentData.assessments[s].currentQuestionIndex,a.assessmentData.assessments[s].completed;a.assessmentData.assessments[s].score=0,0===s?($("#modalContainer .assessment-container").append("<img class='exitBtn' alt='exit button' src='dir/media/img/assets/game/exitBtn.jpg'><div class='selection-screen row'></div>"),$("#modalContainer .selection-screen").append("<div class='col-md-12'><p>Think you know your lineup? Let’s see whether you can find the best vehicle for the customer.</p><p>First, select the brand you want to view. We’ll give you 10 questions that includes two customer requests. You’ll be given a choice between two vehicles. The vehicles could be different models or the same model at different trim levels. Select the vehicle that best suits your customer’s needs.</p><p>Think fast! After you read the question, a 10 second timer will start! You’ll get 10 points for each correct answer, and bonus points for how quickly you answer. There are 1,000 total points possible. See if you can get them all!</p><p>When you're ready, choose a brand and click <span class='bolded'>Let's Play</span> and get started.</p></div>"),$("#modalContainer .selection-screen").append("<div class='col-md-4'><button class='d-block mx-auto btn-game buick'><img class='img-fluid' src='dir/media/img/assets/game/game_branch_buick.jpg' alt=''></button></div>"),$("#modalContainer .selection-screen").append("<div class='col-md-4'><button class='d-block mx-auto  btn-game gmc'><img class='img-fluid' src='dir/media/img/assets/game/game_branch_gmc.jpg' alt=''></button></div>"),$("#modalContainer .selection-screen").append("<div class='col-md-4'><button class='d-block mx-auto  btn-game chevy'><img class='img-fluid' src='dir/media/img/assets/game/game_branch_chevy.jpg' alt=''></button></div>"),$("#modalContainer .btn-game.buick").click(function(){$(".selection-screen").remove(),openIntroScreen(0)}),$("#modalContainer .btn-game.gmc").click(function(){$(".selection-screen").remove(),openIntroScreen(1)}),$("#modalContainer .btn-game.chevy").click(function(){$(".selection-screen").remove(),openIntroScreen(2)}),$("#assessmentModal .assessment-container .exitBtn").click(function(){clearInterval(window.timingInterval),$(".modal").modal("hide")})):openIntroScreen(3)}function openIntroScreen(e){clearPreviousScore(e);var t=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID)),a=e,s=t.assessmentData.assessments[a].style;"true"!==t.assessmentData.assessments[a].completed?(t.assessmentData.assessments[a].questionsAnswers.questions=shuffle(t.assessmentData.assessments[a].questionsAnswers.questions),localStorage.setItem(LOCAL_COURSE_DATA_ID,JSON.stringify(t)),$("#modalContainer .assessment-container").append("<img class='backBtn'  src='dir/media/img/assets/game/backBtn.jpg' alt='back'><div class='intro-screen "+s+"'></div>"),$("#modalContainer .intro-screen").append(t.assessmentData.assessments[a].introText),$("#modalContainer .intro-screen").append("<button class='btn-start'>NEXT</button>"),$("#assessmentModal .assessment-container .backBtn").click(function(){$("#assessmentModal .assessment-container").empty(),clearInterval(window.timingInterval),launchAssessment(0,null)}),$("#modalContainer .btn-start").click(function(){$(".intro-screen").remove(),startAssessment(a)})):retryChoice(a)}function startAssessment(e){var t=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID)),a=e,s=t.assessmentData.assessments[a].style,o=t.assessmentData.QUESTIONS_GIVEN,n=t.assessmentData.assessments[a].currentQuestionIndex,r=n+1,i=(t.assessmentData.assessments[a].questionsAnswers.questions[n].question.questionTitle,t.assessmentData.assessments[a].questionsAnswers.questions[n].question.questionBody),l=t.assessmentData.assessments[a].questionsAnswers.questions[n].HASFILTERS,d=t.assessmentData.assessments[a].questionsAnswers.questions[n].filters,c=(shuffle(t.assessmentData.assessments[a].questionsAnswers.answers),t.assessmentData.assessments[a].questionsAnswers.answers);if("true"==l)for(var p=0;p<d.length;p++){var u=d[p].type;"attribute"==u?c=filterAnswersAttribute(a,d[p],c):"characteristic"==u&&(c=filterAnswersCharacteristic(a,d[p],c))}t.assessmentData.assessments[a].questionsAnswers.answersFiltered=c;var m,h=t.assessmentData.assessments[a].score,g=0,f=t.assessmentData.assessments[a].questionsAnswers.questions[n].CRITERION,v=t.assessmentData.assessments[a].questionsAnswers.questions[n].TYPE;if("attribute"==v)sameAnswerCheck(a,c,f);else if("characteristic"==v){var _=t.assessmentData.assessments[a].questionsAnswers.questions[n].CHARACTERISTIC;orderAnswers(a,c,f,_)}$("#modalContainer .assessment-container").append("<div class='assessment-content "+s+" row'></div>"),$("#modalContainer .assessment-content").append("<h3 class='assessment-total'>"+h+" Total Points"),$("#modalContainer .assessment-content").append("<h3>Question "+r+" of "+o+"<span> 10 seconds</span>"),$("#modalContainer .assessment-content").append("<p>"+i+"</p>"),$("#modalContainer .assessment-content").append("<div class='row mx-auto answers clearfix'></div>");for(p=0;p<2;p++)$("#modalContainer .answers").append("<div class='col-md-6 answer-container initial btn"+p+"'><div class='unselected-box'></div><div class='border-box'><img class='img-fluid' src='"+c[p].img+"'/><div class='brand-model-attr clearfix'><p class='brand'>"+c[p].brand+"</p><p class='model'>"+c[p].model+"&nbsp</p><p class='attr'>"+c[p].attributes+"</p></div><div class='selected-bar'></div></div></div>");$("#modalContainer .assessment-content").append("<button class='btn-submit-answer'>SUBMIT</button>");for(p=0;p<$("#modalContainer .answer-container").length;p++)$($("#modalContainer .answer-container")[p]).click({questionIndex:n,answerIndex:p},b);function b(e){m=e.data.questionIndex,e.data.answerIndex,$("#modalContainer .answer-container").each(function(){$(this).hasClass("initial")&&($(this).removeClass("initial"),$(this).addClass("unselected"))}),$(this).hasClass("selected")?($(this).removeClass("selected"),$(this).addClass("unselected")):($(this).addClass("selected"),$(this).removeClass("unselected"),$(this).siblings().removeClass("selected"),$(this).siblings().addClass("unselected"))}$("#modalContainer .btn-submit-answer").click(function(){var e=!1;if($("#modalContainer .answer-container").each(function(){$(this).hasClass("selected")&&(e=!0)}),!1===e){$("#modalContainer .btn-submit-answer").addClass("d-none"),$("#modalContainer .assessment-content").append("<div class='feedback-container'><p>Please select an answer.</p><div class=''><button class='btn-ok'>OK</button></div></div>"),$("#modalContainer .btn-ok").click(function(){$("#modalContainer .btn-submit-answer").removeClass("d-none"),$("#modalContainer .feedback-container").remove()})}else{clearInterval(window.timingInterval),$("#modalContainer .answer-container").off(),$("#modalContainer .btn-submit-answer").addClass("d-none");var s=t.assessmentData.assessments[a].questionsAnswers.questions[m].CRITERION,r=t.assessmentData.assessments[a].questionsAnswers.questions[m].CHARACTERISTIC,i=t.assessmentData.assessments[a].questionsAnswers.questions[m].TYPE;t.assessmentData.assessments[a].questionsAnswers.questions[m].ANSWERED="true";for(var l,d,c,p=!1,u=[],h=[],f=0;f<$("#modalContainer .answer-container").length;f++)$($("#modalContainer .answer-container")[f]).hasClass("selected")?(u.push(t.assessmentData.assessments[a].questionsAnswers.answersFiltered[f]),h.push($("#modalContainer .answer-container")[f])):$($("#modalContainer .answer-container")[f]).hasClass("unselected")&&(l=t.assessmentData.assessments[a].questionsAnswers.answersFiltered[f],d=$("#modalContainer .answer-container")[f]);var v="",_="",b="",C="",D="",S="";if("attribute"==i)"cargoVol"===s?(c="cu. ft of Cargo Room",b=l.model,C=u[0].model,S=u[0].cargoVol,D=l.cargoVol,parseFloat(u[0].cargoVol)>parseFloat(l.cargoVol)&&(p=!0,b=u[0].model,C=l.model,S=l.cargoVol,D=u[0].cargoVol)):"interiorHeadRoom"===s?(c="in of Headroom",b=l.model,C=u[0].model,S=u[0].mpg,D=l.mpg,parseFloat(u[0].mpg)>l.mpg&&(p=!0,b=u[0].model,C=l.model,S=l.mpg,D=u[0].mpg)):"mpg"===s?(c="mpg",b=l.model,C=u[0].model,S=u[0].mpg,D=l.mpg,parseFloat(u[0].mpg)>l.mpg&&(p=!0,b=u[0].model,C=l.model,S=l.mpg,D=u[0].mpg)):"rearLegRoom"===s?(c="in of Rear Leg Room",b=l.model,C=u[0].model,S=u[0].rearLegRoom,D=l.rearLegRoom,parseFloat(u[0].rearLegRoom)>l.rearLegRoom&&(p=!0,b=u[0].model,C=l.model,S=l.rearLegRoom,D=u[0].rearLegRoom)):"horsePower"===s?(c="horsepower",b=l.model,C=u[0].model,S=u[0].horsePower,D=l.horsePower,parseFloat(u[0].horsePower)>l.horsePower&&(p=!0,b=u[0].model,C=l.model,S=l.horsePower,D=u[0].horsePower)):"basePrice"===s&&(c="Base Price",b=l.model,C=u[0].model,S=u[0].basePrice.toLocaleString(),D=l.basePrice.toLocaleString(),parseFloat(u[0].basePrice)<parseFloat(l.basePrice)&&(p=!0,b=u[0].model,C=l.model,S=l.basePrice.toLocaleString(),D=u[0].basePrice.toLocaleString())),_="The <span class='bolded'>"+C+"</span> has <span class='bolded'>"+S+"</span> <span class='bolded'>"+c+"</span>",v="The <span class='bolded'>"+b+"</span> has <span class='bolded'>"+D+"</span> <span class='bolded'>"+c+"</span>","basePrice"===s&&(_="The <span class='bolded'>"+C+"</span> has <span class='bolded'>$"+S+"</span> <span class='bolded'>"+c+"</span>",v="The <span class='bolded'>"+b+"</span> has <span class='bolded'>$"+D+"</span> <span class='bolded'>"+c+"</span>");else if("characteristic"==i){var A=t.assessmentData.assessments[a].questionsAnswers.questions[m].CHARACTERISTIC;"brand"===s?(c="Brand",b=l.model,C=u[0].model,u[0].brand==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> isn't a <span>"+r+"</span>",v="The <span class='bolded'>"+b+"</span> is a <span>"+r+"</span>"):"color"===s?(c="Color",b=l.model,C=u[0].model,u[0].color==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> isn't <span>"+r+"</span>",v="The <span class='bolded'>"+b+"</span> is <span>"+r+"</span>"):"engineType"===s?(c="Engine",b=l.model,C=u[0].model,u[0].color==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> doesn't have a <span>"+r+"</span>",v="The <span class='bolded'>"+b+"</span> has a <span>"+r+"</span>"):"sunroof"===s?(c="sunroof or moonroof",b=l.model,C=u[0].model,u[0].sunroof==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> doesn't offer a <span class='bolded'>"+c+"</span>",v="The <span class='bolded'>"+b+"</span> offers a <span class='bolded'>"+c+"</span>"):"heatedSeats"===s?(c="heated seats",b=l.model,C=u[0].model,u[0].heatedSeats==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> doesn't offer <span class='bolded'>"+c+"</span>",v="The <span class='bolded'>"+b+"</span> offers <span class='bolded'>"+c+"</span>"):"heatedWheel"===s?(c="heated wheel",b=l.model,C=u[0].model,u[0].heatedWheel==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> doesn't offer a <span class='bolded'>"+c+"</span>",v="The <span class='bolded'>"+b+"</span> offers a <span class='bolded'>"+c+"</span>"):"remoteStart"===s?(c="remote start",b=l.model,C=u[0].model,u[0].remoteStart==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> doesn't offer <span class='bolded'>"+c+"</span>",v="The <span class='bolded'>"+b+"</span> has <span class='bolded'>"+c+"</span>"):"connectedNavigation"===s?(c="connected navigation",b=l.model,C=u[0].model,u[0].connectedNavigation==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> doesn't offer <span class='bolded'>"+c+"</span>",v="The <span class='bolded'>"+b+"</span> offers <span class='bolded'>"+c+"</span>"):"thirdRowSeating"===s?(c="third row seating",b=l.model,C=u[0].model,u[0].thirdRowSeating==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> doesn't offer <span class='bolded'>"+c+"</span>",v="The <span class='bolded'>"+b+"</span> offers <span class='bolded'>"+c+"</span>"):"driveLine"===s?(c="Driveline",b=l.model,C=u[0].model,u[0].driveLine==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> doesn't offer <span class='bolded'>"+c+"</span>",v="The <span class='bolded'>"+b+"</span> offers <span class='bolded'>"+c+"</span>"):"i4"===s?(c="I4",b=l.model,C=u[0].model,u[0].i4==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> doesn't offer <span class='bolded'>"+c+"</span>",v="The <span class='bolded'>"+b+"</span> offers <span class='bolded'>"+c+"</span>"):"v6"===s?(c="V-6",b=l.model,C=u[0].model,u[0].v6==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> doesn't offer a <span class='bolded'>"+c+"</span>",v="The <span class='bolded'>"+b+"</span> offers a <span class='bolded'>"+c+"</span>"):"d24"===s?(c="Four Doors",b=l.model,C=u[0].model,u[0].d24==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> doesn't offer <span class='bolded'>"+c+"</span>",v="The <span class='bolded'>"+b+"</span> offer <span class='bolded'>"+c+"</span>"):"dr2"===s&&(c="Two Doors",b=l.model,C=u[0].model,u[0].dr2==A&&(p=!0,b=u[0].model,C=l.model),_="The <span class='bolded'>"+C+"</span> doesn't offer <span class='bolded'>"+c+"</span>",v="The <span class='bolded'>"+b+"</span> offer <span class='bolded'>"+c+"</span>")}if(p){var O=t.assessmentData.assessments[a].questionsAnswers.feedback.correct;t.assessmentData.assessments[a].questionsAnswers.questions[m].PASSED="true",localStorage.setItem(LOCAL_COURSE_DATA_ID,JSON.stringify(t));var E=17.5-g;E>10?E=10:E<1&&(E=1);var k=100;E<=10&&(k=Math.round(10*E)),t.assessmentData.assessments[a].questionsAnswers.questions[m].SCORE=k,t.assessmentData.assessments[a].score+=k;for(var f=0;f<h.length;f++)$(h[f]).append("<div class='viewed-overlay'><img src='dir/media/img/icon_viewed.png'></div>");var w=t.assessmentData.assessments[a].questionsAnswers.answersFiltered[0].model;w==b?$("#modalContainer .assessment-content").append("<div class='feedback-container'><p class='feedback-details'>"+v+"</p><p class='feedback-details'>"+_+"</p><p>"+O+" +"+k+" points</p><button class='btn-ok'>GO</button></div>"):$("#modalContainer .assessment-content").append("<div class='feedback-container'><p class='feedback-details'>"+_+"</p><p class='feedback-details'>"+v+"</p><p>"+O+" +"+k+" points</p><button class='btn-ok'>GO</button></div>"),$("#modalContainer .btn-ok").click(function(){t.assessmentData.assessments[a].currentQuestionIndex+=1,localStorage.setItem(LOCAL_COURSE_DATA_ID,JSON.stringify(t)),$("#modalContainer .assessment-content").remove(),n===o-1?(t.assessmentData.assessments[a].completed="true",localStorage.setItem(LOCAL_COURSE_DATA_ID,JSON.stringify(t)),endAssessment(a)):startAssessment(a)})}else{$(d).append("<div class='viewed-overlay'><img src='dir/media/img/icon_viewed.png'></div>");var O=t.assessmentData.assessments[a].questionsAnswers.feedback.incorrect;m=void 0,void 0;var w=t.assessmentData.assessments[a].questionsAnswers.answersFiltered[0].model;w==b?$("#modalContainer .assessment-content").append("<div class='feedback-container'><p class='feedback-details'>"+v+"</p><p class='feedback-details'>"+_+"</p><p>"+O+" +0 points</p><button class='btn-ok'>GO</button></div>"):$("#modalContainer .assessment-content").append("<div class='feedback-container'><p class='feedback-details'>"+_+"</p><p class='feedback-details'>"+v+"</p><p>"+O+" +0 points</p><button class='btn-ok'>GO</button></div>"),$("#modalContainer .btn-ok").click(function(){t.assessmentData.assessments[a].currentQuestionIndex+=1,localStorage.setItem(LOCAL_COURSE_DATA_ID,JSON.stringify(t)),$("#modalContainer .assessment-content").remove(),n===o-1?(t.assessmentData.assessments[a].completed="true",localStorage.setItem(LOCAL_COURSE_DATA_ID,JSON.stringify(t)),endAssessment(a)):startAssessment(a)})}}}),window.timingInterval=setInterval(function(){if((e=(17.5-(g+=.1)).toFixed(1))>=0&&e<=10){var e=Math.abs(e);$("#modalContainer .assessment-content h3 span").html("<span> "+e+" seconds</span>")}},100)}function endAssessment(e){void 0!==startBtn&&$("#startBtn").attr("src","dir/media/img/assets/game/completeBtn.png");for(var t=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID)),a=t.assessmentData.assessments[e].style,s=0,o=0,n=t.assessmentData.assessments[e].score,r="",i=0;i<t.assessmentData.assessments[e].questionsAnswers.questions.length;i++)"true"===t.assessmentData.assessments[e].questionsAnswers.questions[i].PASSED&&(s+=1),t.assessmentData.assessments[e].questionsAnswers.questions[i].PASSED="false";switch(o=10*s/t.assessmentData.QUESTIONS_GIVEN,o=parseFloat(o.toFixed(0)),$("#modalContainer .assessment-container").append("<div class='finish-screen "+a+"'></div>"),$("#modalContainer .finish-screen").append("<h3>Congratulations!</h3>"),r="You answered <span class='bolded'>",r+=s,r+="</span> questions correctly. ",r+="For a score of <span class='bolded'>",r+=n,r+="</span> points. ",o){case 0:case 1:case 2:case 3:case 4:r+="You can do better! Go ahead, try again!";break;case 5:case 6:r+="You’re on the right track. Keep practicing!";break;case 7:case 8:r+="You’re on your way to stardom. Keep going!";break;case 9:case 10:r+="You’re a rock star! You really know the basic differences in the vehicles in your product line. Nice job!"}$("#modalContainer .finish-screen").append("<p>Let’s find out how well you did.</p>"),$("#modalContainer .finish-screen").append("<p>"+r+"</p>"),$("#modalContainer .finish-screen").append("<pNo matter how well you did, there’s always the chance for improvement. See whether you can beat your score! You can do it! Come on, give it another shot!</p>"),$("#modalContainer .finish-screen").append("<p>Click <span class='bolded'>PLAY AGAIN</span> if you want to play again, or <span class='bolded'>CLOSE</span> to exit.</p>"),$("#modalContainer .finish-screen").append("<button class='btn-play-again'>PLAY AGAIN</button>"),$("#modalContainer .finish-screen").append("<button class='btn-close'>CLOSE</button>"),$("#modalContainer .btn-close").click(function(){$(".modal").modal("hide")}),$("#modalContainer .btn-play-again").click(function(){$("#modalContainer .finish-screen").remove(),t.assessmentData.assessments[e].currentQuestionIndex=0,t.assessmentData.assessments[e].score=0;for(var a=0;a<t.assessmentData.assessments[e].questionsAnswers.questions.length;a++)t.assessmentData.assessments[e].questionsAnswers.questions[a].ANSWERED=!1,t.assessmentData.assessments[e].questionsAnswers.questions[a].SCORE=0;localStorage.setItem(LOCAL_COURSE_DATA_ID,JSON.stringify(t)),launchAssessment(0,void 0)})}function retryChoice(e){var t=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID)),a=e,s=t.assessmentData.assessments[a].style;$("#modalContainer .assessment-container").append("<div class='retry-container "+s+"'></div>"),$("#modalContainer .retry-container").append("<h3>Try again?</h3>"),$("#modalContainer .retry-container").append("<p>You have already completed the game. Would you like to play it again?</p>"),$("#modalContainer .retry-container").append("<button class='btn-try-again'>PLAY AGAIN</button>"),$("#modalContainer .retry-container").append("<button class='btn-close'>CLOSE</button>"),$("#modalContainer .btn-close").click(function(){$(".modal").modal("hide")}),$("#modalContainer .btn-try-again").click(function(){$("#modalContainer .retry-container").remove(),t.assessmentData.assessments[a].currentQuestionIndex=0,t.assessmentData.assessments[a].score=0;for(var e=0;e<t.assessmentData.assessments[a].questionsAnswers.questions.length;e++)t.assessmentData.assessments[a].questionsAnswers.questions[e].ANSWERED=!1,t.assessmentData.assessments[a].questionsAnswers.questions[e].SCORE=0;t.assessmentData.assessments[a].completed="false",localStorage.setItem(LOCAL_COURSE_DATA_ID,JSON.stringify(t)),openIntroScreen(a)})}function shuffle(e){for(var t,a,s=e.length;0!==s;)a=Math.floor(Math.random()*s),t=e[s-=1],e[s]=e[a],e[a]=t;return e}function filterAnswersAttribute(activeAssessment,filterParam,answersFilteredParam){var filter=filterParam.filter,value=filterParam.value,comparison=filterParam.compare,operator="",answersFiltered=[];"minimum"==comparison?operator=">=":"maximum"==comparison?operator="<=":"equals"==comparison&&(operator="==");for(var i=0;i<answersFilteredParam.length;i++)eval(answersFilteredParam[i][filter]+operator+value)&&answersFiltered.push(answersFilteredParam[i]);return answersFiltered}function filterAnswersCharacteristic(e,t,a){for(var s=!0,o=t.filter,n=t.value,r=[],i=0;i<a.length;i++)s=!0,a[i][o]!=n&&(s=!1),s&&r.push(a[i]);return r}function sameAnswerCheck(e,t,a){var s=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));s.assessmentData.assessments[e].currentQuestionIndex;t[0][a]==t[1][a]&&(t=shuffle(t),s.assessmentData.assessments[e].questionsAnswers.answersFiltered=t,sameAnswerCheck(e,t,a))}function orderAnswers(e,t,a,s){var o=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID)),n=(o.assessmentData.assessments[e].currentQuestionIndex,t[0][a]),r=t[1][a];if(n!=s&&r!=s||n==r)if(n==s)for(var i=0;i<t.length;i++){if(t[i][a]!=s){var l=t[0];t[0]=t[i],t[i]=l;break}}else for(i=0;i<t.length;i++){if(t[i][a]==s){l=t[1];t[1]=t[i],t[i]=l;break}}else;o.assessmentData.assessments[e].questionsAnswers.answersFiltered=t}function clearPreviousScore(e){clearInterval(window.timingInterval);var t=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID)),a=t.assessmentData.assessments[e].questionsAnswers.questions.length;t.assessmentData.assessments[e].currentQuestionIndex=0,t.assessmentData.assessments[e].score=0;for(var s=0;s<a;s++)t.assessmentData.assessments[e].questionsAnswers.questions[s].SCORE=0;localStorage.setItem(LOCAL_COURSE_DATA_ID,JSON.stringify(t))}__webpack_require__.d(__webpack_exports__,"a",function(){return initAssessments}),__webpack_require__.d(__webpack_exports__,"b",function(){return launchAssessment})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return initInterface});var _content_functions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_components_modal_functions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_tracking_functions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),LOCAL_COURSE_DATA_ID,courseData,cookieName,totalPages,currentChapter,currentPage,activePageCount,pageIsLoading;function initInterface(e){LOCAL_COURSE_DATA_ID=e,courseData=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));document.title=courseData.TITLE,cookieName=courseData.COOKIE_NAME,totalPages=0,currentChapter=1,currentPage=1,_tracking_functions__WEBPACK_IMPORTED_MODULE_2__.e(cookieName);var t=_tracking_functions__WEBPACK_IMPORTED_MODULE_2__.a();t&&""!=t&&t.indexOf("_")&&(isNaN(parseInt(t.split("_")[0],10))||(currentChapter=parseInt(t.split("_")[0],10)),isNaN(parseInt(t.split("_")[1],10))||(currentPage=parseInt(t.split("_")[1],10))),"true"===courseData.HAS_SPLASH_PAGE&&1===currentChapter&&1===currentPage&&_components_modal_functions__WEBPACK_IMPORTED_MODULE_1__.c(LOCAL_COURSE_DATA_ID,"splashPage"),buildShellUI(),enforcedShow($("#mainContainer")),loadPage()}function enforcedShow(e){e.show(),e.hasClass("hidden")&&e.removeClass("hidden")}function buildShellUI(){"top"===courseData.MENU_PLACEMENT?buildTopNav():"left"===courseData.MENU_PLACEMENT?buildLeftNav():"tab"===courseData.MENU_PLACEMENT?buildTabNav():buildNoneNav()}function buildTopNav(){var navMarkup="";$.get("src/components/navigation/nav.html",function(data){navMarkup=data,$("#navContainer").append(navMarkup),$("#titleMain").html(courseData.TITLE+":"),$("#titleMainMobile").html(courseData.TITLE+":"),$("#subTitle").html(courseData.SUB_TITLE),$("#subTitleMobile").html(courseData.SUB_TITLE);for(var mobileNav="",i=0;i<courseData.chapters.length;i++){var mobileMenuButton="";if(courseData.chapters[i].pages.length>1){mobileMenuButton='<li id="courseTitleChapter'+i+'" class="courseTitleChapter dropdown"><div class="dropdown-link-wrapper" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><p class="nav-link" >'+courseData.chapters[i].title+'</p></div><ul class="dropdown-menu">';for(var j=0;j<courseData.chapters[i].pages.length;j++)mobileMenuButton=mobileMenuButton+'<li onclick = "openPage('+eval(i+1)+","+eval(j+1)+')"><p>'+courseData.chapters[i].pages[j].title+"</p></li>";mobileMenuButton+="</ul></li>"}else mobileMenuButton='<li class="courseTitleChapter" id="courseTitleChapter'+i+'" onclick="openPage('+eval(i+1)+',1)"><p class="nav-link">'+courseData.chapters[i].title+"</p></li>";mobileNav+=mobileMenuButton}$("#navbarMobile").append(mobileNav);var headerLinks="";if("true"===courseData.HAS_RESOURCES){var headerLinkEl='<li><a id="btnResources" href="#" target="">RESOURCES</a></li>';headerLinks+=headerLinkEl}if("true"===courseData.HAS_GLOSSARY){var headerLinkEl='<li><a id="btnGlossary" href="#" target="">GLOSSARY</a></li>';headerLinks+=headerLinkEl}if("true"===courseData.HAS_HELP){var headerLinkEl='<li><a id="btnHelpModal" href="#" target="">?</a></li>';headerLinks+=headerLinkEl}$("#headerLinks").append(headerLinks);for(var bottomNav='<div class="container"><div id="navbarBottomCollapse" class="navbar-collapse collapse"><ul id="nav-items-bottom-row" class="nav nav-justified">',i=0;i<courseData.chapters.length;i++){var menuButton="";if(courseData.chapters[i].pages.length>1){menuButton='<li class="dropdown"><button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">'+courseData.chapters[i].title+'<span class="caret"></span></button><ul class="dropdown-menu">';for(var k=0;k<courseData.chapters[i].pages.length;k++)menuButton=menuButton+'<li><a href="javascript:openPage('+i+","+k+')">'+courseData.chapters[i].pages[k].title+"</a></li>";menuButton+="</ul></li>"}else menuButton='<li class="courseTitleChapter" id="courseTitleChapter'+i+'" onclick="openPage('+i+',0)">'+courseData.chapters[i].title+"</li>";bottomNav+=menuButton,"tab"===courseData.MENU_STYLE&&"top"===courseData.MENU_PLACEMENT?($("#navbarMain").addClass("tabbed"),$(".navbar .container").addClass("navbar-expand-md")):$("#navbarMain").addClass("default")}bottomNav+="</ul></div></div>",$("#navbarMain").on("hidden.bs.collapse",function(){calculateHeight()}),$("#navbarBottom").append(bottomNav),"true"==courseData.HAS_MENU_LOGO&&$("#navbar .navbar-brand").append('<img src="'+courseData.THEME_PATH+'/img/logo.png" alt="logo">'),$("#btnGlossary").click(function(){_components_modal_functions__WEBPACK_IMPORTED_MODULE_1__.c(LOCAL_COURSE_DATA_ID,"glossary")}),$("#btnHelpModal").click(function(){_components_modal_functions__WEBPACK_IMPORTED_MODULE_1__.c(LOCAL_COURSE_DATA_ID,"help")}),$("#btnResources").click(function(){_components_modal_functions__WEBPACK_IMPORTED_MODULE_1__.c(LOCAL_COURSE_DATA_ID,"resources")}),updateNavigation()});var notSelectedClass="menuItemNotSelected"}function buildLeftNav(){var navMarkup="";$.get("src/components/navigation/navLeft.html",function(data){navMarkup=data,$("#navContainer").append(navMarkup),$("#titleMain").html(courseData.TITLE+":"),$("#titleMainMobile").html(courseData.TITLE),$("#subTitle").html(courseData.SUB_TITLE),$("#subTitleMobile").html(courseData.SUB_TITLE);for(var mobileNav="",i=0;i<courseData.chapters.length;i++){var mobileMenuButton="";if(courseData.chapters[i].pages.length>1){mobileMenuButton='<li id="courseTitleChapter'+i+'" class="courseTitleChapter dropdown"><p class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">'+courseData.chapters[i].title+'</p><ul class="dropdown-menu">';for(var j=0;j<courseData.chapters[i].pages.length;j++)mobileMenuButton=mobileMenuButton+'<li onclick = "openPage('+eval(i+1)+","+eval(j+1)+')"><p>'+courseData.chapters[i].pages[j].title+"</p></li>";mobileMenuButton+="</ul></li>"}else mobileMenuButton='<li class="courseTitleChapter" id="courseTitleChapter'+i+'" onclick="openPage('+eval(i+1)+',1)"><p>'+courseData.chapters[i].title+"</p></li>";mobileNav+=mobileMenuButton}var headerLinks="";if("true"===courseData.HAS_RESOURCES){var headerLinkEl='<li><a id="btnResources" href="#" target="">RESOURCES</a></li>';headerLinks+=headerLinkEl}if("true"===courseData.HAS_GLOSSARY){var headerLinkEl='<li><a id="btnGlossary" href="#" target="">GLOSSARY</a></li>';headerLinks+=headerLinkEl}if("true"===courseData.HAS_HELP){var headerLinkEl='<li><a id="btnHelpModal" href="#" target="">?</a></li>';headerLinks+=headerLinkEl}$("#headerLinks").append(headerLinks),$("#navbarMobile").append(mobileNav),"true"==courseData.HAS_MENU_LOGO&&$("#navbar .navbar-brand").append('<img src="'+courseData.THEME_PATH+'/img/logo.png" alt="logo">'),$("#navbarMain").addClass("default"),$("#navbarMain").on("hidden.bs.collapse",function(){calculateHeight()}),loadInterfaceStyles()});var notSelectedClass="menuItemNotSelected"}function leftNav(){$(".navbar-fixed-left #navbarMain").toggleClass("toggled")}function buildNoneNav(){loadInterfaceStyles()}function updateNavigation(){var courseData=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID)),notSelectedClass="menuItemNotSelected";activePageCount=0;for(var locked=!1,singlePage=!1,previousLocks=!1,i=0;i<courseData.chapters.length;i++){singlePage=!1,"false"==courseData.chapters[i].isActive?$("#chapter"+i).hide():$("#chapter"+i).show();for(var completeCount=0,j=0;j<courseData.chapters[i].pages.length;j++)activePageCount+=1,courseData.chapters[i].pages.length>1&&(singlePage=!0),checkLock(eval(i+1),eval(j+1))?($("#courseTitleChapter"+i+" .nav-link").removeClass("courseTitleGated"),$("#courseTitleChapter"+i+" .dropdown-menu li p").eq(j).removeClass("courseTitleGatedPage")):j>0?($("#courseTitleChapter"+i+" .dropdown-menu li p").eq(j).addClass("courseTitleGatedPage"),previousLocks=!0):($("#courseTitleChapter"+i+" .nav-link").addClass("courseTitleGated"),previousLocks&&$("#courseTitleChapter"+i+" .dropdown-menu li p").addClass("courseTitleGatedPage"),previousLocks=!0);courseData.chapters[i].pages.length==$("#courseTitleChapter"+i+" .dropdown-menu li .courseTitleGatedPage").length&&$("#courseTitleChapter"+i+" .nav-link").addClass("courseTitleGated"),completeCount==courseData.chapters[i].pages.length&&$("#chapter"+i).removeClass("chapterIncomplete").addClass("chapterComplete")}$("#mi"+currentChapter+"_"+currentPage).removeClass("menuItemNotSelected").removeClass("menuItemNotActive").removeClass("menuItemVisited").addClass("menuItemSelected"),1==currentPage&&1==currentChapter?($("#prevBtn").hide(),$("#nextBtn").show()):currentChapter==courseData.chapters.length&&currentPage==courseData.chapters[currentChapter-1].pages.length?($("#prevBtn").show(),$("#nextBtn").hide()):($("#prevBtn").show(),$("#nextBtn").show()),courseData.chapters[currentChapter-1].pages[currentPage-1].gated&&-1!=courseData.chapters[currentChapter-1].pages[currentPage-1].locks.toString().indexOf("0")&&$("#nextBtn").hide(),$("#navbarMobile .courseTitleChapter").eq(currentChapter-1).addClass("courseTitleChapterSelected")}function activateChapter(e,t,a){for(var s=0;s<e.length;s++)courseData.chapters[e[s]].isActive="true";for(var o=0;o<t.length;o++)courseData.chapters[t[o]].isActive="false";-1!=a&&(courseData.chapters[e[0]].titleIndex=a,$("#chapter"+e[0]).html(chapters[e[0]].title.split(";")[a])),updateNavigation()}function checkLock(e,t){for(var a=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID)),s=0;s<e;s++)for(var o=0;o<a.chapters[s].pages.length&&(s!=e-1||o!=t-1);o++)if(a.chapters[s].pages[o].gated&&-1!=a.chapters[s].pages[o].locks.toString().indexOf("0")&&"true"==a.chapters[s].isActive)return!1;return!0}function openLock(e,t,a){var s=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));a>=s.chapters[e-1].pages[t-1].locks.length||(s.chapters[e-1].pages[t-1].locks[a]=1,localStorage.setItem(LOCAL_COURSE_DATA_ID,JSON.stringify(s)),updateNavigation())}function openPage(e,t){checkLock(e,t)&&(currentChapter=e,currentPage=t,loadPage())}function nextPage(){if(!pageIsLoading&&(pageIsLoading=!0,courseData.chapters[currentChapter-1].pages[currentPage-1].count!=activePageCount))if(currentPage<courseData.chapters[currentChapter-1].pages.length){if(!checkLock(currentChapter,currentPage+1))return void(pageIsLoading=!1);currentPage++,loadPage()}else{if(!checkLock(currentChapter+1,1))return void(pageIsLoading=!1);do{currentChapter++}while("false"==courseData.chapters[currentChapter-1].isActive);currentPage=1,loadPage()}}function prevPage(){if(1!=courseData.chapters[currentChapter-1].pages[currentPage-1].count)if(currentPage-1!=0)currentPage--,loadPage();else{do{currentChapter--}while("false"==courseData.chapters[currentChapter-1].isActive);currentPage=courseData.chapters[currentChapter-1].pages.length,loadPage()}}function startAudio(e){document.getElementById("pagePlayer").src="media/audio/"+e,document.getElementById("pagePlayer").load(),document.getElementById("pagePlayer").play(),$("#playBtn").hide(),$("#pauseBtn").show()}function stopAudio(){document.getElementById("pagePlayer").pause(),$("#playBtn").show(),$("#pauseBtn").hide()}function playAudio(){document.getElementById("pagePlayer").play(),$("#playBtn").hide(),$("#pauseBtn").show()}function changeVolume(e){volume=e/100,$("video").prop("volume",volume),$("audio").prop("volume",volume);try{var t=document.getElementById("contentFrame");t.contentWindow?t.contentWindow.changeVolume(volume):t.contentDocument&&t.contentDocument.changeVolume(volume)}catch(e){}}function muteAudio(){$("#volumeSlider").toggle()}function unmuteAudio(){$("#volumeSlider").toggle()}function getFooterNav(){if(currentChapter==courseData.chapters.length&&currentPage==courseData.chapters[currentChapter-1].pages.length)var e=!0;else if(currentPage<courseData.chapters[currentChapter-1].pages.length)e=!checkLock(currentChapter,currentPage+1);else e=!checkLock(currentChapter+1,1);var t='<span><img src="dir/media/img/btn_play_pause_inactive.png" alt="play/pause button"></span>';return t=currentPage!=courseData.chapters[currentChapter-1].pages.length||currentChapter!=courseData.chapters.length?t+'<a class="next" href="#"><img src="dir/media'+(e?"/img/btn_next_inactive.png":"/img/btn_next.png")+'" alt="go to next page"></a>':t+'<a class="next" href="#"><img src="dir/media'+"/img/btn_next_inactive.png"+'" alt="go to next page"></a>',t=1!=currentPage||1!=currentChapter?'<a class="back" href="#"><img src="dir/media'+"/img/btn_back.png"+'" alt="go to previous page"></a>'+t:'<a class="back" href="#"><img src="dir/media/'+"/img/btn_back_inactive.png"+'" alt="go to previous page"></a>'+t}function closeCourse(){top.window.close()}function loadPage(){try{stopAudio(),""!=courseData.chapters[currentChapter].pages[currentPage].audio?($("#audioBar").show(),startAudio(courseData.chapters[currentChapter].pages[currentPage].audio)):$("#audioBar").hide()}catch(e){}openLock(currentChapter,currentPage,0),pageIsLoading=!1,$("body").scrollTop(0),_content_functions__WEBPACK_IMPORTED_MODULE_0__.a(currentChapter,currentPage,LOCAL_COURSE_DATA_ID),$("#navbarMobile .courseTitleChapter").removeClass("courseTitleChapterSelected"),$(".navbar-fixed-left #navbarMain").removeClass("toggled"),$("#navbarMobile .courseTitleChapter").eq(currentChapter-1).addClass("courseTitleChapterSelected"),$(".footer-nav").html(getFooterNav()),$(".next").click(function(){nextPage()}),$(".back").click(function(){prevPage()})}window.openPage=openPage},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return loadContent});var _components_ctr_functions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_components_drag_drop_functions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_components_flip_cards_functions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_components_hotspot_functions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_components_knowledge_check_functions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_components_text_functions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),_components_thumbnails_functions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11),_components_video_audio_functions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(12),_components_modal_functions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),_tracking_functions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1),_components_assessment_functions__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2),LOCAL_COURSE_DATA_ID,currentChapter,currentPage,courseData;function loadContent(chapter,page,id){LOCAL_COURSE_DATA_ID=id;var courseData=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));currentChapter=chapter,currentPage=page;var param=eval(currentChapter)+"_"+eval(currentPage),arg="dir/content/course_content/"+param+".xml";$.get(arg).done(function(e){if($("#pageContent").empty(),"true"==$(e).find("title").find("included").text()){var t='<div class="row"><div class="col-sm-'+$(e).find("title").find("size").text()+'"><h1 id="pageTitle"></h1><div class="page-number"></div></div></div>';$("#pageContent").append(t)}$(e).find("layout").attr("completion")?$("#pageContainer").addClass("completion"):$("#pageContainer").removeClass("completion"),$("#pageContent").append($(e).find("layout").text());var a=$(e).find("modal").text();""!=a&&_components_modal_functions__WEBPACK_IMPORTED_MODULE_8__.b(a),$(e).find("components").children().each(function(){var t=$(this)[0].tagName,a=$(this).attr("id");if("Ctr"==t)_components_ctr_functions__WEBPACK_IMPORTED_MODULE_0__.a(e,a,LOCAL_COURSE_DATA_ID);else if("DragAndDrop"==t)_components_drag_drop_functions__WEBPACK_IMPORTED_MODULE_1__.a(e,a,LOCAL_COURSE_DATA_ID);else if("FlipCard"==t)_components_flip_cards_functions__WEBPACK_IMPORTED_MODULE_2__.a(e,a,LOCAL_COURSE_DATA_ID);else if("Hotspot"==t)_components_hotspot_functions__WEBPACK_IMPORTED_MODULE_3__.a(e,a,LOCAL_COURSE_DATA_ID);else if("KnowledgeCheck"==t)_components_knowledge_check_functions__WEBPACK_IMPORTED_MODULE_4__.a(e,a,LOCAL_COURSE_DATA_ID);else if("Text"==t)_components_text_functions__WEBPACK_IMPORTED_MODULE_5__.a(e,a,LOCAL_COURSE_DATA_ID);else if("Thumbnails"==t)_components_thumbnails_functions__WEBPACK_IMPORTED_MODULE_6__.a(e,a,LOCAL_COURSE_DATA_ID);else if("VideoAudio"==t)_components_video_audio_functions__WEBPACK_IMPORTED_MODULE_7__.a(e,a,LOCAL_COURSE_DATA_ID);else if("Game"==t){var s=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));console.log("setupassessment");var o=parseInt($(".btn-assess").attr("id").substring(13,15),10)-1;if(0===o)for(var n=0;n<3;n++)"true"!==s.assessmentData.assessments[n].completed||$(".btn-assess").append("<div class='viewed-overlay'><img src='/dir/media/img/icon_viewed.png'></div>");else 3===o&&"true"===s.assessmentData.assessments[o].completed&&$(".btn-assess").append("<div class='viewed-overlay'><img src='/dir/media/img/icon_viewed.png'></div>");$(".btn-assess").click(function(){_components_modal_functions__WEBPACK_IMPORTED_MODULE_8__.c(LOCAL_COURSE_DATA_ID,"assessment",o,$(this))})}}),"true"==$(e).find("title").find("pagination").text()&&updatePagination(),"true"==courseData.COUNT_PAGES&&registerPageVisit(param);try{$("#pageTitle").html(getPageTitle())}catch(e){console.log("something went wrong ",e)}$(".footer-spacer").length&&$(".footer-spacer").css({height:getFooterHeight()+25});try{pageLoaded()}catch(e){console.log("something went wrong ",e)}})}function updatePagination(){var e=currentChapter,t=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID)).chapters.length;$(".page-number").empty(),$(".page-number").append("<span>"+e+"</span> of <span>"+t+"</span>")}function getPageTitle(){return(courseData=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID))).chapters[currentChapter-1].pages[currentPage-1].title}function registerPageVisit(e){var t=JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));-1==t.pageCount.pageIds.indexOf(e)&&(t.pageCount.pageIds.push(e),t.pageCount.pagesVisited++),localStorage.setItem(LOCAL_COURSE_DATA_ID,JSON.stringify(t))}function pageLoaded(){_tracking_functions__WEBPACK_IMPORTED_MODULE_9__.d(currentChapter,currentPage),calculateHeight()}function setComplete(){SetComplete(),$("#btnComplete").hide();$("#sectionComplete").text("Thank you for completing this course. Your training record will be updated.")}function calculateHeight(){$("#contentContainer").css({height:$(window).height()-($("#navContainer").height()+getFooterHeight())});$(window).height(),$("#navContainer").height(),getFooterHeight(),$(".courseTitleChapter").length;$("#audioBar").width($("#mainContainer").width()-216-$("#navBtns").width()),$(".leftNav #navbarMain").css({height:$(window).height()-($("#navContainer").height()+getFooterHeight())})}function getFooterHeight(){return null==$("footer").height()?0:$("footer").height()}},function(e,t,a){"use strict";var s;function o(e,t,a){s=a,"undefined"===localStorage&&location.reload();var o=JSON.parse(localStorage.getItem(s)),i=$(e).find('Ctr[id="'+t+'"]');0==i.length&&(i=$(e).find("Ctr"));var l=$(i).attr("id");if(null!=o.ctrData.ctrs){for(var d=0;d<o.ctrData.ctrs.length;d++)if(o.ctrData.ctrs[d].id==l){var c=r(l);return console.log("Ctr Loaded Previously"),void n(c,t)}}else console.log("Ctr Initialized"),o.ctrData.completed=0,o.ctrData.ctrs=[];var p={id:$(i).attr("id"),completed:!1,completion:{},score:0,position:i.attr("position"),sections:[]};"true"==i.find("completion").attr("gated")&&(p.completion={gate:{chapter:i.find("chapter").text(),page:i.find("page").text(),lock:i.find("lock").text()}}),$(i).find("section").each(function(){var e={click:$(this).find("click").text(),reveal:$(this).find("reveal").text(),completed:!1};p.sections.push(e)}),o.ctrData.ctrs.push(p),localStorage.setItem(s,JSON.stringify(o)),n(c=r(l),t)}function n(e,t){var a=JSON.parse(localStorage.getItem(s)),o=a.ctrData.ctrs[e].sections.length,n=a.ctrData.ctrs[e].position,r=12/o;$("#"+t).append('<div class="row"><div class="col-md-12 mx-auto p-0"><div id=""><div class="ctr"><div class="row"></div></div></div></div></div>');for(var l=0;l<a.ctrData.ctrs[e].sections.length;l++){var d='<div class="col-md-'+r+' p-0" id="'+t+"-"+l+'"><div class="ctr-wrapper '+t+"-section-"+l+'"><div class="click">'+(c=a.ctrData.ctrs[e].sections[l].click)+'</div></div><div class="ctr-wrapper"><div class="reveal">'+(p=a.ctrData.ctrs[e].sections[l].reveal)+"</div></div></div>";$("#"+t+" .ctr .row").append(d),$("."+t+"-section-"+l).click(function(){var t=$(this).parent();t.find(".reveal").css({display:"block"});var a=t.attr("id");a=a.substr(a.length-1,a.length),i(e,a)})}var c=$("#"+t+" .click").parent(),p=$("#"+t+" .reveal").parent();"right"==n?(c.css({left:"0"}),p.css({right:"0"})):"left"==n?(c.css({right:"0"}),p.css({left:"0"})):"top"==n?(c.css({bottom:"0",width:"100%",height:"50%"}),p.css({top:"0",width:"100%",height:"50%"})):"bottom"==n&&(c.css({top:"0",width:"100%",height:"50%"}),p.css({bottom:"0",width:"100%",height:"50%"}))}function r(e){for(var t=JSON.parse(localStorage.getItem(s)),a=0;a<t.ctrData.ctrs.length;a++)if(t.ctrData.ctrs[a].id==e)return a}function i(e,t){var a=JSON.parse(localStorage.getItem(s));if(0==a.ctrData.ctrs[e].sections[t].completed&&(a.ctrData.ctrs[e].sections[t].completed=!0,a.ctrData.ctrs[e].score+=1,localStorage.setItem(s,JSON.stringify(a)),a.ctrData.ctrs[e].score>=a.ctrData.ctrs[e].sections.length&&(a.ctrData.ctrs[e].completed=!0,a.ctrData.completed+=1,a.COMPLETED_INTERACTIVES+=1,localStorage.setItem(s,JSON.stringify(a)),console.log("Ctr Completed"),null!=a.ctrData.ctrs[e].completion.gate))){var o=a.ctrData.ctrs[e].completion.gate.chapter,n=a.ctrData.ctrs[e].completion.gate.page,r=a.ctrData.ctrs[e].completion.gate.lock;openLock(o,n,r)}}a.d(t,"a",function(){return o})},function(e,t,a){"use strict";var s;function o(e,t,a){s=a,"undefined"===localStorage&&location.reload();var o=JSON.parse(localStorage.getItem(s)),i=$(e).find('DragAndDrop[id="'+t+'"]');0==i.length&&(i=$(e).find("DragAndDrop"));var l=$(i).attr("id");if(null!=o.dragDropData.dragDrops){for(var d=0;d<o.dragDropData.dragDrops.length;d++)if(o.dragDropData.dragDrops[d].id==l){var c=r(l);return console.log("DragDrop Loaded Previously"),void n(c,t)}}else console.log("DragDrop Initialized"),o.dragDropData.completed=0,o.dragDropData.dragDrops=[];var p={id:$(i).attr("id"),completed:!1,completion:{minimumScore:$(i).find("completion").find("minimumScore").text()},matchings:[]};$(i).find("pair").each(function(){var e=$(this),t={drag:e.find("drag").text(),drop:e.find("drop").text()};p.matchings.push(t)});var u=$(e).find("completion");"true"==u.attr("gated")&&(p.completion.gate={chapter:u.find("chapter").text(),page:u.find("page").text(),lock:u.find("lock").text()}),o.dragDropData.dragDrops.push(p),localStorage.setItem(s,JSON.stringify(o)),n(c=r(l),t)}function n(e,t){null==t&&$("#dragAndDrop").remove(),$("#"+t).empty();var a=JSON.parse(localStorage.getItem(s)).dragDropData.dragDrops[e];null!=t&&($("#"+t).empty(),$("#"+t).html('<div id="dragAndDrop" class="container"><div class="row"><div class="col-6 left"></div><div class="col-6 right"></div></div><p class="feedback"><a class="btn btn-reversed btn-restart">Restart</a><a class="btn btn-default-main btn-submit">Submit</a></p>'));for(var o=0;o<a.matchings.length;o++){var r='<div class="item-container holder" id="'+(t+"_holder"+o)+'" ondrop="drop_handler(event);" ondragover="dragover_handler(event);"><p class="draggable" id="'+(t+"_p"+o)+'" draggable="true" ondragstart="dragstart_handler(event);" >'+a.matchings[o].drag+"</p></div>",i='<div class="item-container" id="'+(t+"_t"+o)+'" ondrop="drop_handler(event);" ondragover="dragover_handler(event);">'+a.matchings[o].drop+"</div>";$(".left").append(r),$(".right").append(i)}$(".btn-restart").click(function(){n(e,t)}),$(".btn-submit").click(function(){!function e(t,a){var o=JSON.parse(localStorage.getItem(s));var r=0;var i=parseInt(o.dragDropData.dragDrops[t].completion.minimumScore);var l=$("#"+a+" .right").children();for(var d=0;d<l.length;d++){var c=l[d].id;if(null==$("#"+c).find("p")[0])return $("#"+a+" .feedback").html('Finish dragging items to their correct location.<a class="btn btn-reversed btn-restart">Restart</a><a class="btn btn-default-main btn-submit">Submit</a>'),$(".btn-restart").click(function(){n(t,a)}),$(".btn-submit").click(function(){e(t,a)}),void $("#dragAndDrop .btn-reversed").on({mouseenter:function(){$(this).removeClass("btn-reversed"),$(this).addClass("btn-default-main"),$(this).next().removeClass("btn-default-main"),$(this).next().addClass("btn-reversed")},mouseleave:function(){$(this).addClass("btn-reversed"),$(this).removeClass("btn-default-main"),$(this).next().addClass("btn-default-main"),$(this).next().removeClass("btn-reversed")}})}for(var d=0;d<l.length;d++){var c=l[d].id,p=$("#"+c).find("p")[0].id,u=c.substr(c.indexOf("_")+2),m=p.substr(p.indexOf("_")+2);u==m?($("#"+p).addClass("correct"),r+=10):$("#"+p).addClass("wrong")}if(r>=i&&0==o.dragDropData.dragDrops[t].completed){if(console.log("DragDrop Completed"),o.dragDropData.dragDrops[t].completed=!0,o.dragDropData.completed+=1,o.COMPLETED_INTERACTIVES+=1,null!=o.dragDropData.dragDrops[t].completion.gate){var h=o.dragDropData.dragDrops[t].completion.gate.chapter,g=o.dragDropData.dragDrops[t].completion.gate.page,f=o.dragDropData.dragDrops[t].completion.gate.lock;openLock(h,g,f)}localStorage.setItem(s,JSON.stringify(o))}o.dragDropData.dragDrops[t].score=r;localStorage.setItem(s,JSON.stringify(o));var v=o.dragDropData.dragDrops[t].matchings.length;var _=r/v;_=parseFloat(_.toFixed(0));var b;switch(_){case 0:case 1:case 2:case 3:case 4:case 5:b="Try again?";break;case 6:case 7:case 8:b="Keep practicing.";break;case 9:case 10:b="Nice job!"}b+=" <span> Total Score: +"+r+" points</span.>";$("#"+a+" .feedback").html(b+'<a class="btn btn-restart btn-reversed ">Restart</a><a  class="btn btn-default-main btn-submit">Submit</a>');$("#"+a+" .feedback").after("");$(".btn-restart").click(function(){n(t,a)});$(".btn-submit").click(function(){e(t,a)});$("#dragAndDrop .btn-reversed").on({mouseenter:function(){$(this).removeClass("btn-reversed"),$(this).addClass("btn-default-main"),$(this).next().removeClass("btn-default-main"),$(this).next().addClass("btn-reversed")},mouseleave:function(){$(this).addClass("btn-reversed"),$(this).removeClass("btn-default-main"),$(this).next().addClass("btn-default-main"),$(this).next().removeClass("btn-reversed")}})}(e,t)}),$("#dragAndDrop .btn-reversed").on({mouseenter:function(){$(this).removeClass("btn-reversed"),$(this).addClass("btn-default-main"),$(this).next().removeClass("btn-default-main"),$(this).next().addClass("btn-reversed")},mouseleave:function(){$(this).addClass("btn-reversed"),$(this).removeClass("btn-default-main"),$(this).next().addClass("btn-default-main"),$(this).next().removeClass("btn-reversed")}}),function(e){for(var t,a,s=$("#"+e+" .left").children(),o=s.length-1;o>0;o--)t=Math.floor(Math.random()*(o+1)),a=s[o],s[o]=s[t],s[t]=a;$("#"+e+" .left").empty();for(var o=0;o<s.length;o++)$("#"+e+" .left").append(s[o])}(t),function(e){for(var t,a,s=$("#"+e+" .right").children(),o=s.length-1;o>0;o--)t=Math.floor(Math.random()*(o+1)),a=s[o],s[o]=s[t],s[t]=a;$("#"+e+" .right").empty();for(var o=0;o<s.length;o++)$("#"+e+" .right").append(s[o])}(t)}function r(e){for(var t=JSON.parse(localStorage.getItem(s)),a=0;a<t.dragDropData.dragDrops.length;a++)if(t.dragDropData.dragDrops[a].id==e)return a}a.d(t,"a",function(){return o}),window.dragstart_handler=function(e){e.dataTransfer.setData("text",e.target.id),e.dropEffect="move"},window.dragover_handler=function(e){return $(e.target).hasClass("item-container")?(e.dataTransfer.dropEffect="move",void e.preventDefault()):$(e.target).hasClass("draggable")?(e.dataTransfer.dropEffect="move",void e.preventDefault()):void 0},window.drop_handler=function(e){e.preventDefault();var t=e.dataTransfer.getData("text"),a=e.target.id,s="#"+t,o="#"+a;if("p"==a.substr(a.indexOf("_")+1).charAt(0)){var n=o;o="#"+$(o).parent(".item-container").attr("id"),$(n).parent(".item-container").index(),$(s).parent(".item-container").append($(n))}$(o).append($(s)),$(s).removeClass("correct"),$(s).removeClass("wrong")}},function(e,t,a){"use strict";var s;function o(e,t,a){s=a,"undefined"===localStorage&&location.reload();var o=JSON.parse(localStorage.getItem(s));if(0==(i=$(e).find('FlipCard[id="'+t+'"]')).length)var i=$(e).find("FlipCard");var l=$(i).attr("id");if(null!=o.flipCardData.flipCards){for(var d=0;d<o.flipCardData.flipCards.length;d++)if(o.flipCardData.flipCards[d].id==l){var c=r(l);return console.log("FlipCard Loaded Previously"),void n(c,t)}}else console.log("FlipCard Initialized"),o.flipCardData.id=$(i).attr("id"),o.flipCardData.completed=0,o.flipCardData.flipCards=[];var p={id:$(i).attr("id"),completed:!1,completion:{},score:0,hasButton:$(i).attr("hasButton"),class:$(i).attr("class"),cards:[]};"true"==i.find("completion").attr("gated")&&(p.completion={gate:{chapter:i.find("chapter").text(),page:i.find("page").text(),lock:i.find("lock").text()}}),$(i).find("card").each(function(){var e=$(this),t={front:e.find("front").text(),back:e.find("back").text(),completed:!1};p.cards.push(t)}),o.flipCardData.flipCards.push(p),localStorage.setItem(s,JSON.stringify(o)),n(c=r(l),t)}function n(e,t){var a=JSON.parse(localStorage.getItem(s)),o=a.flipCardData.flipCards[e].cards.length;$("#"+t).empty(),$("#"+t).html('<div class="row"></div>');for(var n=12/o,r=0;r<o;r++){var l=a.flipCardData.flipCards[e].cards[r].back,d=a.flipCardData.flipCards[e].cards[r].front,c="col-12 col-sm-12 mx-auto col-md-"+n;if("true"==a.flipCardData.flipCards[e].hasButton)var p='<div class="'+c+' margin-below"><div class="cardCont" id="card'+r+'"><div class="cardBack">'+l+'<a class="showMore back" href="#">Back</a></div><div class="cardFront">'+d+'<a class="showMore front" href="#">Show More</a></div></div></div>';else p='<div class="'+c+' margin-below"><div class="cardCont" id="card'+r+'"><div class="cardBack">'+l+'</div><div class="cardFront">'+d+"</div></div></div>";$("#"+t+" .row").append(p),CSSPlugin.defaultTransformPerspective=1e3,TweenMax.set($(".cardBack"),{rotationY:-180}),$.each($(".cardCont"),function(e,t){var a=$(this).children(".cardFront"),s=$(this).children(".cardBack"),o=new TimelineMax({paused:!0});o.to(a,1,{rotationY:180}).to(s,1,{rotationY:0},0).to(t,.5,{z:50},0).to(t,.5,{z:0},.5),t.animation=o}),"true"==a.flipCardData.flipCards[e].hasButton?($("#"+t+" .front").click(function(){var t=$(this).closest(".cardCont").attr("id");t=t.substr($("#"+t).attr("id").length-1),i(e,t),$(this).closest(".cardCont")[0].animation.play()}),$("#"+t+" .back").click(function(){$(this).closest(".cardCont")[0].animation.reverse()})):"false"==a.flipCardData.flipCards[e].hasButton&&($("#"+t+" .cardFront").hover(function(){$(this).css("cursor","pointer")}),$("#"+t+" .cardBack").hover(function(){$(this).css("cursor","pointer")}),$("#"+t+" .cardFront").click(function(){var t=$(this).closest(".cardCont").attr("id");t=t.substr($("#"+t).attr("id").length-1),i(e,t),$(this).closest(".cardCont")[0].animation.play()}),$("#"+t+" .cardBack").click(function(){$(this).closest(".cardCont")[0].animation.reverse()}))}}function r(e){for(var t=JSON.parse(localStorage.getItem(s)),a=0;a<t.flipCardData.flipCards.length;a++)if(t.flipCardData.flipCards[a].id==e)return a}function i(e,t){var a=JSON.parse(localStorage.getItem(s));if(0==a.flipCardData.flipCards[e].cards[t].completed&&(a.flipCardData.flipCards[e].cards[t].completed=!0,a.flipCardData.flipCards[e].score+=1,localStorage.setItem(s,JSON.stringify(a)),a.flipCardData.flipCards[e].score>=a.flipCardData.flipCards[e].cards.length&&(a.flipCardData.flipCards[e].completed=!0,a.flipCardData.completed+=1,a.COMPLETED_INTERACTIVES+=1,localStorage.setItem(s,JSON.stringify(a)),console.log("FlipCard Completed"),null!=a.flipCardData.flipCards[e].completion.gate))){var o=a.flipCardData.flipCards[e].completion.gate.chapter,n=a.flipCardData.flipCards[e].completion.gate.page,r=a.flipCardData.flipCards[e].completion.gate.lock;openLock(o,n,r)}}a.d(t,"a",function(){return o})},function(e,t,a){"use strict";var s;function o(e,t,a){s=a,"undefined"===localStorage&&location.reload();var o=JSON.parse(localStorage.getItem(s)),i=$(e).find('Hotspot[id="'+t+'"]');0==i.length&&(i=$(e).find("Hotspot"));var l=$(i).attr("id");if(null!=o.hotspotData.hotspots){for(var d=0;d<o.hotspotData.hotspots.length;d++)if(o.hotspotData.hotspots[d].id==l){var c=r(l);return console.log("Hotspot Loaded Previously"),void n(c,t)}}else console.log("Hotspot Initialized"),o.hotspotData.completed=0,o.hotspotData.hotspots=[];var p={id:$(i).attr("id"),completed:!1,completion:{},score:0,img:$(i).find("img").text(),spots:[]};"true"==i.find("completion").attr("gated")&&(p.completion={gate:{chapter:i.find("chapter").text(),page:i.find("page").text(),lock:i.find("lock").text()}}),$(i).find("spot").each(function(){var e=$(this),t={label:e.find("label").text(),popup:e.find("popup").text(),completed:!1};p.spots.push(t)}),o.hotspotData.hotspots.push(p),localStorage.setItem(s,JSON.stringify(o)),n(c=r(l),t)}function n(e,t){for(var a=JSON.parse(localStorage.getItem(s)),o='<div id="hotSpot"><img class="hotSpot-img" src="'+a.hotspotData.hotspots[e].img+'">',n=0;n<a.hotspotData.hotspots[e].spots.length;n++){var r=a.hotspotData.hotspots[e].spots[n].label;o+='<div id="spot-'+n+'" class="hotSpot-spot circle-'+r+'">'+r+"</div>"}o+='<div class="hotSpot-popup"></div>',null!=t?($("#"+t).empty(),$("#"+t).html(o)):$("#pageContent").append(o);$("#"+t+" .hotSpot-spot").click(function(){var o=$(this).attr("id").substr($(this).attr("id").length-1),n=a.hotspotData.hotspots[e].spots[o].popup;$("#"+t+" .hotSpot-popup").empty(),$("#"+t+" .hotSpot-popup").append('<a class="hotSpot-close">x</a>'+n),$("#"+t+" .hotSpot-popup").css("display","block"),$("#"+t+" .hotSpot-popup .hotSpot-close").click(function(){$("#"+t+" .hotSpot-popup").css("display","none")}),function(e,t){var a=JSON.parse(localStorage.getItem(s));if(0==a.hotspotData.hotspots[e].spots[t].completed&&(a.hotspotData.hotspots[e].spots[t].completed=!0,a.hotspotData.hotspots[e].score+=1,a.hotspotData.hotspots[e].score>=a.hotspotData.hotspots[e].spots.length&&(console.log("Hotspot Completed"),a.hotspotData.hotspots[e].completed=!0,a.hotspotData.completed+=1,a.COMPLETED_INTERACTIVES+=1,null!=a.hotspotData.hotspots[e].completion.gate))){var o=a.hotspotData.hotspots[e].completion.gate.chapter,n=a.hotspotData.hotspots[e].completion.gate.page,r=a.hotspotData.hotspots[e].completion.gate.lock;openLock(o,n,r)}localStorage.setItem(s,JSON.stringify(a))}(e,o)})}function r(e){for(var t=JSON.parse(localStorage.getItem(s)),a=0;a<t.hotspotData.hotspots.length;a++)if(t.hotspotData.hotspots[a].id==e)return a}a.d(t,"a",function(){return o})},function(e,t,a){"use strict";var s;function o(e,t,a){s=a,"undefined"===localStorage&&location.reload();var o=JSON.parse(localStorage.getItem(s)),r=$(e).find('KnowledgeCheck[id="'+t+'"]');0==r.length&&(r=$(e).find("KnowledgeCheck"));var l=$(r).attr("id");if(null!=o.knowledgeCheckData.knowledgeChecks){for(var d=0;d<o.knowledgeCheckData.knowledgeChecks.length;d++)if(o.knowledgeCheckData.knowledgeChecks[d].id==l){var c=i(l);return console.log("KnowledgeCheck Loaded Previously"),void n(c,t)}}else console.log("KnowledgeCheck Initialized"),o.knowledgeCheckData.totalScore=0,o.knowledgeCheckData.completed=0,o.knowledgeCheckData.knowledgeChecks=[];var p={id:$(r).attr("id"),completed:!1,completion:{},scored:$(r).attr("scored"),score:0,title:$(r).attr("title"),questions:[]};"true"==$(r).find("completion").attr("gated")&&(p.completion={gate:{chapter:$(r).find("chapter").text(),page:$(r).find("page").text(),lock:$(r).find("lock").text()}}),$(r).find("question").each(function(){var e=$(this),t={body:e.find("body").text(),answers:[],correct:!1};e.find("answer").each(function(){var e=$(this),a={correct:e.attr("correct"),selected:!1,body:e.text()};t.answers.push(a)}),p.questions.push(t)}),o.knowledgeCheckData.knowledgeChecks.push(p),localStorage.setItem(s,JSON.stringify(o)),n(c=i(l),t)}function n(e,t){for(var a=JSON.parse(localStorage.getItem(s)).knowledgeCheckData.knowledgeChecks[e],o="",n="",i="",l=0;l<a.questions.length;l++){var d="";o=a.questions[l].body;for(var c=0;c<a.questions[l].answers.length;c++)n=a.questions[l].answers[c].body,d+='<div><input type="radio" name="'+t+"question-"+l+'-answers" id="'+t+"question-"+l+"-answers-"+c+'" value="'+c+'" /><label for="'+t+"question-"+l+"-answers-"+c+'">'+n+"</label></div>";i+="<li><p>"+o+"</p>"+d+"</li>"}var p='<div id="knowledgeCheck" class="col-md-12 mx-auto"><form id="myForm"><h3>'+a.title+"</h3>"+i+'<div class="feedback"></div><a class="btn btn-default submitKnowledge">Submit Answers</a></form></div>';null!=t?($("#"+t).empty(),$("#"+t).html(p)):$("#pageContent").append(p),1==a.completed&&($("#"+t+" .submitKnowledge").remove(),r(e,t)),$("#"+t+" .submitKnowledge").click(function(){!function(e,t){for(var a=JSON.parse(localStorage.getItem(s)),o=a.knowledgeCheckData.knowledgeChecks[e],n=$("#"+t+" form li input:checked"),i=0;i<n.length;i++)for(var l=n.eq(i).siblings("label").html(),d=0;d<o.questions[i].answers.length;d++){var c=o.questions[i].answers[d];"true"==c.correct&&c.body==l&&(o.questions[i].correct=!0)}if(n.length!=o.questions.length)return 0==$("#"+t+" .invalid").length?void $("#"+t+" .feedback").append('<p class="invalid feedback">Please answer <span class="bolded">all questions.</span></p>'):void 0;if($("#"+t+" .submitKnowledge").remove(),o.completed=!0,a.knowledgeCheckData.completed+=1,a.COMPLETED_INTERACTIVES+=1,null!=o.completion.gate){var p=o.completion.gate.chapter,u=o.completion.gate.page,m=o.completion.gate.lock;openLock(p,u,m)}for(var h=0,i=0;i<o.questions.length;i++)0==o.questions[i].correct?$("#"+t+" form li").eq(i).addClass("wrong"):($("#"+t+" form li").eq(i).removeClass("wrong"),h+=1);o.score=h,a.knowledgeCheckData.totalScore+=h,localStorage.setItem(s,JSON.stringify(a)),r(e,t)}(e,t)})}function r(e,t){var a=JSON.parse(localStorage.getItem(s)),o=a.knowledgeCheckData.knowledgeChecks[e];o.completed=!0;for(var n=0;n<o.questions.length;n++)0==o.questions[n].correct?$("#"+t+" form li").eq(n).addClass("wrong"):$("#"+t+" form li").eq(n).removeClass("wrong");var r='<p class="feedback">You scored a <span class="bolded">'+o.score+" out of "+o.questions.length+"</span></p>";$("#"+t+" .invalid").remove(),$("#"+t+" .feedback").append(r),localStorage.setItem(s,JSON.stringify(a))}function i(e){for(var t=JSON.parse(localStorage.getItem(s)),a=0;a<t.knowledgeCheckData.knowledgeChecks.length;a++)if(t.knowledgeCheckData.knowledgeChecks[a].id==e)return a}a.d(t,"a",function(){return o})},function(e,t,a){"use strict";function s(e,t,a){a;var s=$(e).find('Text[id="'+t+'"]');$("#"+t).append(s.text())}a.d(t,"a",function(){return s})},function(e,t,a){"use strict";var s;function o(e,t,a){s=a,"undefined"===localStorage&&location.reload();var o=JSON.parse(localStorage.getItem(s)),r=$(e).find('Thumbnails[id="'+t+'"]');0==r.length&&(r=$(e).find("Thumbnails"));var l=$(r).attr("id");if(null!=o.thumbnailData.thumbnails){for(var d=0;d<o.thumbnailData.thumbnails.length;d++)if(o.thumbnailData.thumbnails[d].id==l){var c=i(l);return console.log("Hotspot Loaded Previously"),void n(c,t)}}else console.log("Thumbnail Initialized"),o.thumbnailData.completed=0,o.thumbnailData.thumbnails=[];var p={id:$(r).attr("id"),completed:!1,completion:{},score:0,class:$(r).attr("class"),thumbs:[]};"true"==r.find("completion").attr("gated")&&(p.completion={gate:{chapter:r.find("chapter").text(),page:r.find("page").text(),lock:r.find("lock").text()}}),$(r).find("thumbnail").each(function(){var e=$(this),t={img:e.find("img").text(),url:e.find("url").text(),onclickFunction:e.find("url").attr("onclickFunction"),heading:e.find("heading").text(),caption:e.find("caption").text(),completed:!1};p.thumbs.push(t)}),o.thumbnailData.thumbnails.push(p),localStorage.setItem(s,JSON.stringify(o)),n(c=i(l),t)}function n(e,t){var a=JSON.parse(localStorage.getItem(s)),o=a.thumbnailData.thumbnails[e].thumbs.length;$("#"+t).html('<div class="row"></div>');for(var n=12/o,l=0;l<o;l++){var d=a.thumbnailData.thumbnails[e].thumbs[l].img,c=a.thumbnailData.thumbnails[e].thumbs[l].url,p=a.thumbnailData.thumbnails[e].thumbs[l].heading,u=a.thumbnailData.thumbnails[e].thumbs[l].caption,m="col-12 col-sm-"+n,h="href";if("true"==a.thumbnailData.thumbnails[e].thumbs[l].onclickFunction)var g='<div class="'+m+'"><div class="thumbnail" id=""><a id="thumb'+l+'" target="_blank" '+(h="onclick")+'="'+c+'" class="top-paragraph link"><div class="img-container"><img class="img-zoom" src="'+d+'" alt=""></div><div class="caption"><div class="caption-title"><span>'+p+"</span></div><p>"+u+"</p></div></a></div></div>";else g='<div class="'+m+'"><div class="thumbnail" id=""><a id="'+t+"-thumb-"+l+'" target="_blank" '+h+'="'+c+'" class="top-paragraph link"><div class="img-container"><img class="img-zoom" src="'+d+'" alt=""></div><div class="caption"><div class="caption-title"><span>'+p+"</span></div><p>"+u+"</p></div></a></div></div>";$("#"+t+" .row").append(g),$("#"+t+"-thumb-"+l).click(function(){r(this,i(t))})}}function r(e,t){var a=JSON.parse(localStorage.getItem(s)),o=$(e).attr("id"),n=o=o.substr($(e).attr("id").length-1);if(0==a.thumbnailData.thumbnails[t].thumbs[n].completed&&(a.thumbnailData.thumbnails[t].thumbs[n].completed=!0,a.thumbnailData.thumbnails[t].score+=1,a.thumbnailData.thumbnails[t].score>=a.thumbnailData.thumbnails[t].thumbs.length&&(a.thumbnailData.thumbnails[t].completed=!0,a.thumbnailData.completed+=1,a.COMPLETED_INTERACTIVES+=1,null!=a.thumbnailData.thumbnails[t].completion.gate))){var r=a.thumbnailData.thumbnails[t].completion.gate.chapter,i=a.thumbnailData.thumbnails[t].completion.gate.page,l=a.thumbnailData.thumbnails[t].completion.gate.lock;openLock(r,i,l)}localStorage.setItem(s,JSON.stringify(a))}function i(e){for(var t=JSON.parse(localStorage.getItem(s)),a=0;a<t.thumbnailData.thumbnails.length;a++)if(t.thumbnailData.thumbnails[a].id==e)return a}a.d(t,"a",function(){return o})},function(e,t,a){"use strict";a.d(t,"a",function(){return n});var s,o=a(0);function n(e,t,a){s=a,"undefined"===localStorage&&location.reload();var o=JSON.parse(localStorage.getItem(s)),n=$(e).find('VideoAudio[id="'+t+'"]');0==n.length&&(n=$(e).find("VideoAudio"));var l=$(n).attr("id");if(null!=o.videoAudioData.videoAudio){for(var d=0;d<o.videoAudioData.videoAudio.length;d++)if(o.videoAudioData.videoAudio[d].id==l){var c=i(l);return console.log("Video/Audio Loaded Previously"),void r(c,t)}}else console.log("Video/Audio Initialized"),o.videoAudioData.completed=0,o.videoAudioData.videoAudio=[];var p={id:$(n).attr("id"),completed:!1,completion:{},type:$(n).find("type").text(),embeded:$(n).find("embeded").text(),poster:$(n).find("poster").text(),source:$(n).find("source").text()};o.videoAudioData.videoAudio.push(p),localStorage.setItem(s,JSON.stringify(o)),r(c=i(l),t)}function r(e,t){var a=JSON.parse(localStorage.getItem(s)),n=a.videoAudioData.videoAudio[e].source,r=a.videoAudioData.videoAudio[e].poster,d=a.videoAudioData.videoAudio[e].embeded,c=a.videoAudioData.videoAudio[e].type;if("true"==d)if("video"==c)var p='<video id="'+t+'-video-embed" poster="'+r+'" controls><source src="'+n+'" type="video/mp4">Your browser does not support the video tag.</video>';else p='<audio id="'+t+'-audio-embed" controls><source src="'+n+'" type="audio/mp3">Your browser does not support the audio element.</audio>';else if("video"==c)p='<img src="'+r+'" alt="poster" class="embeded-vidAud"><img id="'+t+'-video" class="playBtnOverlay" src="dir/media/img/play_overlay.png">';else p='<img src="'+r+'" alt="poster"  class="embeded-vidAud"><img id="'+t+'-audio" class="playBtnOverlay" src="dir/media/img/play_overlay.png">';$("#"+t).empty(),$("#"+t).append(p),$("#"+t+"-audio").click(function(){console.log("HERE"),o.a(n),l(i(t))}),$("#"+t+"-video").click(function(){o.d(n),l(i(t))}),$("#"+t+"-audio-embed").on("play",function(e){l(i(t))}),$("#"+t+"-video-embed").on("play",function(e){l(i(t))})}function i(e){for(var t=JSON.parse(localStorage.getItem(s)),a=0;a<t.videoAudioData.videoAudio.length;a++)if(t.videoAudioData.videoAudio[a].id==e)return a}function l(e){var t=JSON.parse(localStorage.getItem(s));if(0==t.videoAudioData.videoAudio[e].completed&&(t.videoAudioData.videoAudio[e].completed=!0,t.videoAudioData.completed+=1,t.COMPLETED_INTERACTIVES+=1,null!=t.videoAudioData.videoAudio[e].completion.gate)){var a=t.videoAudioData.videoAudio[e].completion.gate.chapter,o=t.videoAudioData.videoAudio[e].completion.gate.page,n=t.videoAudioData.videoAudio[e].completion.gate.lock;openLock(a,o,n)}localStorage.setItem(s,JSON.stringify(t))}},function(e,t,a){"use strict";a.r(t);var s,o,n=a(3),r=a(1),i=a(2),l=!1,d=!1,c=!1,p=!1,u=!1;function m(){if("true"!==(o=JSON.parse(localStorage.getItem(s))).HAS_RESOURCES||!1!==d)if(void 0===o.cardData||!1!==c)if("true"!==o.HAS_GLOSSARY||!1!==l){if("true"!==o.HAS_SPLASH_PAGE||!1!==u)return"true"===o.HAS_VEHICLE_GAME&&!1===p?void h("dir/content/assessments.xml"):(g(),void n.a(s));h("dir/content/splash.xml")}else h("dir/content/glossary.xml");else h("dir/content/card_content.xml");else h("dir/content/resources.xml")}function h(e){$.get(e).done(function(t){-1!=e.indexOf("card_content")?(c=!0,initCardContent(t),m()):-1!=e.indexOf("glossary")?(l=!0,function(e){var t=localStorage.getItem(s),a=JSON.parse(t);a.glossary={items:[]};for(var o=$(e).find("item"),n=[],r=0;r<o.length;r++){var i={};i.term=$(o[r]).find("term").text(),i.definition=$(o[r]).find("definition").text(),n.push(i)}a.glossary.items=n,localStorage.setItem(s,JSON.stringify(a))}(t),m()):-1!=e.indexOf("resources")?(d=!0,function(e){var t=localStorage.getItem(s),a=JSON.parse(t);a.resources={items:[]};for(var o=$(e).find("item"),n=[],r=0;r<o.length;r++){var i={};i.term=$(o[r]).find("term").text(),i.definition=$(o[r]).find("definition").text(),i.source=$(o[r]).find("source").text(),i.name=$(o[r]).find("name").text(),n.push(i)}a.resources.items=n,localStorage.setItem(s,JSON.stringify(a))}(t),m()):-1!=e.indexOf("splash")?(u=!0,function(e){var t=localStorage.getItem(s),a=JSON.parse(t);a.splash={title:$(e).find("title").text(),caption:$(e).find("caption").text(),introduction:$(e).find("introduction").text()},localStorage.setItem(s,JSON.stringify(a))}(t),m()):-1!=e.indexOf("assessments")&&(p=!0,i.a(s,t),m())})}function g(){var e=JSON.parse(localStorage.getItem(s));$(".add-theme-path").attr("src",function(){return $(this).attr("src").replace("theme-path",e.THEME_PATH)}),$(".add-theme-path-head").attr("href",function(){return $(this).attr("href").replace("theme-path",e.THEME_PATH),$(this).attr("href").replace("theme-path",e.THEME_PATH)})}function f(){return null==$("footer").height()?0:$("footer").height()}$(document).ready(function(){localStorage.clear(),$(window).resize(function(){$("#contentContainer").css({height:$(window).height()-($("#navContainer").height()+f())}),$(window).height(),$("#navContainer").height(),f(),$(".courseTitleChapter").length,$("#audioBar").width($("#mainContainer").width()-216-$("#navBtns").width()),$(".leftNav #navbarMain").css({height:$(window).height()-($("#navContainer").height()+f())})}),$(window).on("unload",function(){r.c()}),r.f(),$.get("settings.json").done(function(e){!0,s=e.settings.courseStorageID;var t=(2*JSON.stringify(localStorage).length/1048576).toFixed(4);console.log("localStorage in megabytes: ",t);var a=e.settings.version,o=JSON.parse(localStorage.getItem(s));if(null!==o&&o.SETTINGS_VERSION===a)return g(),void n.a(s);console.log("localStorage has reloaded"),function(e,t){var a={};a.TITLE=e.settings.courseTitle,a.SUB_TITLE=e.settings.courseSubTitle,a.SETTINGS_VERSION=e.settings.version,a.THEME=e.settings.theme,a.THEME_PATH="dir/themes/"+a.THEME,a.COOKIE_NAME=e.settings.cookieName,a.MENU_PLACEMENT=e.settings.menuPlacement,a.MENU_STYLE=e.settings.menuStyle,a.HAS_MENU_LOGO=e.settings.hasMenuLogo,a.HAS_FOOTER=e.settings.hasFooter,a.HAS_GLOSSARY=e.settings.hasGlossary,a.HAS_RESOURCES=e.settings.hasResources,a.HAS_HELP=e.settings.hasHelp,a.HAS_SPLASH_PAGE=e.settings.hasSplashPage,a.SETTINGS_LOADED=!1,a.CONTENTS={toc:e.settings.contents,completed:[]},a.HAS_VEHICLE_GAME=e.settings.hasVehicleGame,a.ctrData={},a.dragDropData={},a.flipCardData={},a.hotspotData={},a.knowledgeCheckData={},a.textData={},a.thumbnailData={},a.videoAudioData={},a.assessmentData={},a.COUNT_PAGES=e.settings.hasCountPages,"true"==a.COUNT_PAGES&&(a.pageCount={pagesTotal:0,pagesVisited:0,pageIds:[]}),"false"===e.settings.hasFooter&&$(".footer").remove(),localStorage.setItem(s,JSON.stringify(a)),function(){var e=JSON.parse(localStorage.getItem(s)),t=e.CONTENTS.toc,a=0,o=[];e.chapters=new Array(t.length);for(var n=0;n<t.length;n++){e.chapters[n]={title:null,titleIndex:-1,isActive:!0,pages:[]},e.chapters[n].pages=new Array(t[n].length);for(var i=0;i<t[n].length;i++)a+=1,e.chapters[n].pages[i]={title:null,file:t[n][i],gated:!1,locks:[0],audio:"",video:!1},o.push({page:t[n][i],completed:!1})}e.PAGE_TOTAL=a,a,e.CONTENTS.completed=o,"true"==e.COUNT_PAGES&&(e.pageCount.pagesTotal=a),localStorage.setItem(s,JSON.stringify(e)),function(){for(var e=JSON.parse(localStorage.getItem(s)),t=0,a=0;a<e.chapters.length;a++)for(var o=0;o<e.chapters[a].pages.length;o++){t+=1;var n="dir/content/course_content/"+e.chapters[a].pages[o].file+".xml";$.ajax({url:n,type:"GET",chapterIndex:a,pageIndex:o,activeCount:t,success:function(t){var o=r.b();if(0==this.pageIndex)if(e.chapters[this.chapterIndex].title=$(t).find("title").find("chapterTitle").text(),o&&""!=o&&void 0!=o[a]){var n="false";"1"==o[a].split("}")[0].split("]")[0]&&(n="true"),e.chapters[this.chapterIndex].isActive=n,e.chapters[this.chapterIndex].titleIndex=o[a].split("}")[0].split("]")[1]}else e.chapters[this.chapterIndex].isActive="true",e.chapters[this.chapterIndex].titleIndex=-1;e.chapters[this.chapterIndex].pages[this.pageIndex].title=$(t).find("title").find("pageTitle").text(),"true"==$(t).find("title").find("gated").text()&&(e.chapters[this.chapterIndex].pages[this.pageIndex].gated=!0),e.chapters[this.chapterIndex].pages[this.pageIndex].locks=[0],e.chapters[this.chapterIndex].pages[this.pageIndex].audio=!1,e.chapters[this.chapterIndex].pages[this.pageIndex].video=!1,e.chapters[this.chapterIndex].pages[this.pageIndex].count=this.activeCount,e.chapters[this.chapterIndex].pages[this.pageIndex].content=$(t).find("layout").text(),localStorage.setItem(s,JSON.stringify(e))},complete:function(){var t=e.chapters[this.chapterIndex].pages[this.pageIndex].file;e.CONTENTS.completed.forEach(function(e,a){e.page==t&&(e.completed=!0)});for(var a=0;a<e.CONTENTS.completed.length;a++){if(1!=e.CONTENTS.completed[a].completed){e.SETTINGS_LOADED=!1;break}e.SETTINGS_LOADED=!0}e.SETTINGS_LOADED&&(console.log("Navigation loading completed:"),!0,!0)}})}}()}(),m()}(e)})})}]);
//# sourceMappingURL=bundle.js.map