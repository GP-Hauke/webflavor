{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/src/components/modal_functions.js","webpack:///./app/src/js/interface_functions.js","webpack:///./app/src/js/content_functions.js","webpack:///./app/src/components/ctr_functions.js","webpack:///./app/src/components/drag_drop_functions.js","webpack:///./app/src/components/flip_cards_functions.js","webpack:///./app/src/components/hotspot_functions.js","webpack:///./app/src/components/knowledge_check_functions.js","webpack:///./app/src/components/text_functions.js","webpack:///./app/src/components/thumbnails_functions.js","webpack:///./app/src/components/video_audio_functions.js","webpack:///./app/src/js/app_functions.js","webpack:///./app/src/js/tracking_functions.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","LOCAL_COURSE_DATA_ID","courseData","openModal","localStorageID","modalType","assessmentID","clickTarget","JSON","parse","localStorage","getItem","THEME_PATH","$","html","title","splash","caption","intro","introduction","getSplashPage","glossary","items","length","term","def","definition","glossID","charAt","glossItem","getGlossary","click","this","text","scrollTop","offset","top","animate","resources","source","resourceItem","getResources","launchAssessment","remove","on","e","css","height","modal","openContentModal","content","openVideoModal","src","openAudioModal","console","log","_components_modal_functions__WEBPACK_IMPORTED_MODULE_1__","cookieName","totalPages","currentChapter","currentPage","activePageCount","pageIsLoading","initInterface","id","document","TITLE","COOKIE_NAME","buildShellUI","enforcedShow","loadPage","elem","show","hasClass","removeClass","MENU_PLACEMENT","buildTopNav","buildLeftNav","buildTabNav","buildNoneNav","navMarkup","data","append","SUB_TITLE","mobileNav","chapters","mobileMenuButton","pages","j","eval","headerLinks","HAS_RESOURCES","headerLinkEl","HAS_GLOSSARY","HAS_HELP","bottomNav","menuButton","k","MENU_STYLE","addClass","calculateHeight","HAS_MENU_LOGO","updateNavigation","notSelectedClass","loadInterfaceStyles","leftNav","toggleClass","locked","singlePage","previousLocks","isActive","hide","completeCount","checkLock","eq","gated","locks","toString","indexOf","activateChapter","active","deactive","titleIndex","split","chapter","page","openLock","lock","setItem","stringify","openPage","nextPage","count","prevPage","startAudio","args","getElementById","load","play","stopAudio","pause","playAudio","changeVolume","volume","prop","el","contentWindow","contentDocument","muteAudio","toggle","unmuteAudio","getFooterNav","hasLocks","footerNavHTML","closeCourse","window","close","audio","_content_functions__WEBPACK_IMPORTED_MODULE_0__","_components_modal_functions__WEBPACK_IMPORTED_MODULE_8__","loadContent","param","arg","done","xml","empty","find","titleHTML","attr","setupAssessment","children","each","type","tagName","componentID","_components_ctr_functions__WEBPACK_IMPORTED_MODULE_0__","_components_drag_drop_functions__WEBPACK_IMPORTED_MODULE_1__","_components_flip_cards_functions__WEBPACK_IMPORTED_MODULE_2__","_components_hotspot_functions__WEBPACK_IMPORTED_MODULE_3__","_components_knowledge_check_functions__WEBPACK_IMPORTED_MODULE_4__","_components_text_functions__WEBPACK_IMPORTED_MODULE_5__","_components_thumbnails_functions__WEBPACK_IMPORTED_MODULE_6__","_components_video_audio_functions__WEBPACK_IMPORTED_MODULE_7__","updatePagination","COUNT_PAGES","registerPageVisit","getPageTitle","getFooterHeight","pageLoaded","currChap","totalChaps","pageId","pageCount","pageIds","push","pagesVisited","setComplete","SetComplete","width","initCtr","CtrContentXML","elementID","location","reload","currentCtr","currentID","ctrData","ctrs","getCtrIndex","setupCtr","completed","ctr","completion","score","position","sections","gate","section","reveal","num","colNum","sectionHtml","parent","display","sectionID","substr","checkCTRCompletion","left","right","bottom","COMPLETED_INTERACTIVES","initDragAndDrop","dragDropContentXML","currentDragDrop","dragDropData","dragDrops","getDragDropIndex","setupDragDrop","dragDrop","minimumScore","matchings","currentPair","pair","drag","drop","currentGate","draggable","droppable","submitDragDrop","minScore","parseInt","answers","answerID","mouseenter","next","mouseleave","matchID","answerTemp","matchTemp","percentage","correctPercentage","parseFloat","toFixed","gameFeedback","after","x","draggables","Math","floor","random","shuffleDrags","droppables","shuffleDrops","dragstart_handler","ev","dataTransfer","setData","target","dropEffect","dragover_handler","preventDefault","drop_handler","dragVal","getData","dropVal","dragId","dropId","tempDropId","index","initFlipCard","flipCardContentXML","currentFlipCardComponent","flipCardData","flipCards","getFlipCardIndex","setupFlipCards","flipCard","hasButton","class","cards","currentCard","card","front","back","cardNum","size","cardWidth","cardHTML","CSSPlugin","defaultTransformPerspective","TweenMax","set","rotationY","element","frontCard","backCard","tl","TimelineMax","paused","to","z","animation","cardID","closest","checkCardsCompletion","reverse","hover","cardsID","initHotspot","hotspotContentXML","currentHotspot","hotspotData","hotspots","getHotspotIndex","setupHotSpot","hotspot","img","spots","currentSpot","spot","label","popup","spotID","popupHTML","checkHotspotCompletion","initKnowledgeCheck","knowledgeCheckXML","currentKnowledgeCheck","knowledgeCheckData","knowledgeChecks","getKnowledgeCheckIndex","setupKnowledgeCheck","totalScore","knowledgeCheck","scored","questions","currentQuestion","question","body","correct","currentAnswer","answer","selected","questionBody","answerBody","questionHTML","answersHTML","endKnowledgeCheck","selectedAnswer","siblings","totalCorrect","submitAnswers","feedback","initText","textComponentXML","currentText","__webpack_exports__","initThumbnails","thumbnailContentXML","currentThumbnailComponent","thumbnailData","thumbnails","getThumbnailIndex","setupThumbnails","thumbnail","thumbs","currentThumbnail","thumb","url","onclickFunction","heading","thumbnailNum","thumbnailWidth","href","thumbnailHTML","checkThumbCompletion","evt","thumbID","_components_modal_functions__WEBPACK_IMPORTED_MODULE_0__","initVideoAudio","videoAudioComponentXML","currentVideoAudio","videoAudioData","videoAudio","getVideoAudioIndex","setupVideoAudio","embeded","poster","checkVideoAudioCompletion","app_functions_courseData","TRACKING","SCORM","setScore","GetPathmark","getAPIHandle","doLMSGetValue","GetCookie","doLMSSetValue","doLMSCommit","search","cookie","end","cookieValue","unescape","substring","glossaryLoaded","resourcesLoaded","cardContentLoaded","splashLoaded","loadXMLData","undefined","cardData","HAS_SPLASH_PAGE","GetInterfaceXML","replace","interface_functions","initCardContent","storage","tempStorage","itemsXML","hl","item","addGlossaryToLocalStorage","addResourcesToLocalStorage","addSplashToLocalStorage","ready","clear","resize","computeTime","doLMSFinish","doLMSInitialize","startTimer","status","StartLMS","json","settings","courseStorageID","localStorageSize","currentVersion","version","SETTINGS_VERSION","courseStorageObj","courseTitle","courseSubTitle","THEME","theme","menuPlacement","menuStyle","hasMenuLogo","HAS_FOOTER","hasFooter","hasGlossary","hasResources","hasHelp","hasSplashPage","SETTINGS_LOADED","CONTENTS","toc","contents","textData","hasCountPages","pagesTotal","pageTotal","xmlArray","Array","file","video","PAGE_TOTAL","tempData","activeCount","ajax","chapterIndex","pageIndex","success","pathMark","complete","current","forEach","getChapterData","getNavigationData","populateStorage"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","var LOCAL_COURSE_DATA_ID;\r\nvar courseData;\r\n\r\nexport function openModal(localStorageID, modalType, assessmentID, clickTarget) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n  courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var pathStr = courseData.THEME_PATH;\r\n  switch(modalType) {\r\n    case 'splashPage':\r\n      $('#modalContainer').html(getSplashPage());\r\n      break;\r\n    case 'glossary':\r\n      $('#modalContainer').html(getGlossary());\r\n      glossaryNavigate();\r\n      break;\r\n    case 'resources':\r\n      $('#modalContainer').html(getResources());\r\n      break;\r\n    case 'help':\r\n      $('#modalContainer').html(getHelpPage());\r\n      break;\r\n    case 'assessment':\r\n      $('#modalContainer').html(getAssessment());\r\n      launchAssessment(assessmentID, clickTarget);\r\n      break;\r\n  }\r\n\r\n  $('#beginCourse').click(function(){\r\n    $('#modalContainer').html('');\r\n    $('.modal-backdrop').remove();\r\n  });\r\n\r\n  $('.modal').on('shown.bs.modal', function (e) {\r\n    $('.modal .modal-body').css({height: $('.modal').height()});\r\n  });\r\n\r\n  $('.modal').on('hidden.bs.modal', function (e) {\r\n    $('#modalContainer').html('');\r\n  });\r\n\r\n  $('.modal').modal();\r\n}\r\n\r\nexport function openContentModal(content) {\r\n  $('#modalContainer').html(content);\r\n}\r\n\r\n export function openVideoModal(src) {\r\n  $('#modalContainer').html(\"<div class='modal fade' id='videoModal' tabindex='-1' role='dialog' aria-labelledby='videoModalLabel'><div class='modal-dialog' role='document'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'><img src='dir/media/img/btn_close.png' alt='close the modal'></span></button></div><div class='modal-body clearfix'><video controls autoplay>Sorry, your browser doesn't support embedded videos. <source src='\"+src+\"' type='video/mp4'></video></div></div></div></div>\");\r\n\r\n  $('.modal').on('hidden.bs.modal', function (e) {\r\n    $('#modalContainer').html('');\r\n  });\r\n\r\n  $('.modal').modal();\r\n}\r\n\r\nexport function openAudioModal(src) {\r\n  console.log(src);\r\n  $('#modalContainer').html(\"<div class='modal fade' id='audioModal' tabindex='-1' role='dialog' aria-labelledby='audioModalLabel'><div class='modal-dialog' role='document'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'><img src='dir/media/img/btn_close.png' alt='close the modal'></span></button></div><div class='modal-body clearfix'><audio controls><source src='\"+src+\"' type='audio/mp3'>Your browser does not support the audio element.</audio></div></div></div></div>\");\r\n\r\n  $('.modal').on('hidden.bs.modal', function (e) {\r\n    $('#modalContainer').html('');\r\n  });\r\n\r\n  $('.modal').modal();\r\n}\r\n\r\nexport function getSplashPage() {\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n\r\n  var title = courseData.splash.title;\r\n  var caption = courseData.splash.caption;\r\n  var intro = courseData.splash.introduction;\r\n\r\n  var html = '<div class=\"modal\" id=\"splashPageModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"splashPageModalLabel\"><div class=\"modal-dialog\" role=\"document\" style=\"max-width: 1000px\"><div class=\"modal-content\"><div class=\"row\"><div class=\"col-md-5 col splashTitle\"><h3>'+title+'</h3><h1>'+caption+'</h1><p>'+intro+'</p> <a id=\"beginCourse\" class=\"btn btn-default d-block mx-auto\" role=\"button\">Begin Course</a></div></div></div></div></div><audio autoplay><source src=\"dir/media/audio/0.mp3\"/></audio>';\r\n\r\n  return html;\r\n}\r\n\r\n/* NEW GLOSSARY METHOD USING XML */\r\n\r\nexport function getGlossary() {\r\n  var glossary = '<div class=\"modal fade\" id=\"glossaryModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"glossaryModalLabel\"><div class=\"modal-dialog\" role=\"document\"><div class=\"modal-content\"><div class=\"modal-header\"><div class=\"modal-title-wrapper\"><h4 class=\"modal-title\" id=\"glossaryModalLabel\">GLOSSARY</h4><button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\"><img src=\"dir/media/img/btn_close_glossary.png\" alt=\"close the glossary\"></span></button></div><div class=\"alphabet\"><a id=\"\" href=\"#\">#</a><a id=\"\" href=\"#\">a</a><a id=\"\" href=\"#\">b</a><a id=\"\" href=\"#\">c</a><a id=\"\" href=\"#\">d</a><a id=\"\" href=\"#\">e</a><a id=\"\" href=\"#\">f</a><a id=\"\" href=\"#\">g</a><a id=\"\" href=\"#\">h</a><a id=\"\" href=\"#\">i</a><a id=\"\" href=\"#\">j</a><a id=\"\" href=\"#\">k</a><a id=\"\" href=\"#\">l</a><a id=\"\" href=\"#\">m</a><a id=\"\" href=\"#\">n</a><a id=\"\" href=\"#\">o</a><a id=\"\" href=\"#\">p</a><a id=\"\" href=\"#\">q</a><a id=\"\" href=\"#\">r</a><a id=\"\" href=\"#\">s</a><a id=\"\" href=\"#\">t</a><a id=\"\" href=\"#\">u</a><a id=\"\" href=\"#\">v</a><a id=\"\" href=\"#\">w</a><a id=\"\" href=\"#\">x</a><a id=\"\" href=\"#\">y</a><a id=\"\" href=\"#\">z</a></div></div><div class=\"modal-body\">';\r\n\r\n\r\n  for(var i = 0; i < courseData.glossary.items.length; i++){\r\n\r\n    var term = courseData.glossary.items[i].term;\r\n    var def = courseData.glossary.items[i].definition;\r\n    var glossID = term.charAt(0);\r\n\r\n\r\n    var glossItem = '<div class=\"gloss-item\" id=\"'+glossID+'\"><h5>'+term+'</h5><p>'+ def +'</p></div>'\r\n\r\n    glossary += glossItem;\r\n  }\r\n\r\n  glossary += '</div></div></div></div>';\r\n\r\n  return glossary;\r\n\r\n}\r\n\r\nexport function glossaryNavigate(){\r\n  $(\".alphabet a\").click(function() {\r\n    var c = '#' + $(this).text()\r\n    //If clicking # to see numbers, go to top\r\n    if(c == '##'){\r\n      $('.modal-body').scrollTop(\r\n        0\r\n      );\r\n    }\r\n    else{\r\n      //Else, they are clicking letter\r\n      if($(c).offset() != null){\r\n        if($(c).offset().top > 140 || 120 > $(c).offset().top){\r\n          $('.modal-body').scrollTop(\r\n            0\r\n          );\r\n\r\n          $('.modal-body').animate({\r\n            scrollTop: $(c).offset().top - 130\r\n          });\r\n        }\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n/* end NEW GLOSSARY METHOD USING XML */\r\n\r\nexport function getResources() {\r\n  var resources = '<div class=\"modal fade\" id=\"resourcesModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"resourcesModalLabel\"><div class=\"modal-dialog\" role=\"document\"><div class=\"modal-content\"><div class=\"modal-header\"><div class=\"modal-title-wrapper\"><h4 class=\"modal-title\" id=\"resourcesModalLabel\">RESOURCES</h4><button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\"><img src=\"dir/media/img/btn_close_glossary.png\" alt=\"close the resources\"></span></button></div></div><div class=\"modal-body\">';\r\n\r\n\r\n  for(var i = 0; i < courseData.resources.items.length; i++){\r\n\r\n    var term = courseData.resources.items[i].term;\r\n    var def = courseData.resources.items[i].definition;\r\n    var name = courseData.resources.items[i].name;\r\n    var source = courseData.resources.items[i].source;\r\n\r\n\r\n    var resourceItem = '<div class=\"gloss-item\"\"><h5>'+term+'</h5><p>'+ def +'</p><a target=\"blank\" href=\"'+source+'\" class=\"bolded\">'+ name +'</a></div>'\r\n\r\n    resources += resourceItem;\r\n  }\r\n\r\n  resources += '</div></div></div></div>';\r\n  return resources;\r\n\r\n}\r\n\r\n\r\nexport function getHelpPage() {\r\n  var html = '<div class=\"modal fade\" id=\"helpModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"\"><div class=\"modal-dialog\" style=\"max-width:none\" role=\"document\"><div class=\"modal-content\"><div class=\"modal-header\"><h4 class=\"modal-title\" id=\"helpModalLabel\">HELP</h4><button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\"><img src=\"dir/media/img/btn_close_help.png\" alt=\"close the help page\"></span></button></div><div class=\"modal-body\"><div class=\"help-section\"><h5>NAVIGATION</h5><div class=\"help-item\"><h6>TABLE OF CONTENTS</h6><img src=\"dir/media/img/help_toc.png\" alt=\"t.o.c. icon\"/><p>Use this to navigate to different pages in the course.</p></div><div class=\"help-item\"><h6>CONTENT AREA</h6><p>Content will appear here. Follow the on-screen instructions for videos or interactives. Some pages may scroll.</p></div><div class=\"help-item\"><h6>PAGE COUNT</h6><img src=\"dir/media/img/help_page_count.png\" alt=\"page count screen shot\"/><p>Check your progress through the course.</p></div><div class=\"help-item\"><h6>BACK/NEXT BUTTONS</h6><img src=\"dir/media/img/help_back_next.png\" alt=\"page count screen shot\"/><p>Use these buttons to move forward or backward in the course.</p></div></div><div class=\"help-section\"><h5>HELP</h5><div class=\"help-item\"><h6>HELP</h6><img src=\"dir/media/img/help_help.png\" alt=\"page count screen shot\"/><p>This page describes how to use the course.</p></div></div></div></div></div></div>';\r\n  return html;\r\n}\r\n\r\nexport function getAssessment() {\r\n  var html = '<div class=\"modal\" id=\"assessmentModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"assessmentModalLabel\" data-backdrop=\"static\"><div class=\"modal-dialog\" role=\"document\" style=\"max-width: 1000px\"><div class=\"modal-content\"><div class=\"row\"><div class=\"col-md-12 assessment-container\"></div></div></div></div></div>';\r\n  return html;\r\n}\r\n","//////////////////////////////////////////////////////////////////////\r\n//\r\n//     Interface JS\r\n//      - Builds shell of course and interface\r\n//      - Controlls UI functions\r\n//\r\n//////////////////////////////////////////////////////////////////////\r\n\r\nimport * as Content from './content_functions';\r\nimport * as Modal from '../components/modal_functions';\r\n\r\nvar LOCAL_COURSE_DATA_ID;\r\nvar courseData;\r\nvar cookieName;\r\nvar totalPages;\r\nvar currentChapter\r\nvar currentPage;\r\nvar activePageCount;\r\nvar pageIsLoading;\r\n\r\nexport function initInterface(id) {\r\n  //console.log(\"Building Interface...\");\r\n  LOCAL_COURSE_DATA_ID = id;\r\n  courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var pageCount = 0;\r\n\r\n  document.title = courseData.TITLE;\r\n\r\n  cookieName = courseData.COOKIE_NAME;\r\n\r\n  totalPages = pageCount;\r\n  currentChapter = 1;\r\n  currentPage = 1;\r\n\r\n  buildShellUI();\r\n  enforcedShow($(\"#mainContainer\"));\r\n  loadPage();\r\n}\r\n\r\nexport function enforcedShow(elem) {\r\n  elem.show();\r\n  if(elem.hasClass(\"hidden\")) {\r\n    elem.removeClass(\"hidden\");\r\n  }\r\n}\r\n\r\nexport function buildShellUI() {\r\n  //console.log(\"buildShellUI()\");\r\n\r\n  if(courseData.MENU_PLACEMENT === 'top') {\r\n    buildTopNav();\r\n\r\n  } else if(courseData.MENU_PLACEMENT === 'left') {\r\n    buildLeftNav();\r\n  }\r\n  else if(courseData.MENU_PLACEMENT === 'tab') {\r\n    buildTabNav();\r\n  }\r\n  else {\r\n    buildNoneNav();\r\n  }\r\n}\r\n\r\nexport function buildTopNav() {\r\n\r\n  var navMarkup = '';\r\n  $.get(\"src/components/navigation/nav.html\", function(data) {\r\n    navMarkup = data;\r\n    $(\"#navContainer\").append(navMarkup);\r\n\r\n    $('#titleMain').html(courseData.TITLE+\":\");\r\n    $('#titleMainMobile').html(courseData.TITLE+\":\");\r\n    $('#subTitle').html(courseData.SUB_TITLE);\r\n    $('#subTitleMobile').html(courseData.SUB_TITLE);\r\n\r\n    // MOBILE NAV DRAWER\r\n    var mobileNav = '';\r\n\r\n    for(var i = 0; i < courseData.chapters.length; i++) {\r\n\r\n      var mobileMenuButton = \"\";\r\n\r\n      if(courseData.chapters[i].pages.length > 1) {\r\n\r\n        mobileMenuButton = '<li id=\"courseTitleChapter'+i+'\" class=\"courseTitleChapter dropdown\"><div class=\"dropdown-link-wrapper\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"><p class=\"nav-link\" >'+courseData.chapters[i].title+'</p></div><ul class=\"dropdown-menu\">';\r\n\r\n        for(var j = 0; j < courseData.chapters[i].pages.length; j++) {\r\n          mobileMenuButton = mobileMenuButton + '<li onclick = \"openPage('+eval(i+1)+','+eval(j+1)+')\"><p>'+courseData.chapters[i].pages[j].title+'</p></li>';\r\n        }\r\n\r\n        mobileMenuButton = mobileMenuButton + '</ul></li>';\r\n\r\n      } else {\r\n        mobileMenuButton = '<li class=\"courseTitleChapter\" id=\"courseTitleChapter'+i+'\" onclick=\"openPage('+eval(i+1)+',1)\"><p class=\"nav-link\">'+courseData.chapters[i].title+'</p></li>';\r\n      }\r\n\r\n      mobileNav = mobileNav + mobileMenuButton;\r\n\r\n    }\r\n\r\n    $(\"#navbarMobile\").append(mobileNav);\r\n    // END MOBILE NAV DRAWER\r\n\r\n    // HEADER LINKS\r\n    var headerLinks = \"\";\r\n    if(courseData.HAS_RESOURCES === \"true\"){\r\n      var headerLinkEl = '<li><a id=\"btnResources\" href=\"#\" target=\"\">RESOURCES</a></li>';\r\n      headerLinks = headerLinks + headerLinkEl;\r\n    }\r\n    if(courseData.HAS_GLOSSARY === \"true\"){\r\n      var headerLinkEl = '<li><a id=\"btnGlossary\" href=\"#\" target=\"\">GLOSSARY</a></li>';\r\n      headerLinks = headerLinks + headerLinkEl;\r\n    }\r\n    if(courseData.HAS_HELP === \"true\"){\r\n      var headerLinkEl = '<li><a id=\"btnHelpModal\" href=\"#\" target=\"\">?</a></li>';\r\n      headerLinks = headerLinks + headerLinkEl;\r\n    }\r\n    $(\"#headerLinks\").append(headerLinks);\r\n    // END HEADER LINKS\r\n\r\n    // BOTTOM NAV\r\n    var bottomNav = '<div class=\"container\"><div id=\"navbarBottomCollapse\" class=\"navbar-collapse collapse\"><ul id=\"nav-items-bottom-row\" class=\"nav nav-justified\">';\r\n\r\n    for(var i = 0; i < courseData.chapters.length; i++) {\r\n\r\n      var menuButton = \"\";\r\n\r\n      if(courseData.chapters[i].pages.length > 1) {\r\n\r\n        menuButton = '<li class=\"dropdown\"><button class=\"btn btn-default dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\">'+courseData.chapters[i].title+'<span class=\"caret\"></span></button><ul class=\"dropdown-menu\">';\r\n\r\n        for(var k = 0; k < courseData.chapters[i].pages.length; k++) {\r\n          menuButton = menuButton + '<li><a href=\"javascript:openPage('+i+','+k+')\">'+courseData.chapters[i].pages[k].title+'</a></li>';\r\n        }\r\n\r\n        menuButton = menuButton + '</ul></li>';\r\n\r\n      } else {\r\n        menuButton = '<li class=\"courseTitleChapter\" id=\"courseTitleChapter'+i+'\" onclick=\"openPage('+i+',0)\">'+courseData.chapters[i].title+'</li>';\r\n      }\r\n\r\n      bottomNav = bottomNav + menuButton;\r\n\r\n      if(courseData.MENU_STYLE === 'tab' && courseData.MENU_PLACEMENT === 'top') {\r\n        $('#navbarMain').addClass('tabbed');\r\n        $('.navbar .container').addClass('navbar-expand-md');\r\n      }\r\n      else{\r\n        $('#navbarMain').addClass('default');\r\n      }\r\n    }\r\n\r\n    bottomNav = bottomNav + '</ul></div></div>';\r\n\r\n    $(\"#navbarMain\").on('hidden.bs.collapse', function () {\r\n      calculateHeight();\r\n    });\r\n\r\n    $(\"#navbarBottom\").append(bottomNav);\r\n    // END BOTTOM NAV\r\n\r\n    if(courseData.HAS_MENU_LOGO == \"true\"){\r\n      $('#navbar .navbar-brand').append('<img src=\"'+courseData.THEME_PATH+'/img/logo.png\" alt=\"logo\">')\r\n    }\r\n    $('#btnGlossary').click(function(){Modal.openModal(LOCAL_COURSE_DATA_ID, 'glossary');});\r\n    $('#btnHelpModal').click(function(){Modal.openModal(LOCAL_COURSE_DATA_ID, 'help');});\r\n    $('#btnResources').click(function(){Modal.openModal(LOCAL_COURSE_DATA_ID, 'resources');});\r\n\r\n    updateNavigation();\r\n\r\n    //var width = $('#navbarMobile li.courseTitleChapter').css(\"width\");\r\n    //$('#navbarMobile li.courseTitleChapter').css(\"max-width\", width);\r\n  });\r\n\r\n  var notSelectedClass = \"menuItemNotSelected\";\r\n}\r\n\r\nexport function buildLeftNav() {\r\n\r\n  var navMarkup = '';\r\n  $.get(\"src/components/navigation/navLeft.html\", function(data) {\r\n    navMarkup = data;\r\n    $(\"#navContainer\").append(navMarkup);\r\n\r\n    $('#titleMain').html(courseData.TITLE+\":\");\r\n    $('#titleMainMobile').html(courseData.TITLE);\r\n    $('#subTitle').html(courseData.SUB_TITLE);\r\n    $('#subTitleMobile').html(courseData.SUB_TITLE);\r\n\r\n\r\n    // MOBILE NAV DRAWER\r\n    // MOBILE NAV DRAWER\r\n    var mobileNav = '';\r\n\r\n    for(var i = 0; i < courseData.chapters.length; i++) {\r\n\r\n      var mobileMenuButton = \"\";\r\n\r\n      if(courseData.chapters[i].pages.length > 1) {\r\n\r\n        mobileMenuButton = '<li id=\"courseTitleChapter'+i+'\" class=\"courseTitleChapter dropdown\"><p class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">'+courseData.chapters[i].title+'</p><ul class=\"dropdown-menu\">';\r\n\r\n        for(var j = 0; j < courseData.chapters[i].pages.length; j++) {\r\n          mobileMenuButton = mobileMenuButton + '<li onclick = \"openPage('+eval(i+1)+','+eval(j+1)+')\"><p>'+courseData.chapters[i].pages[j].title+'</p></li>';\r\n        }\r\n\r\n        mobileMenuButton = mobileMenuButton + '</ul></li>';\r\n\r\n      } else {\r\n        mobileMenuButton = '<li class=\"courseTitleChapter\" id=\"courseTitleChapter'+i+'\" onclick=\"openPage('+eval(i+1)+',1)\"><p>'+courseData.chapters[i].title+'</p></li>';\r\n      }\r\n\r\n      mobileNav = mobileNav + mobileMenuButton;\r\n\r\n    }\r\n\r\n    // HEADER LINKS\r\n    var headerLinks = \"\";\r\n    if(courseData.HAS_RESOURCES === \"true\"){\r\n      var headerLinkEl = '<li><a id=\"btnResources\" href=\"#\" target=\"\">RESOURCES</a></li>';\r\n      headerLinks = headerLinks + headerLinkEl;\r\n    }\r\n    if(courseData.HAS_GLOSSARY === \"true\"){\r\n      var headerLinkEl = '<li><a id=\"btnGlossary\" href=\"#\" target=\"\">GLOSSARY</a></li>';\r\n      headerLinks = headerLinks + headerLinkEl;\r\n    }\r\n    if(courseData.HAS_HELP === \"true\"){\r\n      var headerLinkEl = '<li><a id=\"btnHelpModal\" href=\"#\" target=\"\">?</a></li>';\r\n      headerLinks = headerLinks + headerLinkEl;\r\n    }\r\n    $(\"#headerLinks\").append(headerLinks);\r\n    // END HEADER LINKS\r\n\r\n    $(\"#navbarMobile\").append(mobileNav);\r\n    // END MOBILE NAV DRAWER\r\n\r\n    if(courseData.HAS_MENU_LOGO == \"true\"){\r\n      $('#navbar .navbar-brand').append('<img src=\"'+courseData.THEME_PATH+'/img/logo.png\" alt=\"logo\">')\r\n    }\r\n\r\n    $('#navbarMain').addClass('default');\r\n\r\n    $(\"#navbarMain\").on('hidden.bs.collapse', function () {\r\n      calculateHeight();\r\n    });\r\n\r\n    loadInterfaceStyles();\r\n\r\n  });\r\n\r\n  var notSelectedClass = \"menuItemNotSelected\";\r\n}\r\n\r\nexport function leftNav(){\r\n  $(\".navbar-fixed-left #navbarMain\").toggleClass('toggled');\r\n}\r\n\r\nexport function buildNoneNav() {\r\n\r\n  loadInterfaceStyles();\r\n  var notSelectedClass = \"menuItemNotSelected\";\r\n\r\n}\r\n\r\nexport function updateNavigation() {\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  //console.log(\"Update navigation\");\r\n  var notSelectedClass = \"menuItemNotSelected\";\r\n  activePageCount = 0;\r\n\r\n  var locked = false;\r\n  var singlePage = false;\r\n  var previousLocks = false;\r\n\r\n  for(var i = 0; i < courseData.chapters.length; i++) {\r\n    singlePage = false;\r\n\r\n    if(courseData.chapters[i].isActive==\"false\") {\r\n      $(\"#chapter\"+i).hide();\r\n\r\n    } else {\r\n      $(\"#chapter\"+i).show();\r\n    }\r\n\r\n    var completeCount = 0;\r\n\r\n    for(var j = 0; j < courseData.chapters[i].pages.length; j++) {\r\n      activePageCount += 1;\r\n      if(courseData.chapters[i].pages.length > 1){\r\n        singlePage = true;\r\n      }\r\n\r\n      //console.log(\"!checkLock(\"+eval(i+1)+\",\"+eval(j+1)+\"):  \" + !checkLock(eval(i+1),eval(j+1)));\r\n      if(!checkLock(eval(i+1),eval(j+1))){\r\n        //If Multiple Pages of a Chapter\r\n\r\n        if(j > 0){\r\n          $('#courseTitleChapter'+i +' .dropdown-menu li p').eq(j).addClass('courseTitleGatedPage');\r\n          previousLocks = true;\r\n        }\r\n        else{\r\n          $('#courseTitleChapter'+i + ' .nav-link').addClass('courseTitleGated');\r\n          if(previousLocks){\r\n            $('#courseTitleChapter'+i +' .dropdown-menu li p').addClass('courseTitleGatedPage');\r\n          }\r\n          previousLocks = true;\r\n        }\r\n      }\r\n      else{\r\n        $('#courseTitleChapter'+i + ' .nav-link').removeClass('courseTitleGated');\r\n        $('#courseTitleChapter'+i +' .dropdown-menu li p').eq(j).removeClass('courseTitleGatedPage');\r\n      }\r\n    }\r\n\r\n    if(courseData.chapters[i].pages.length==$('#courseTitleChapter'+i +' .dropdown-menu li .courseTitleGatedPage').length){\r\n      $('#courseTitleChapter'+ i + ' .nav-link').addClass('courseTitleGated');\r\n    }\r\n\r\n    if(completeCount == courseData.chapters[i].pages.length) {\r\n      $(\"#chapter\"+i).removeClass(\"chapterIncomplete\").addClass(\"chapterComplete\");\r\n    }\r\n  }\r\n\r\n  $(\"#mi\"+currentChapter+\"_\"+currentPage).removeClass(\"menuItemNotSelected\").removeClass(\"menuItemNotActive\").removeClass(\"menuItemVisited\").addClass(\"menuItemSelected\");\r\n\r\n  if(currentPage == 1 && currentChapter == 1) {\r\n    $(\"#prevBtn\").hide();\r\n    $(\"#nextBtn\").show();\r\n\r\n  } else if(currentChapter == courseData.chapters.length && currentPage == courseData.chapters[currentChapter-1].pages.length) {\r\n    $(\"#prevBtn\").show();\r\n    $(\"#nextBtn\").hide();\r\n\r\n  } else {\r\n    $(\"#prevBtn\").show();\r\n    $(\"#nextBtn\").show();\r\n  }\r\n\r\n  if(courseData.chapters[currentChapter-1].pages[currentPage-1].gated && courseData.chapters[currentChapter-1].pages[currentPage-1].locks.toString().indexOf(\"0\")!=-1) {\r\n    $(\"#nextBtn\").hide();\r\n  }\r\n\r\n  $(\"#navbarMobile .courseTitleChapter\").eq(currentChapter-1).addClass('courseTitleChapterSelected');\r\n\r\n}\r\n\r\nexport function activateChapter(active,deactive,titleIndex) {\r\n  //console.log(\"activateChapter()\");\r\n\r\n  for(var i = 0; i < active.length; i++) {\r\n    courseData.chapters[active[i]].isActive=\"true\";\r\n  }\r\n\r\n  for(var j = 0; j < deactive.length; j++) {\r\n    courseData.chapters[deactive[j]].isActive=\"false\";\r\n  }\r\n\r\n  if(titleIndex != -1) {\r\n    courseData.chapters[active[0]].titleIndex = titleIndex;\r\n    $(\"#chapter\"+active[0]).html(chapters[active[0]].title.split(\";\")[titleIndex]);\r\n  }\r\n  updateNavigation();\r\n}\r\n\r\nexport function checkLock(chapter,page) {\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < chapter; i++) {\r\n    for(var j = 0; j < courseData.chapters[i].pages.length; j++) {\r\n      if(i == chapter - 1 && j == page - 1) {\r\n        break;\r\n      }\r\n\r\n      if(courseData.chapters[i].pages[j].gated && courseData.chapters[i].pages[j].locks.toString().indexOf(\"0\")!=-1 && courseData.chapters[i].isActive==\"true\") {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function openLock(chapter,page,lock) {\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  //console.log(\"openLock(\"+chapter+\",\"+page+\",\"+lock+\")\");\r\n  if(lock >= courseData.chapters[chapter-1].pages[page-1].locks.length) {\r\n    return;\r\n  }\r\n\r\n  courseData.chapters[chapter-1].pages[page-1].locks[lock] = 1;\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n  updateNavigation();\r\n  //CreatePathmarks();\r\n}\r\n\r\nexport function openPage(c,p) {\r\n  //console.log(\"---------openPage(\"+c+\",\"+p+\")---------\");\r\n\r\n  if(!checkLock(c, p)) {\r\n    return;\r\n  }\r\n\r\n  currentChapter = c;\r\n  currentPage = p;\r\n  loadPage();\r\n}\r\n\r\nexport function nextPage() {\r\n  if(pageIsLoading) {\r\n    return;\r\n  }\r\n\r\n  pageIsLoading = true;\r\n\r\n  if(courseData.chapters[currentChapter-1].pages[currentPage-1].count != activePageCount) {\r\n    if(currentPage < courseData.chapters[currentChapter-1].pages.length) {\r\n      if(!checkLock(currentChapter, currentPage + 1)) {\r\n\r\n        pageIsLoading = false;\r\n        return;\r\n      }\r\n\r\n      currentPage++;\r\n      loadPage();\r\n\r\n    }\r\n\r\n    else {\r\n      if(!checkLock(currentChapter + 1, 1)) {\r\n\r\n        pageIsLoading = false;\r\n        return;\r\n      }\r\n\r\n      do {\r\n        currentChapter++;\r\n      }\r\n      while(courseData.chapters[currentChapter - 1].isActive == \"false\");\r\n      currentPage = 1;\r\n      loadPage();\r\n    }\r\n  }\r\n}\r\n\r\nexport function prevPage() {\r\n  //console.log(\"prevPage()\");\r\n  if(courseData.chapters[currentChapter-1].pages[currentPage-1].count!=1) {\r\n\r\n    if(currentPage-1 != 0) {\r\n      currentPage--;\r\n      loadPage();\r\n\r\n    } else {\r\n      do {\r\n        currentChapter--;\r\n      }\r\n      while(courseData.chapters[currentChapter-1].isActive == \"false\");\r\n\r\n      currentPage = courseData.chapters[currentChapter-1].pages.length;\r\n      loadPage();\r\n    }\r\n  }\r\n}\r\n\r\n/* AUDIO FUNCITONS */\r\nexport function startAudio(args) {\r\n  document.getElementById(\"pagePlayer\").src=\"media/audio/\"+args;\r\n  document.getElementById(\"pagePlayer\").load();\r\n  document.getElementById(\"pagePlayer\").play();\r\n  $(\"#playBtn\").hide();\r\n  $(\"#pauseBtn\").show();\r\n}\r\n\r\nexport function stopAudio() {\r\n  document.getElementById(\"pagePlayer\").pause();\r\n  $(\"#playBtn\").show();\r\n  $(\"#pauseBtn\").hide();\r\n}\r\n\r\nexport function playAudio() {\r\n  document.getElementById(\"pagePlayer\").play();\r\n  $(\"#playBtn\").hide();\r\n  $(\"#pauseBtn\").show();\r\n}\r\n\r\nexport function changeVolume(args) {\r\n  volume = args/100;\r\n  $(\"video\").prop(\"volume\",volume);\r\n  $(\"audio\").prop(\"volume\",volume);\r\n  try{\r\n    var el = document.getElementById('contentFrame');\r\n    if(el.contentWindow) {\r\n      el.contentWindow.changeVolume(volume)\r\n    }\r\n    else if(el.contentDocument) {\r\n      el.contentDocument.changeVolume(volume);\r\n    }\r\n  }catch(e){}\r\n}\r\n\r\nexport function muteAudio() {\r\n  $(\"#volumeSlider\").toggle();\r\n}\r\n\r\nexport function unmuteAudio() {\r\n  $(\"#volumeSlider\").toggle();\r\n}\r\n\r\n/* GETTERS */\r\nexport function getFooterNav() {\r\n  //console.log(\"getFooterNav()\");\r\n  if(currentChapter == courseData.chapters.length && currentPage == courseData.chapters[currentChapter-1].pages.length){\r\n    var hasLocks = true;\r\n  }\r\n  else if(currentPage < courseData.chapters[currentChapter-1].pages.length) {\r\n    var hasLocks = !checkLock(currentChapter, currentPage + 1);\r\n  }\r\n  else {\r\n    var hasLocks = !checkLock(currentChapter + 1, 1);\r\n  }\r\n\r\n  var nextBtnImgPath = '';\r\n  var backBtnImgPath = '';\r\n\r\n  // USE THIS TO DISPLAY CURRENT PAGE NUMBER AND TOTAL PAGES SEPARATED BY A DIVIDER\r\n  /*var footerNavHTML = '<span class=\"page-current\">'+(currentChapter+1)+'</span>&nbsp;<span><img src=\"'+courseData.THEME_PATH+'/media/img/divider_pagination.png\" alt=\"pagination divider\"></span>&nbsp;<span class=\"page-total\">'+parseInt(totalPages)+'</span>';*/\r\n\r\n  var footerNavHTML = '<span><img src=\"dir/media/img/btn_play_pause_inactive.png\" alt=\"play/pause button\"></span>';\r\n\r\n  /* current page is not the last page in the current chapter so display next button\r\n  OR current chapter is not the last chapter so display next button */\r\n  if(currentPage != courseData.chapters[currentChapter-1].pages.length || currentChapter != courseData.chapters.length) {\r\n    if(hasLocks) {\r\n      nextBtnImgPath = '/img/btn_next_inactive.png';\r\n    } else {\r\n      nextBtnImgPath = '/img/btn_next.png';\r\n    }\r\n\r\n    footerNavHTML = footerNavHTML + '<a class=\"next\" href=\"#\"><img src=\"dir/media'+nextBtnImgPath+'\" alt=\"go to next page\"></a>';\r\n\r\n  } else {\r\n    nextBtnImgPath = '/img/btn_next_inactive.png';\r\n\r\n    footerNavHTML = footerNavHTML + '<a class=\"next\" href=\"#\"><img src=\"dir/media'+nextBtnImgPath+'\" alt=\"go to next page\"></a>';\r\n\r\n  }\r\n\r\n  /* current page is not the first page in the current chapter so display back button\r\n  OR current chapter is not the first chapter so display back button */\r\n  if(currentPage != 1 || currentChapter != 1) {\r\n    backBtnImgPath = '/img/btn_back.png';\r\n\r\n    footerNavHTML = '<a class=\"back\" href=\"#\"><img src=\"dir/media'+backBtnImgPath+'\" alt=\"go to previous page\"></a>' + footerNavHTML;\r\n\r\n  } else {\r\n    backBtnImgPath = '/img/btn_back_inactive.png';\r\n\r\n    footerNavHTML = '<a class=\"back\" href=\"#\"><img src=\"dir/media/'+backBtnImgPath+'\" alt=\"go to previous page\"></a>' + footerNavHTML;\r\n  }\r\n\r\n  return footerNavHTML;\r\n}\r\n\r\nexport function closeCourse() {\r\n  top.window.close();\r\n}\r\n\r\nexport function loadPage() {\r\n  //console.log(\"loadPage()\");\r\n\r\n  try {\r\n    stopAudio();\r\n    if(courseData.chapters[currentChapter].pages[currentPage].audio != \"\") {\r\n      $(\"#audioBar\").show();\r\n      startAudio(courseData.chapters[currentChapter].pages[currentPage].audio);\r\n    } else {\r\n      $(\"#audioBar\").hide();\r\n    }\r\n  }\r\n  catch(e){}\r\n\r\n  openLock(currentChapter,currentPage,0);\r\n\r\n  pageIsLoading = false;\r\n  $(\"body\").scrollTop(0);\r\n\r\n  //document.getElementById(\"contentFrame\").src=\"src/components/content/\"+courseData.chapters[currentChapter].pages[currentPage].file+\".html\";\r\n\r\n  Content.loadContent(currentChapter, currentPage, LOCAL_COURSE_DATA_ID);\r\n  $(\"#navbarMobile .courseTitleChapter\").removeClass(\"courseTitleChapterSelected\");\r\n  $(\".navbar-fixed-left #navbarMain\").removeClass('toggled');\r\n  $(\"#navbarMobile .courseTitleChapter\").eq(currentChapter-1).addClass('courseTitleChapterSelected');\r\n  $(\".footer-nav\").html(getFooterNav());\r\n\r\n  $(\".next\").click(function(){\r\n    nextPage();\r\n  });\r\n\r\n  $(\".back\").click(function(){\r\n    prevPage();\r\n  });\r\n}\r\n\r\nwindow.openPage = openPage;\r\n","//////////////////////////////////////////////////////////////////////\r\n//\r\n//     Content JS\r\n//      - Loads in content for each individual page\r\n//      - Inner most module, cannot control outer parts\r\n//\r\n//////////////////////////////////////////////////////////////////////\r\n\r\nimport * as Ctr from '../components/ctr_functions';\r\nimport * as DragAndDrop from '../components/drag_drop_functions';\r\nimport * as FlipCard from '../components/flip_cards_functions';\r\nimport * as Hotspot from '../components/hotspot_functions';\r\nimport * as KnowledgeCheck from '../components/knowledge_check_functions';\r\nimport * as Text from '../components/text_functions';\r\nimport * as Thumbnails from '../components/thumbnails_functions';\r\nimport * as VideoAudio from '../components/video_audio_functions';\r\nimport * as Modal from '../components/modal_functions';\r\n\r\n\r\nvar LOCAL_COURSE_DATA_ID;\r\nvar currentChapter;\r\nvar currentPage;\r\nvar courseData;\r\n\r\nexport function loadContent(chapter, page, id){\r\n  LOCAL_COURSE_DATA_ID = id;\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  currentChapter = chapter;\r\n  currentPage = page;\r\n  var param = eval(currentChapter)+'_'+eval(currentPage);\r\n  var arg = 'dir/content/course_content/' + param +'.xml';\r\n  $.get(arg)\r\n  .done(function(xml) {\r\n    $('#pageContent').empty();\r\n\r\n    if($(xml).find(\"title\").find(\"included\").text() == \"true\"){\r\n      var titleSize = $(xml).find(\"title\").find(\"size\").text();\r\n      var titleHTML = '<div class=\"row\"><div class=\"col-sm-'+titleSize+'\"><h1 id=\"pageTitle\"></h1><div class=\"page-number\"></div></div></div>';\r\n      $('#pageContent').append(titleHTML);\r\n    }\r\n\r\n    var completion = $(xml).find(\"layout\").attr(\"completion\");\r\n    if(completion){\r\n      $('#pageContainer').addClass(\"completion\");\r\n    }\r\n    else{\r\n      $('#pageContainer').removeClass(\"completion\");\r\n\r\n    }\r\n    $('#pageContent').append($(xml).find('layout').text());\r\n\r\n\r\n    //CERTAIN PAGES NEED SPECIFIC METHODS RUN FOR THE COMPONENTS\r\n    //MUST BE RUN AFTER THE CONTENT HAS LOADED\r\n    //MOVED FROM HTML BODY onLoad=\"\" TO HERE DUE TO ASYNC\r\n    var component = $(xml).find('component').text();\r\n    if(component == 'game'){\r\n      setupAssessment();\r\n    }\r\n\r\n    var modal = $(xml).find('modal').text();\r\n    if(modal != \"\"){\r\n      Modal.openContentModal(modal);\r\n    }\r\n\r\n    var components = $(xml).find(\"components\");\r\n    components.children().each(function(){\r\n      var type = $(this)[0].tagName;\r\n      var componentID = $(this).attr(\"id\");\r\n\r\n      if(type == \"Ctr\"){\r\n        Ctr.initCtr(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"DragAndDrop\"){\r\n        DragAndDrop.initDragAndDrop(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"FlipCard\"){\r\n        FlipCard.initFlipCard(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"Hotspot\"){\r\n        Hotspot.initHotspot(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"KnowledgeCheck\"){\r\n        KnowledgeCheck.initKnowledgeCheck(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"Text\"){\r\n        Text.initText(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"Thumbnails\"){\r\n        Thumbnails.initThumbnails(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"VideoAudio\"){\r\n        VideoAudio.initVideoAudio(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n    })\r\n\r\n\r\n    if($(xml).find(\"title\").find(\"pagination\").text() == \"true\"){\r\n      updatePagination();\r\n    }\r\n\r\n    if(courseData.COUNT_PAGES == 'true') {\r\n      registerPageVisit(param); // lives in tracking_functions.js\r\n    }\r\n\r\n    try {\r\n      $(\"#pageTitle\").html(getPageTitle());\r\n    } catch(e) {\r\n      console.log('something went wrong ', e);\r\n    }\r\n\r\n    if($('.footer-spacer').length) {\r\n      $('.footer-spacer').css({height:getFooterHeight()+25});\r\n    }\r\n\r\n    try {\r\n      pageLoaded();\r\n    } catch(e) {\r\n      console.log('something went wrong ', e);\r\n    }\r\n  });\r\n}\r\n\r\nexport function updatePagination() {\r\n  var currChap = currentChapter;\r\n  //var totalChaps = parseInt(totalPages);\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var totalChaps = courseData.chapters.length;\r\n\r\n\r\n  //var totalChaps = 1;\r\n  $(\".page-number\").empty();\r\n  $(\".page-number\").append(\"<span>\"+currChap+\"</span> of <span>\"+totalChaps+\"</span>\");\r\n}\r\n\r\nexport function getPageTitle() {\r\n  courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  return courseData.chapters[currentChapter-1].pages[currentPage-1].title;\r\n}\r\n\r\nexport function registerPageVisit(pageId) {\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  if(courseData.pageCount.pageIds.indexOf(pageId) == -1) {\r\n    courseData.pageCount.pageIds.push(pageId);\r\n    courseData.pageCount.pagesVisited++;\r\n  }\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n}\r\n\r\nexport function pageLoaded() {\r\n  //  console.log(\"pageLoaded\");\r\n  //SetBookmark(currentChapter,currentPage);\r\n  calculateHeight();\r\n}\r\n\r\nexport function setComplete() {\r\n  SetComplete();\r\n\r\n  $(\"#btnComplete\").hide();\r\n\r\n  var confirmMsg = \"Thank you for completing this course. Your training record will be updated.\";\r\n\r\n  $(\"#sectionComplete\").text(confirmMsg);\r\n}\r\n\r\nexport function calculateHeight() {\r\n  // subtracting one pixel ensures that second scroll bar doesn't appear\r\n  // adding padding to accommodate Bootstrap header nav\r\n  // console.log(\"calculateHeight\");\r\n  // console.log($(\"#navbar\").height());\r\n\r\n  //  $(\"#contentContainer\").css({height:$(window).height() - 1, paddingTop:$(\"#navbar\").height()});\r\n  //$(\"#contentContainer\").css({height:$(window).height() - 1});\r\n  $(\"#contentContainer\").css({height:$(window).height()-($('#navContainer').height()+getFooterHeight())});\r\n\r\n\r\n  var navItemHeight = (($(window).height()-($('#navContainer').height()+getFooterHeight())) * .75)/ $('.courseTitleChapter').length;\r\n  //$('.tabbed #navbarMobile .courseTitleChapter').css({height: navItemHeight});\r\n  //---------------DEPRICATED AFTER REMOVING IFRAMES---------------\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height()});\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height() - $(\"#navbar\").height(), top:$(\"#navbar\").height()});\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height() - 7});\r\n\r\n  $(\"#audioBar\").width($(\"#mainContainer\").width()-216-$(\"#navBtns\").width());\r\n  $('.leftNav #navbarMain').css({height:$(window).height()-($('#navContainer').height()+getFooterHeight())});\r\n\r\n}\r\n\r\nexport function getFooterHeight() {\r\n  if($('footer').height() == null){\r\n    return 0;\r\n  }\r\n  return $('footer').height();\r\n}\r\n","var LOCAL_COURSE_DATA_ID;\r\n\r\nexport function initCtr(CtrContentXML, elementID,localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentCtr = $(CtrContentXML).find('Ctr[id=\"'+elementID+'\"]');\r\n  if(currentCtr.length == 0){\r\n    currentCtr = $(CtrContentXML).find('Ctr');\r\n  }\r\n  var currentID = $(currentCtr).attr(\"id\");\r\n\r\n  if(courseData.ctrData.ctrs != null){\r\n    for(var i=0; i < courseData.ctrData.ctrs.length; i++){\r\n      if(courseData.ctrData.ctrs[i].id == currentID){\r\n        var id = getCtrIndex(currentID);\r\n        console.log(\"Ctr Loaded Previously\");\r\n        setupCtr(id, elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"Ctr Initialized\");\r\n    courseData.ctrData.completed = 0;\r\n    courseData.ctrData.ctrs = [];\r\n  }\r\n\r\n  var ctr = {\r\n    id: $(currentCtr).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    score: 0,\r\n    position: currentCtr.attr(\"position\"),\r\n    sections: []\r\n  };\r\n\r\n  if(currentCtr.find(\"completion\").attr(\"gated\") == \"true\"){\r\n  ctr.completion = {\r\n    gate : {\r\n      chapter: currentCtr.find(\"chapter\").text(),\r\n      page: currentCtr.find(\"page\").text(),\r\n      lock: currentCtr.find(\"lock\").text()\r\n      }\r\n    }\r\n  };\r\n\r\n  $(currentCtr).find(\"section\").each(function() {\r\n    var section ={\r\n      click:$(this).find('click').text(),\r\n      reveal:$(this).find('reveal').text(),\r\n      completed: false\r\n    }\r\n    ctr.sections.push(section);\r\n  });\r\n\r\n  courseData.ctrData.ctrs.push(ctr);\r\n\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n  var id = getCtrIndex(currentID);\r\n  setupCtr(id,elementID);\r\n}\r\n\r\nexport function setupCtr(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var num = courseData.ctrData.ctrs[id].sections.length;\r\n  var position = courseData.ctrData.ctrs[id].position;\r\n  var colNum = 12/num;\r\n\r\n  var html = '<div class=\"row\"><div class=\"col-md-12 mx-auto p-0\"><div id=\"\"><div class=\"ctr\"><div class=\"row\"></div></div></div></div></div>';\r\n\r\n  $('#'+elementID).append(html);\r\n\r\n\r\n  for(var i = 0; i < courseData.ctrData.ctrs[id].sections.length; i++){\r\n    var click = courseData.ctrData.ctrs[id].sections[i].click;\r\n    var reveal = courseData.ctrData.ctrs[id].sections[i].reveal;\r\n\r\n    var sectionHtml = '<div class=\"col-md-'+colNum+' p-0\" id=\"'+elementID+'-'+i+'\"><div class=\"ctr-wrapper '+elementID+'-section-'+i+'\"><div class=\"click\">'+click+'</div></div><div class=\"ctr-wrapper\"><div class=\"reveal\">'+reveal+'</div></div></div>';\r\n\r\n    $('#'+elementID + ' .ctr .row').append(sectionHtml);\r\n\r\n    $(\".\"+elementID+\"-section-\"+i).click(function(){\r\n      var parent = $(this).parent();\r\n      var reveal = parent.find(\".reveal\");\r\n      reveal.css({\"display\":\"block\"});\r\n      var sectionID = parent.attr('id');\r\n      sectionID = sectionID.substr(sectionID.length-1, sectionID.length);\r\n      checkCTRCompletion(id, sectionID)\r\n    });\r\n\r\n  }\r\n\r\n\r\n  //$('#'+elementID).append(html);\r\n\r\n  //DEFAULT POSITION IS RIGHT\r\n  var click = $('#'+elementID+ ' .click').parent();\r\n  var reveal = $('#'+elementID+ ' .reveal').parent();\r\n\r\n  if(position == \"right\"){\r\n    click.css({\"left\": \"0\"});\r\n    reveal.css({\"right\": \"0\"});\r\n\r\n  }\r\n  else if(position == \"left\"){\r\n    click.css({\"right\": \"0\"});\r\n    reveal.css({\"left\": \"0\"});\r\n  }\r\n\r\n  else if(position == \"top\"){\r\n    click.css({\r\n      \"bottom\": \"0\",\r\n      \"width\": \"100%\",\r\n      \"height\": \"50%\"\r\n    });\r\n    reveal.css({\r\n      \"top\": \"0\",\r\n      \"width\": \"100%\",\r\n      \"height\": \"50%\"\r\n    });\r\n  }\r\n  else if(position == \"bottom\"){\r\n    click.css({\r\n      \"top\": \"0\",\r\n      \"width\": \"100%\",\r\n      \"height\": \"50%\"\r\n    });\r\n    reveal.css({\r\n      \"bottom\": \"0\",\r\n      \"width\": \"100%\",\r\n      \"height\": \"50%\"\r\n    });\r\n  }\r\n}\r\n\r\nexport function getCtrIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.ctrData.ctrs.length; i++){\r\n    if(courseData.ctrData.ctrs[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\nexport function checkCTRCompletion(id, sectionID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  console.log(id);\r\n\r\n  if(courseData.ctrData.ctrs[id].sections[sectionID].completed == false){\r\n    courseData.ctrData.ctrs[id].sections[sectionID].completed = true;\r\n    courseData.ctrData.ctrs[id].score += 1;\r\n    localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n    if(courseData.ctrData.ctrs[id].score >= courseData.ctrData.ctrs[id].sections.length){\r\n      courseData.ctrData.ctrs[id].completed = true;\r\n      courseData.ctrData.completed += 1;\r\n      courseData.COMPLETED_INTERACTIVES += 1;\r\n      localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n      console.log(\"Ctr Completed\");\r\n      if(courseData.ctrData.ctrs[id].completion.gate != null) {\r\n        var chapter = courseData.ctrData.ctrs[id].completion.gate.chapter;\r\n        var page = courseData.ctrData.ctrs[id].completion.gate.page;\r\n        var lock = courseData.ctrData.ctrs[id].completion.gate.lock;\r\n        openLock(chapter, page, lock);\r\n      }\r\n    }\r\n  }\r\n  //console.log(\"ID\" + id);\r\n  //console.log(courseData.ctrData.ctrs[id].sections.length);\r\n\r\n\r\n}\r\n\r\nexport function setCtrInteractions(){\r\n\r\n}\r\n","//INITIALIZE AND RENDER DRAG AND DROP\r\nvar LOCAL_COURSE_DATA_ID;\r\nexport function initDragAndDrop(dragDropContentXML, elementID, localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentDragDrop = $(dragDropContentXML).find('DragAndDrop[id=\"'+elementID+'\"]');\r\n  if(currentDragDrop.length == 0){\r\n    currentDragDrop = $(dragDropContentXML).find('DragAndDrop');\r\n  }\r\n  var currentID = $(currentDragDrop).attr(\"id\")\r\n\r\n  if(courseData.dragDropData.dragDrops != null){\r\n    for(var i=0; i < courseData.dragDropData.dragDrops.length; i++){\r\n      if(courseData.dragDropData.dragDrops[i].id == currentID){\r\n        var id = getDragDropIndex(currentID);\r\n        console.log(\"DragDrop Loaded Previously\");\r\n        setupDragDrop(id, elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"DragDrop Initialized\");\r\n    courseData.dragDropData.completed = 0;\r\n    courseData.dragDropData.dragDrops = [];\r\n\r\n  }\r\n\r\n  var dragDrop = {\r\n    id: $(currentDragDrop).attr(\"id\"),\r\n    completed: false,\r\n    completion: {\r\n      minimumScore: $(currentDragDrop).find(\"completion\").find(\"minimumScore\").text()\r\n    },\r\n    matchings: []\r\n  };\r\n\r\n  $(currentDragDrop).find(\"pair\").each(function() {\r\n    var currentPair = $(this);\r\n\r\n    var pair = {\r\n      drag: currentPair.find(\"drag\").text(),\r\n      drop: currentPair.find(\"drop\").text()\r\n    };\r\n    dragDrop.matchings.push(pair);\r\n  });\r\n\r\n  var currentGate = $(dragDropContentXML).find(\"completion\");\r\n  if(currentGate.attr(\"gated\") == \"true\"){\r\n    dragDrop.completion.gate = {\r\n      chapter: currentGate.find(\"chapter\").text(),\r\n      page: currentGate.find(\"page\").text(),\r\n      lock: currentGate.find(\"lock\").text()\r\n    }\r\n  }\r\n  courseData.dragDropData.dragDrops.push(dragDrop);\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID,  JSON.stringify(courseData));\r\n  var id = getDragDropIndex(currentID);\r\n  setupDragDrop(id, elementID);\r\n\r\n}\r\n\r\nexport function setupDragDrop(id, elementID){\r\n  if(elementID == null){\r\n    $('#dragAndDrop').remove();\r\n  }\r\n  $('#'+elementID).empty();\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var dragDropData = courseData.dragDropData.dragDrops[id];\r\n\r\n  var submitBtn = '</div><p class=\"feedback\"><a class=\"btn btn-reversed btn-restart\">Restart</a><a class=\"btn btn-default-main btn-submit\">Submit</a></p>';\r\n  var leftContainerHtml = '<div class=\"col-6 left\"></div>';\r\n  var rightContainerHtml = '<div class=\"col-6 right\"></div>';\r\n  var html = '<div id=\"dragAndDrop\" class=\"container\"><div class=\"row\">' + leftContainerHtml + rightContainerHtml + submitBtn;\r\n\r\n\r\n  if(elementID != null){\r\n    $(\"#\"+elementID).empty();\r\n    $(\"#\"+elementID).html(html);\r\n  }\r\n\r\n  for(var i = 0; i < dragDropData.matchings.length; i++){\r\n    var holderID = elementID+'_holder' + i;\r\n    var draggableID = elementID+'_p' + i;\r\n    var draggableText = dragDropData.matchings[i].drag;\r\n    var droppableID = elementID+'_t' + i;\r\n    var droppableText = dragDropData.matchings[i].drop;\r\n\r\n    var draggable = '<div class=\"item-container holder\" id=\"'+ holderID +'\" ondrop=\"drop_handler(event);\" ondragover=\"dragover_handler(event);\"><p class=\"draggable\" id=\"'+ draggableID +'\" draggable=\"true\" ondragstart=\"dragstart_handler(event);\" >'+ draggableText +'</p></div>';\r\n\r\n    var droppable = '<div class=\"item-container\" id=\"'+ droppableID +'\" ondrop=\"drop_handler(event);\" ondragover=\"dragover_handler(event);\">'+ droppableText +'</div>';\r\n\r\n    $('.left').append(draggable);\r\n    $('.right').append(droppable);\r\n\r\n/*\r\n    $('#'+holderID).on('drop', function(event){\r\n      console.log(\"HERE\");\r\n\r\n      drop_handler(event);\r\n    });\r\n\r\n    $('#'+holderID).on('dragover', function(event){\r\n      console.log(\"HERE\");\r\n\r\n      dragover_handler(event);\r\n    });\r\n\r\n    $('#'+draggableID).on('dragstart', function(event){\r\n      console.log(\"HERE\");\r\n\r\n      dragstart_handler(event);\r\n    });\r\n\r\n    */\r\n\r\n  }\r\n\r\n\r\n\r\n/*    var draggable = '<div class=\"item-container holder\" id=\"'+ holderID +'\" ondrop=\"drop_handler(event);\" ondragover=\"dragover_handler(event);\"><p class=\"draggable\" id=\"'+ draggableID +'\" draggable=\"true\" ondragstart=\"dragstart_handler(event);\" >'+ draggableText +'</p></div>';\r\n\r\n    var droppable = '<div class=\"item-container\" id=\"'+ droppableID +'\" ondrop=\"drop_handler(event);\" ondragover=\"dragover_handler(event);\">'+ droppableText +'</div>';*/\r\n\r\n\r\n\r\n  $(\".btn-restart\").click(function(){\r\n    setupDragDrop(id, elementID);\r\n  });\r\n  $(\".btn-submit\").click(function(){\r\n    submitDragDrop(id, elementID);\r\n  });\r\n\r\n  $('#dragAndDrop .btn-reversed').on({\r\n    mouseenter: function () {\r\n      $(this).removeClass('btn-reversed');\r\n      $(this).addClass('btn-default-main');\r\n      $(this).next().removeClass('btn-default-main');\r\n      $(this).next().addClass('btn-reversed');\r\n\r\n    },\r\n    mouseleave: function () {\r\n      $(this).addClass('btn-reversed');\r\n      $(this).removeClass('btn-default-main');\r\n      $(this).next().addClass('btn-default-main');\r\n      $(this).next().removeClass('btn-reversed');\r\n    }\r\n  })\r\n  shuffleDrags(elementID);\r\n  shuffleDrops(elementID);\r\n}\r\n\r\nexport function shuffleDrags(elementID){\r\n  var draggables = $(\"#\"+elementID + ' .left').children();\r\n  var j, x;\r\n  for (var i = draggables.length - 1; i > 0; i--) {\r\n    j = Math.floor(Math.random() * (i + 1));\r\n    x = draggables[i];\r\n    draggables[i] = draggables[j];\r\n    draggables[j] = x;\r\n  }\r\n\r\n  $(\"#\"+elementID + ' .left').empty();\r\n\r\n  for(var i = 0; i < draggables.length; i++){\r\n    $(\"#\"+elementID + ' .left').append(draggables[i]);\r\n  }\r\n  return;\r\n}\r\n\r\nexport function shuffleDrops(elementID){\r\n  var droppables = $(\"#\"+elementID + ' .right').children();\r\n\r\n  var j, x;\r\n  for (var i = droppables.length - 1; i > 0; i--) {\r\n    j = Math.floor(Math.random() * (i + 1));\r\n    x = droppables[i];\r\n    droppables[i] = droppables[j];\r\n    droppables[j] = x;\r\n  }\r\n\r\n  $(\"#\"+elementID + ' .right').empty();\r\n\r\n  for(var i = 0; i < droppables.length; i++){\r\n    $(\"#\"+elementID + ' .right').append(droppables[i]);\r\n  }\r\n  return;\r\n}\r\n\r\nexport function submitDragDrop(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var score = 0;\r\n  var minScore = parseInt(courseData.dragDropData.dragDrops[id].completion.minimumScore);\r\n\r\n  var answers = $(\"#\"+elementID + ' .right').children();\r\n  for(var i = 0; i < answers.length; i++){\r\n    var answerID = answers[i].id;\r\n\r\n\r\n    if($('#'+answerID).find('p')[0] == null){\r\n      $(\"#\"+elementID + ' .feedback').html('Finish dragging items to their correct location.<a class=\"btn btn-reversed btn-restart\">Restart</a><a class=\"btn btn-default-main btn-submit\">Submit</a>')\r\n\r\n      $(\".btn-restart\").click(function(){\r\n        setupDragDrop(id, elementID);\r\n      });\r\n      $(\".btn-submit\").click(function(){\r\n        submitDragDrop(id, elementID);\r\n      });\r\n\r\n      $('#dragAndDrop .btn-reversed').on({\r\n        mouseenter: function () {\r\n          $(this).removeClass('btn-reversed');\r\n          $(this).addClass('btn-default-main');\r\n          $(this).next().removeClass('btn-default-main');\r\n          $(this).next().addClass('btn-reversed');\r\n\r\n        },\r\n        mouseleave: function () {\r\n          $(this).addClass('btn-reversed');\r\n          $(this).removeClass('btn-default-main');\r\n          $(this).next().addClass('btn-default-main');\r\n          $(this).next().removeClass('btn-reversed');\r\n        }\r\n      });\r\n      return;\r\n    }\r\n  }\r\n\r\n  for(var i = 0; i < answers.length; i++){\r\n    var answerID = answers[i].id;\r\n    var matchID = $('#'+answerID).find('p')[0].id;\r\n    var answerTemp = answerID.substr(answerID.indexOf(\"_\") + 2);\r\n    var matchTemp = matchID.substr(matchID.indexOf(\"_\") + 2);\r\n\r\n    if(answerTemp == matchTemp){\r\n      $('#'+matchID).addClass('correct');\r\n      score += 10;\r\n    }\r\n    else{\r\n      $('#'+matchID).addClass('wrong');\r\n    }\r\n  }\r\n\r\n  if(score >= minScore && courseData.dragDropData.dragDrops[id].completed == false){\r\n    console.log(\"DragDrop Completed\");\r\n    courseData.dragDropData.dragDrops[id].completed = true;\r\n    courseData.dragDropData.completed += 1;\r\n    courseData.COMPLETED_INTERACTIVES += 1;\r\n    if(courseData.dragDropData.dragDrops[id].completion.gate != null) {\r\n      var chapter = courseData.dragDropData.dragDrops[id].completion.gate.chapter;\r\n      var page = courseData.dragDropData.dragDrops[id].completion.gate.page;\r\n      var lock = courseData.dragDropData.dragDrops[id].completion.gate.lock;\r\n      openLock(chapter, page, lock);\r\n    }\r\n    localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n  }\r\n\r\n  courseData.dragDropData.dragDrops[id].score = score;\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n  var percentage = courseData.dragDropData.dragDrops[id].matchings.length;\r\n  var correctPercentage = score / percentage;\r\n  correctPercentage = parseFloat(correctPercentage.toFixed(0));\r\n  var gameFeedback;\r\n\r\n  switch(correctPercentage) {\r\n    case 0: case 1: case 2: case 3: case 4: case 5:\r\n    gameFeedback = \"Try again?\";\r\n    break;\r\n    case 6: case 7: case 8:\r\n    gameFeedback = \"Keep practicing.\";\r\n    break;\r\n    case 9: case 10:\r\n    gameFeedback = \"Nice job!\";\r\n    break;\r\n  }\r\n\r\n  gameFeedback += \" <span> Total Score: +\"+score+\" points</span.>\";\r\n\r\n\r\n  $(\"#\"+elementID + ' .feedback').html(gameFeedback+'<a class=\"btn btn-restart btn-reversed \">Restart</a><a  class=\"btn btn-default-main btn-submit\">Submit</a>');\r\n  $(\"#\"+elementID + ' .feedback').after('');\r\n  $(\".btn-restart\").click(function(){\r\n    setupDragDrop(id, elementID);\r\n  });\r\n  $(\".btn-submit\").click(function(){\r\n    submitDragDrop(id, elementID);\r\n  });\r\n  $('#dragAndDrop .btn-reversed').on({\r\n    mouseenter: function () {\r\n      $(this).removeClass('btn-reversed');\r\n      $(this).addClass('btn-default-main');\r\n      $(this).next().removeClass('btn-default-main');\r\n      $(this).next().addClass('btn-reversed');\r\n\r\n    },\r\n    mouseleave: function () {\r\n      $(this).addClass('btn-reversed');\r\n      $(this).removeClass('btn-default-main');\r\n      $(this).next().addClass('btn-default-main');\r\n      $(this).next().removeClass('btn-reversed');\r\n    }\r\n  });\r\n}\r\n\r\nexport function getDragDropIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.dragDropData.dragDrops.length; i++){\r\n    if(courseData.dragDropData.dragDrops[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\n// DRAG AND DROP CORE FUNCTIONALITY\r\nexport function dragstart_handler(ev) {\r\n  // Add the target element's id to the data transfer object\r\n  ev.dataTransfer.setData(\"text\", ev.target.id);\r\n  ev.dropEffect = \"move\";\r\n}\r\n\r\nexport function dragover_handler(ev) {\r\n  if($(ev.target).hasClass('item-container')){\r\n    ev.dataTransfer.dropEffect = \"move\"\r\n    ev.preventDefault();\r\n    return;\r\n  }\r\n  else if($(ev.target).hasClass('draggable')){\r\n    ev.dataTransfer.dropEffect = \"move\"\r\n    ev.preventDefault();\r\n    return;\r\n  }\r\n}\r\n\r\nexport function drop_handler(ev) {\r\n  ev.preventDefault();\r\n  // Get the id of the target and add the moved element to the target's DOM\r\n  var dragVal = ev.dataTransfer.getData(\"text\");\r\n  var dropVal = ev.target.id;\r\n\r\n  var dragId = \"#\"+dragVal;\r\n  var dropId = \"#\"+dropVal;\r\n\r\n  var tempVal = dropVal.substr(dropVal.indexOf(\"_\") + 1);\r\n\r\n  if(tempVal.charAt(0) == 'p'){\r\n    var tempDropId = dropId;\r\n    dropId = '#'+$(dropId).parent('.item-container').attr('id');\r\n\r\n    var index = $(tempDropId).parent('.item-container').index();\r\n    $(dragId).parent('.item-container').append($(tempDropId));\r\n  }\r\n\r\n  $(dropId).append($(dragId));\r\n\r\n  $(dragId).removeClass('correct');\r\n  $(dragId).removeClass('wrong');\r\n}\r\n\r\nwindow.dragstart_handler = dragstart_handler;\r\nwindow.dragover_handler = dragover_handler;\r\nwindow.drop_handler = drop_handler;\r\n","//INITIALIZE AND RENDER CARDS\r\nvar LOCAL_COURSE_DATA_ID;\r\nexport function initFlipCard(flipCardContentXML, elementID, localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var currentFlipCardComponent = $(flipCardContentXML).find('FlipCard[id=\"'+elementID+'\"]');\r\n  if(currentFlipCardComponent.length == 0){\r\n    var currentFlipCardComponent = $(flipCardContentXML).find('FlipCard');\r\n  }\r\n  var currentID = $(currentFlipCardComponent).attr(\"id\")\r\n\r\n  if(courseData.flipCardData.flipCards != null){\r\n    for(var i=0; i < courseData.flipCardData.flipCards.length; i++){\r\n      if(courseData.flipCardData.flipCards[i].id == currentID){\r\n        var id = getFlipCardIndex(currentID);\r\n        console.log(\"FlipCard Loaded Previously\");\r\n        setupFlipCards(id, elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"FlipCard Initialized\");\r\n    courseData.flipCardData.id = $(currentFlipCardComponent).attr(\"id\");\r\n    courseData.flipCardData.completed = 0;\r\n    courseData.flipCardData.flipCards =  [];\r\n  }\r\n\r\n  var flipCard = {\r\n    id: $(currentFlipCardComponent).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    score: 0,\r\n    hasButton: $(currentFlipCardComponent).attr(\"hasButton\"),\r\n    class: $(currentFlipCardComponent).attr(\"class\"),\r\n    cards: []\r\n  };\r\n\r\n  if(currentFlipCardComponent.find(\"completion\").attr(\"gated\") == \"true\"){\r\n    flipCard.completion = {\r\n      gate : {\r\n        chapter: currentFlipCardComponent.find(\"chapter\").text(),\r\n        page: currentFlipCardComponent.find(\"page\").text(),\r\n        lock: currentFlipCardComponent.find(\"lock\").text()\r\n      }\r\n    };\r\n  }\r\n\r\n  $(currentFlipCardComponent).find(\"card\").each(function() {\r\n    var currentCard = $(this);\r\n\r\n    var card = {\r\n      front: currentCard.find(\"front\").text(),\r\n      back: currentCard.find(\"back\").text(),\r\n      completed: false\r\n    };\r\n    flipCard.cards.push(card);\r\n  });\r\n\r\n  courseData.flipCardData.flipCards.push(flipCard);\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID,  JSON.stringify(courseData));\r\n  var id = getFlipCardIndex(currentID);\r\n  setupFlipCards(id, elementID);\r\n}\r\n\r\nexport function setupFlipCards(id, elementID){\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var cardNum = courseData.flipCardData.flipCards[id].cards.length;\r\n\r\n  var html = '<div class=\"row\"></div>';\r\n  $(\"#\"+elementID).empty();\r\n  $(\"#\"+elementID).html(html);\r\n\r\n  var size = 12/cardNum;\r\n\r\n  for(var i = 0; i < cardNum; i ++){\r\n    var back = courseData.flipCardData.flipCards[id].cards[i].back;\r\n    var front = courseData.flipCardData.flipCards[id].cards[i].front;\r\n\r\n    var cardWidth = \"col-12 col-sm-12 mx-auto col-md-\"+size;\r\n\r\n    if(courseData.flipCardData.flipCards[id].hasButton == \"true\"){\r\n      var cardHTML = '<div class=\"'+cardWidth+' margin-below\"><div class=\"cardCont\" id=\"card'+i+'\"><div class=\"cardBack\">'+back+'<a class=\"showMore back\" href=\"#\">Back</a></div><div class=\"cardFront\">'+front+'<a class=\"showMore front\" href=\"#\">Show More</a></div></div></div>';\r\n    }\r\n    else{\r\n      var cardHTML = '<div class=\"'+cardWidth+' margin-below\"><div class=\"cardCont\" id=\"card'+i+'\"><div class=\"cardBack\">'+back+'</div><div class=\"cardFront\">'+front+'</div></div></div>';\r\n    }\r\n\r\n    $(\"#\"+elementID + \" .row\").append(cardHTML);\r\n\r\n    CSSPlugin.defaultTransformPerspective = 1000;\r\n\r\n    //we set the backface\r\n    TweenMax.set($(\".cardBack\"), {rotationY:-180});\r\n\r\n    $.each($(\".cardCont\"), function(i,element) {\r\n\r\n      var frontCard = $(this).children(\".cardFront\"),\r\n          backCard = $(this).children(\".cardBack\"),\r\n          tl = new TimelineMax({paused:true});\r\n\r\n      tl\r\n        .to(frontCard, 1, {rotationY:180})\r\n        .to(backCard, 1, {rotationY:0},0)\r\n        .to(element, .5, {z:50},0)\r\n        .to(element, .5, {z:0},.5);\r\n\r\n      element.animation = tl;\r\n\r\n      //$(element).click({thisCard: element}, showBack);\r\n\r\n    });\r\n\r\n    if(courseData.flipCardData.flipCards[id].hasButton == \"true\"){\r\n      $(\"#\"+elementID+ \" .front\").click(function() {\r\n        var cardID = $(this).closest('.cardCont').attr(\"id\");\r\n        cardID = cardID.substr($(\"#\"+cardID).attr(\"id\").length - 1);\r\n        checkCardsCompletion(id, cardID);\r\n        $(this).closest(\".cardCont\")[0].animation.play();\r\n      });\r\n\r\n      $(\"#\"+elementID+ \" .back\").click(function() {\r\n          $(this).closest(\".cardCont\")[0].animation.reverse();\r\n      });\r\n    }\r\n    else if(courseData.flipCardData.flipCards[id].hasButton == \"false\") {\r\n      $(\"#\"+elementID+ \" .cardFront\").hover(function(){\r\n        $(this).css('cursor','pointer');\r\n      });\r\n\r\n      $(\"#\"+elementID+ \" .cardBack\").hover(function(){\r\n        $(this).css('cursor','pointer');\r\n      });\r\n\r\n      $(\"#\"+elementID+ \" .cardFront\").click(function() {\r\n        var cardID = $(this).closest('.cardCont').attr(\"id\");\r\n        cardID = cardID.substr($(\"#\"+cardID).attr(\"id\").length - 1);\r\n        checkCardsCompletion(id, cardID);\r\n        $(this).closest(\".cardCont\")[0].animation.play();\r\n      });\r\n\r\n      $(\"#\"+elementID+ \" .cardBack\").click(function() {\r\n          $(this).closest(\".cardCont\")[0].animation.reverse();\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport function getFlipCardIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.flipCardData.flipCards.length; i++){\r\n    if(courseData.flipCardData.flipCards[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\nexport function showBack(evt) {\r\n  var card = evt.data.thisCard;\r\n  card.animation.play();\r\n  $(card).unbind(\"click\", showBack);\r\n  $(card).click({thisCard: card}, showFront);\r\n}\r\n\r\nexport function showFront(evt) {\r\n  var card = evt.data.thisCard;\r\n  card.animation.reverse();\r\n  $(card).unbind(\"click\", showFront);\r\n  $(card).click({thisCard: card}, showBack);\r\n}\r\n\r\nexport function checkCardsCompletion(id, cardsID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  if(courseData.flipCardData.flipCards[id].cards[cardsID].completed == false){\r\n    courseData.flipCardData.flipCards[id].cards[cardsID].completed = true;\r\n    courseData.flipCardData.flipCards[id].score += 1;\r\n    localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n    if(courseData.flipCardData.flipCards[id].score >= courseData.flipCardData.flipCards[id].cards.length){\r\n      courseData.flipCardData.flipCards[id].completed = true;\r\n      courseData.flipCardData.completed += 1;\r\n      courseData.COMPLETED_INTERACTIVES += 1;\r\n      localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n      console.log(\"FlipCard Completed\");\r\n      if(courseData.flipCardData.flipCards[id].completion.gate != null) {\r\n        var chapter = courseData.flipCardData.flipCards[id].completion.gate.chapter;\r\n        var page = courseData.flipCardData.flipCards[id].completion.gate.page;\r\n        var lock = courseData.flipCardData.flipCards[id].completion.gate.lock;\r\n        openLock(chapter, page, lock);\r\n      }\r\n    }\r\n  }\r\n}\r\n","//INITIALIZE AND RENDER DRAG AND DROP\r\nvar LOCAL_COURSE_DATA_ID;\r\nexport function initHotspot(hotspotContentXML, elementID, localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentHotspot = $(hotspotContentXML).find('Hotspot[id=\"'+elementID+'\"]');\r\n  if(currentHotspot.length == 0){\r\n    currentHotspot = $(hotspotContentXML).find('Hotspot');\r\n  }\r\n  var currentID = $(currentHotspot).attr(\"id\");\r\n\r\n  if(courseData.hotspotData.hotspots != null){\r\n    for(var i=0; i < courseData.hotspotData.hotspots.length; i++){\r\n      if(courseData.hotspotData.hotspots[i].id == currentID){\r\n        var id = getHotspotIndex(currentID);\r\n        console.log(\"Hotspot Loaded Previously\");\r\n        setupHotSpot(id,elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"Hotspot Initialized\");\r\n    courseData.hotspotData.completed = 0;\r\n    courseData.hotspotData.hotspots = [];\r\n  }\r\n\r\n  var hotspot = {\r\n    id: $(currentHotspot).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    score: 0,\r\n    img: $(currentHotspot).find(\"img\").text(),\r\n    spots: []\r\n  };\r\n\r\n  if(currentHotspot.find(\"completion\").attr(\"gated\") == \"true\"){\r\n  hotspot.completion = {\r\n    gate : {\r\n      chapter: currentHotspot.find(\"chapter\").text(),\r\n      page: currentHotspot.find(\"page\").text(),\r\n      lock: currentHotspot.find(\"lock\").text()\r\n      }\r\n    }\r\n  };\r\n\r\n  $(currentHotspot).find(\"spot\").each(function() {\r\n    var currentSpot = $(this);\r\n    var spot ={\r\n      label:currentSpot.find('label').text(),\r\n      popup:currentSpot.find('popup').text(),\r\n      completed: false\r\n    }\r\n    hotspot.spots.push(spot);\r\n  });\r\n\r\n  courseData.hotspotData.hotspots.push(hotspot);\r\n\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n  var id = getHotspotIndex(currentID);\r\n  setupHotSpot(id,elementID);\r\n}\r\n\r\nexport function setupHotSpot(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var img = courseData.hotspotData.hotspots[id].img;\r\n  var html ='<div id=\"hotSpot\"><img class=\"hotSpot-img\" src=\"'+img+'\">';\r\n\r\n  for(var i = 0; i < courseData.hotspotData.hotspots[id].spots.length; i++){\r\n    var label = courseData.hotspotData.hotspots[id].spots[i].label;\r\n    html += '<div id=\"spot-'+i+'\" class=\"hotSpot-spot circle-'+label+'\">'+label+'</div>';\r\n  }\r\n\r\n  html += '<div class=\"hotSpot-popup\"></div>';\r\n\r\n\r\n  if(elementID != null){\r\n    $(\"#\"+elementID).empty();\r\n    $(\"#\"+elementID).html(html);\r\n  }\r\n  else{\r\n    $('#pageContent').append(html);\r\n  }\r\n\r\n  var popup_1 = \"<ul><li>Ask your Sales Manager about recommended routes.</li><li>Include a variety of speed zones. Make sure there are stretches that allow the customer to drive more than 45 mph.</li><li>Alternate your route as needed.</li></ul>\";\r\n\r\n  var popup_2 = \"<ul><li>Be flexible on the drive. Your customer may want a longer or shorter drive than planned.</li><li>Ask your manager how to handle these situations.</li><li>If the customer wants a shorter drive, know how to return to the dealership quuickly using streets with varied speeds that will still enhance the drive.</li></ul>\";\r\n\r\n  var popup_3 = \"<ul><li>Know your drive.</li><li>Shadow a live demo drive with an experienced consultant and a customer.</li><li>Play the role of a customer and let an experienced consultant show you how he or she conducts a demo drive.</li></ul>\";\r\n\r\n\r\n  $('#' + elementID + ' .hotSpot-spot').click(function(){\r\n\r\n    var spotID = $(this).attr(\"id\").substr($(this).attr(\"id\").length - 1);\r\n    var popupHTML = courseData.hotspotData.hotspots[id].spots[spotID].popup;\r\n\r\n    $('#' + elementID + ' .hotSpot-popup').empty();\r\n    $('#' + elementID + ' .hotSpot-popup').append('<a class=\"hotSpot-close\">x</a>' + popupHTML);\r\n    $('#' + elementID + ' .hotSpot-popup').css('display','block');\r\n\r\n    $('#' + elementID + ' .hotSpot-popup .hotSpot-close').click(function(){\r\n      $('#' + elementID + ' .hotSpot-popup').css('display','none');\r\n    });\r\n\r\n    checkHotspotCompletion(id, spotID);\r\n  });\r\n\r\n}\r\n\r\nexport function getHotspotIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.hotspotData.hotspots.length; i++){\r\n    if(courseData.hotspotData.hotspots[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\nexport function checkHotspotCompletion(id, spotID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  if(courseData.hotspotData.hotspots[id].spots[spotID].completed == false){\r\n    courseData.hotspotData.hotspots[id].spots[spotID].completed = true;\r\n    courseData.hotspotData.hotspots[id].score += 1;\r\n\r\n    if(courseData.hotspotData.hotspots[id].score >= courseData.hotspotData.hotspots[id].spots.length){\r\n      console.log(\"Hotspot Completed\");\r\n      courseData.hotspotData.hotspots[id].completed = true;\r\n      courseData.hotspotData.completed += 1;\r\n      courseData.COMPLETED_INTERACTIVES += 1;\r\n      if(courseData.hotspotData.hotspots[id].completion.gate != null) {\r\n        var chapter = courseData.hotspotData.hotspots[id].completion.gate.chapter;\r\n        var page = courseData.hotspotData.hotspots[id].completion.gate.page;\r\n        var lock = courseData.hotspotData.hotspots[id].completion.gate.lock;\r\n        openLock(chapter, page, lock);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n}\r\n","//INITIALIZE AND RENDER CARDS\r\nvar LOCAL_COURSE_DATA_ID;\r\nexport function initKnowledgeCheck(knowledgeCheckXML, elementID, localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentKnowledgeCheck = $(knowledgeCheckXML).find('KnowledgeCheck[id=\"'+elementID+'\"]');\r\n  if(currentKnowledgeCheck.length == 0){\r\n    currentKnowledgeCheck = $(knowledgeCheckXML).find('KnowledgeCheck');\r\n  }\r\n  var currentID = $(currentKnowledgeCheck).attr(\"id\")\r\n\r\n  if(courseData.knowledgeCheckData.knowledgeChecks != null){\r\n    for(var i=0; i < courseData.knowledgeCheckData.knowledgeChecks.length; i++){\r\n      if(courseData.knowledgeCheckData.knowledgeChecks[i].id == currentID){\r\n        var id = getKnowledgeCheckIndex(currentID);\r\n        console.log(\"KnowledgeCheck Loaded Previously\");\r\n        setupKnowledgeCheck(id, elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n  else{\r\n    console.log(\"KnowledgeCheck Initialized\");\r\n    courseData.knowledgeCheckData.totalScore = 0;\r\n    courseData.knowledgeCheckData.completed = 0;\r\n    courseData.knowledgeCheckData.knowledgeChecks = [];\r\n  }\r\n\r\n  var knowledgeCheck = {\r\n    id: $(currentKnowledgeCheck).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    scored: $(currentKnowledgeCheck).attr(\"scored\"),\r\n    score: 0,\r\n    title: $(currentKnowledgeCheck).attr(\"title\"),\r\n    questions: []\r\n  };\r\n\r\n  if($(currentKnowledgeCheck).find(\"completion\").attr(\"gated\") == \"true\"){\r\n    knowledgeCheck.completion = {\r\n      gate : {\r\n        chapter: $(currentKnowledgeCheck).find(\"chapter\").text(),\r\n        page: $(currentKnowledgeCheck).find(\"page\").text(),\r\n        lock: $(currentKnowledgeCheck).find(\"lock\").text()\r\n      }\r\n    };\r\n  }\r\n\r\n  $(currentKnowledgeCheck).find(\"question\").each(function() {\r\n    var currentQuestion = $(this);\r\n\r\n    var question = {\r\n      body: currentQuestion.find(\"body\").text(),\r\n      answers: [],\r\n      correct: false\r\n    };\r\n\r\n    currentQuestion.find(\"answer\").each(function() {\r\n      var currentAnswer = $(this);\r\n\r\n      var answer = {\r\n        correct: currentAnswer.attr(\"correct\"),\r\n        selected: false,\r\n        body: currentAnswer.text()\r\n      };\r\n\r\n      question.answers.push(answer);\r\n    });\r\n\r\n    knowledgeCheck.questions.push(question);\r\n  });\r\n\r\n  courseData.knowledgeCheckData.knowledgeChecks.push(knowledgeCheck);\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID,  JSON.stringify(courseData));\r\n\r\n  var id = getKnowledgeCheckIndex(currentID);\r\n  setupKnowledgeCheck(id, elementID);\r\n\r\n}\r\n\r\nexport function setupKnowledgeCheck(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var currentKnowledgeCheck= courseData.knowledgeCheckData.knowledgeChecks[id];\r\n\r\n  var questionBody = \"\";\r\n  var answerBody = \"\";\r\n\r\n  var questionHTML = \"\";\r\n  for(var i = 0; i < currentKnowledgeCheck.questions.length; i++){\r\n    var answersHTML = \"\";\r\n    questionBody = currentKnowledgeCheck.questions[i].body;\r\n\r\n    for(var j = 0; j < currentKnowledgeCheck.questions[i].answers.length; j++){\r\n      answerBody = currentKnowledgeCheck.questions[i].answers[j].body;\r\n\r\n      answersHTML += '<div><input type=\"radio\" name=\"'+elementID+'question-'+i+'-answers\" id=\"'+elementID+'question-'+i+'-answers-'+j+'\" value=\"'+j+'\" /><label for=\"'+elementID+'question-'+i+'-answers-'+j+'\">'+answerBody+'</label></div>';\r\n    }\r\n\r\n    questionHTML += '<li><p>'+questionBody+'</p>' + answersHTML + '</li>';\r\n  }\r\n\r\n  var title= currentKnowledgeCheck.title;\r\n  var html = '<div id=\"knowledgeCheck\" class=\"col-md-12 mx-auto\"><form id=\"myForm\"><h3>'+title+'</h3>' + questionHTML + '<div class=\"feedback\"></div><a class=\"btn btn-default submitKnowledge\">Submit Answers</a></form></div>';\r\n\r\n  if(elementID != null){\r\n    $(\"#\"+elementID).empty();\r\n    $(\"#\"+elementID).html(html);\r\n  }\r\n  else{\r\n    $('#pageContent').append(html);\r\n  }\r\n  if(currentKnowledgeCheck.completed == true){\r\n    //console.log(\"KnowledgeCheck Completed Previously\");\r\n    $('#'+elementID+ ' .submitKnowledge').remove();\r\n    endKnowledgeCheck(id, elementID);\r\n  }\r\n\r\n  $('#'+elementID+ ' .submitKnowledge').click(function(){\r\n    submitAnswers(id, elementID);\r\n  })\r\n}\r\n\r\nexport function submitAnswers(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentKnowledgeCheck = courseData.knowledgeCheckData.knowledgeChecks[id];\r\n\r\n  var selected =   $(\"#\"+elementID + ' form li input:checked');\r\n  for(var i = 0; i < selected.length; i++){\r\n    var selectedAnswer = selected.eq(i).siblings('label').html();\r\n\r\n    for(var j = 0; j < currentKnowledgeCheck.questions[i].answers.length; j++){\r\n      var answer = currentKnowledgeCheck.questions[i].answers[j];\r\n      if(answer.correct == \"true\"){\r\n        if(answer.body == selectedAnswer){\r\n          currentKnowledgeCheck.questions[i].correct = true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  if(selected.length != currentKnowledgeCheck.questions.length){\r\n    if($('#'+elementID + ' .invalid').length == 0){\r\n      $('#'+elementID+' .feedback').append('<p class=\"invalid feedback\">Please answer <span class=\"bolded\">all questions.</span></p>');\r\n      return;\r\n    }\r\n    else{\r\n      return;\r\n    }\r\n  }\r\n\r\n  $('#'+elementID+ ' .submitKnowledge').remove();\r\n\r\n  currentKnowledgeCheck.completed = true;\r\n  courseData.knowledgeCheckData.completed += 1;\r\n  courseData.COMPLETED_INTERACTIVES += 1;\r\n\r\n  if(currentKnowledgeCheck.completion.gate != null) {\r\n    var chapter = currentKnowledgeCheck.completion.gate.chapter;\r\n    var page = currentKnowledgeCheck.completion.gate.page;\r\n    var lock = currentKnowledgeCheck.completion.gate.lock;\r\n    openLock(chapter, page, lock);\r\n  }\r\n\r\n  var totalCorrect = 0;\r\n  for(var i = 0; i < currentKnowledgeCheck.questions.length; i++){\r\n    if(currentKnowledgeCheck.questions[i].correct == false){\r\n      $('#'+elementID + ' form li').eq(i).addClass(\"wrong\");\r\n    }\r\n    else{\r\n      $('#'+elementID + ' form li').eq(i).removeClass(\"wrong\");\r\n      totalCorrect += 1;\r\n    }\r\n  }\r\n  currentKnowledgeCheck.score = totalCorrect;\r\n  courseData.knowledgeCheckData.totalScore += totalCorrect;\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID,  JSON.stringify(courseData));\r\n\r\n  endKnowledgeCheck(id, elementID);\r\n}\r\n\r\nexport function endKnowledgeCheck(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentKnowledgeCheck = courseData.knowledgeCheckData.knowledgeChecks[id];\r\n  currentKnowledgeCheck.completed = true;\r\n\r\n\r\n\r\n  for(var i = 0; i < currentKnowledgeCheck.questions.length; i++){\r\n    if(currentKnowledgeCheck.questions[i].correct == false){\r\n      $('#'+elementID + ' form li').eq(i).addClass(\"wrong\");\r\n    }\r\n    else{\r\n      $('#'+elementID + ' form li').eq(i).removeClass(\"wrong\");\r\n    }\r\n  }\r\n\r\n  var feedback = '<p class=\"feedback\">You scored a <span class=\"bolded\">'+currentKnowledgeCheck.score+' out of '+currentKnowledgeCheck.questions.length+'</span></p>';\r\n  $('#'+elementID + ' .invalid').remove();\r\n  $('#'+elementID +' .feedback').append(feedback);\r\n\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID,  JSON.stringify(courseData));\r\n}\r\n\r\nexport function getKnowledgeCheckIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.knowledgeCheckData.knowledgeChecks.length; i++){\r\n    if(courseData.knowledgeCheckData.knowledgeChecks[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n","var LOCAL_COURSE_DATA_ID;\r\n\r\nexport function initText(textComponentXML, elementID, localStorageID){\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n\r\n  var currentText = $(textComponentXML).find('Text[id=\"'+elementID+'\"]');\r\n  $(\"#\"+elementID).append(currentText.text());\r\n}\r\n","//INITIALIZE AND RENDER CARDS\r\nvar LOCAL_COURSE_DATA_ID;\r\n\r\nexport function initThumbnails(thumbnailContentXML, elementID, localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentThumbnailComponent = $(thumbnailContentXML).find('Thumbnails[id=\"'+elementID+'\"]');\r\n  if(currentThumbnailComponent.length == 0){\r\n    currentThumbnailComponent = $(thumbnailContentXML).find('Thumbnails');\r\n  }\r\n  var currentID = $(currentThumbnailComponent).attr(\"id\");\r\n\r\n\r\n  if(courseData.thumbnailData.thumbnails != null){\r\n    for(var i=0; i < courseData.thumbnailData.thumbnails.length; i++){\r\n      if(courseData.thumbnailData.thumbnails[i].id == currentID){\r\n        var id = getThumbnailIndex(currentID);\r\n        console.log(\"Hotspot Loaded Previously\");\r\n        setupThumbnails(id,elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"Thumbnail Initialized\");\r\n    courseData.thumbnailData.completed = 0;\r\n    courseData.thumbnailData.thumbnails = [];\r\n  }\r\n\r\n  var thumbnail = {\r\n    id: $(currentThumbnailComponent).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    score: 0,\r\n    class: $(currentThumbnailComponent).attr(\"class\"),\r\n    thumbs: []\r\n  }\r\n\r\n  if(currentThumbnailComponent.find(\"completion\").attr(\"gated\") == \"true\"){\r\n    thumbnail.completion = {\r\n      gate : {\r\n        chapter: currentThumbnailComponent.find(\"chapter\").text(),\r\n        page: currentThumbnailComponent.find(\"page\").text(),\r\n        lock: currentThumbnailComponent.find(\"lock\").text()\r\n      }\r\n    };\r\n  }\r\n\r\n  $(currentThumbnailComponent).find(\"thumbnail\").each(function() {\r\n    var currentThumbnail = $(this);\r\n\r\n    var thumb = {\r\n      img: currentThumbnail.find(\"img\").text(),\r\n      url: currentThumbnail.find(\"url\").text(),\r\n      onclickFunction: currentThumbnail.find(\"url\").attr(\"onclickFunction\"),\r\n      heading: currentThumbnail.find(\"heading\").text(),\r\n      caption: currentThumbnail.find(\"caption\").text(),\r\n      completed: false\r\n    };\r\n    thumbnail.thumbs.push(thumb);\r\n  });\r\n\r\n  courseData.thumbnailData.thumbnails.push(thumbnail);\r\n\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n  var id = getThumbnailIndex(currentID);\r\n  setupThumbnails(id, elementID);\r\n}\r\n\r\nexport function setupThumbnails(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var thumbnailNum = courseData.thumbnailData.thumbnails[id].thumbs.length;\r\n\r\n  var html = '<div class=\"row\"></div>';\r\n  $(\"#\"+elementID).html(html);\r\n\r\n\r\n  var size = 12/thumbnailNum;\r\n\r\n  for(var i = 0; i < thumbnailNum; i ++){\r\n    var img = courseData.thumbnailData.thumbnails[id].thumbs[i].img;\r\n    var url = courseData.thumbnailData.thumbnails[id].thumbs[i].url;\r\n    var heading = courseData.thumbnailData.thumbnails[id].thumbs[i].heading;\r\n    var caption = courseData.thumbnailData.thumbnails[id].thumbs[i].caption;\r\n\r\n    var thumbnailWidth = \"col-12 col-sm-\"+size;\r\n\r\n    var href = \"href\";\r\n    if(courseData.thumbnailData.thumbnails[id].thumbs[i].onclickFunction == \"true\"){\r\n      href = \"onclick\";\r\n\r\n      var thumbnailHTML = '<div class=\"'+thumbnailWidth+'\"><div class=\"thumbnail\" id=\"\"><a id=\"thumb'+i+'\" target=\"_blank\" '+href+'=\"'+url+'\" class=\"top-paragraph link\"><div class=\"img-container\"><img class=\"img-zoom\" src=\"'+img+'\" alt=\"\"></div><div class=\"caption\"><div class=\"caption-title\"><span>'+\r\n      heading+'</span></div><p>'+caption+'</p></div></a></div></div>';\r\n    }\r\n\r\n    else {\r\n      var thumbnailHTML = '<div class=\"'+thumbnailWidth+'\"><div class=\"thumbnail\" id=\"\"><a id=\"'+elementID+'-thumb-'+i+'\" target=\"_blank\" '+href+'=\"'+url+'\" class=\"top-paragraph link\"><div class=\"img-container\"><img class=\"img-zoom\" src=\"'+img+'\" alt=\"\"></div><div class=\"caption\"><div class=\"caption-title\"><span>'+\r\n      heading+'</span></div><p>'+caption+'</p></div></a></div></div>';\r\n    }\r\n\r\n    $(\"#\"+elementID+ ' .row').append(thumbnailHTML);\r\n    $('#'+elementID+'-thumb-'+i).click(function(){\r\n\r\n      checkThumbCompletion(this, getThumbnailIndex(elementID));\r\n    });\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\nexport function checkThumbCompletion(evt, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var id = $(evt).attr(\"id\");\r\n  id = id.substr($(evt).attr(\"id\").length - 1);\r\n  var thumbID = id;\r\n  if(courseData.thumbnailData.thumbnails[elementID].thumbs[thumbID].completed == false){\r\n    courseData.thumbnailData.thumbnails[elementID].thumbs[thumbID].completed = true;\r\n    courseData.thumbnailData.thumbnails[elementID].score += 1;\r\n\r\n    if(courseData.thumbnailData.thumbnails[elementID].score >= courseData.thumbnailData.thumbnails[elementID].thumbs.length){\r\n      courseData.thumbnailData.thumbnails[elementID].completed = true;\r\n      courseData.thumbnailData.completed += 1;\r\n      courseData.COMPLETED_INTERACTIVES += 1;\r\n      if(courseData.thumbnailData.thumbnails[elementID].completion.gate != null) {\r\n        var chapter = courseData.thumbnailData.thumbnails[elementID].completion.gate.chapter;\r\n        var page = courseData.thumbnailData.thumbnails[elementID].completion.gate.page;\r\n        var lock = courseData.thumbnailData.thumbnails[elementID].completion.gate.lock;\r\n        openLock(chapter, page, lock);\r\n      }\r\n    }\r\n  }\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n}\r\n\r\nexport function getThumbnailIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  for(var i = 0; i < courseData.thumbnailData.thumbnails.length; i++){\r\n    if(courseData.thumbnailData.thumbnails[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n","//INITIALIZE AND RENDER DRAG AND DROP\r\nimport * as Modal from '../components/modal_functions';\r\n\r\nvar LOCAL_COURSE_DATA_ID;\r\nexport function initVideoAudio(videoAudioComponentXML, elementID, localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentVideoAudio = $(videoAudioComponentXML).find('VideoAudio[id=\"'+elementID+'\"]');\r\n  if(currentVideoAudio.length == 0){\r\n    currentVideoAudio = $(videoAudioComponentXML).find('VideoAudio');\r\n  }\r\n  var currentID = $(currentVideoAudio).attr(\"id\");\r\n\r\n  if(courseData.videoAudioData.videoAudio != null){\r\n    for(var i=0; i < courseData.videoAudioData.videoAudio.length; i++){\r\n      if(courseData.videoAudioData.videoAudio[i].id == currentID){\r\n        var id = getVideoAudioIndex(currentID);\r\n        console.log(\"Video/Audio Loaded Previously\");\r\n        setupVideoAudio(id,elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"Video/Audio Initialized\");\r\n    courseData.videoAudioData.completed = 0;\r\n    courseData.videoAudioData.videoAudio = [];\r\n\r\n  }\r\n\r\n  var videoAudio = {\r\n    id: $(currentVideoAudio).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    type: $(currentVideoAudio).find('type').text(),\r\n    embeded: $(currentVideoAudio).find('embeded').text(),\r\n    poster: $(currentVideoAudio).find('poster').text(),\r\n    source: $(currentVideoAudio).find('source').text()\r\n  };\r\n\r\n  courseData.videoAudioData.videoAudio.push(videoAudio);\r\n\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n  var id = getVideoAudioIndex(currentID);\r\n  setupVideoAudio(id,elementID);\r\n}\r\n\r\nexport function setupVideoAudio(id,elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var src = courseData.videoAudioData.videoAudio[id].source;\r\n  var poster = courseData.videoAudioData.videoAudio[id].poster;\r\n  var embeded = courseData.videoAudioData.videoAudio[id].embeded;\r\n  var type = courseData.videoAudioData.videoAudio[id].type;\r\n\r\n  if(embeded == \"true\"){\r\n    if(type == \"video\"){\r\n      var html = '<video id=\"'+elementID+'-video-embed\" poster=\"'+poster+'\" controls><source src=\"'+src+'\" type=\"video/mp4\">Your browser does not support the video tag.</video>';\r\n    }\r\n    else{\r\n      var html = '<audio id=\"'+elementID+'-audio-embed\" controls><source src=\"'+src+'\" type=\"audio/mp3\">Your browser does not support the audio element.</audio>';\r\n    }\r\n  }\r\n  else{\r\n    //openAudioModal(src);\r\n    //openVideoModal(src);\r\n    if(type == \"video\"){\r\n      var html = '<img src=\"'+poster+'\" alt=\"poster\" class=\"embeded-vidAud\"><img id=\"'+elementID+'-video\" class=\"playBtnOverlay\" src=\"dir/media/img/play_overlay.png\">';\r\n    }\r\n    else{\r\n      var html = '<img src=\"'+poster+'\" alt=\"poster\"  class=\"embeded-vidAud\"><img id=\"'+elementID+'-audio\" class=\"playBtnOverlay\" src=\"dir/media/img/play_overlay.png\">';\r\n    }\r\n  }\r\n\r\n  $(\"#\"+elementID).empty();\r\n  $(\"#\"+elementID).append(html);\r\n\r\n  $('#'+elementID+'-audio').click(function(){\r\n    console.log(\"HERE\");\r\n    Modal.openAudioModal(src);\r\n    checkVideoAudioCompletion(getVideoAudioIndex(elementID));\r\n  });\r\n\r\n  $('#'+elementID+'-video').click(function(){\r\n    Modal.openVideoModal(src);\r\n    checkVideoAudioCompletion(getVideoAudioIndex(elementID));\r\n  });\r\n\r\n  $('#'+elementID+'-audio-embed').on('play', function (e) {\r\n    checkVideoAudioCompletion(getVideoAudioIndex(elementID));\r\n\r\n  });\r\n\r\n  $('#'+elementID+'-video-embed').on('play', function (e) {\r\n    checkVideoAudioCompletion(getVideoAudioIndex(elementID));\r\n  });\r\n\r\n\r\n}\r\n\r\nexport function getVideoAudioIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.videoAudioData.videoAudio.length; i++){\r\n    if(courseData.videoAudioData.videoAudio[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function checkVideoAudioCompletion(elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  if(courseData.videoAudioData.videoAudio[elementID].completed == false){\r\n    courseData.videoAudioData.videoAudio[elementID].completed = true;\r\n    courseData.videoAudioData.completed += 1;\r\n    courseData.COMPLETED_INTERACTIVES += 1;\r\n\r\n    if(courseData.videoAudioData.videoAudio[elementID].completion.gate != null) {\r\n      var chapter = courseData.videoAudioData.videoAudio[elementID].completion.gate.chapter;\r\n      var page = courseData.videoAudioData.videoAudio[elementID].completion.gate.page;\r\n      var lock = courseData.videoAudioData.videoAudio[elementID].completion.gate.lock;\r\n      openLock(chapter, page, lock);\r\n    }\r\n  }\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n}\r\n","//////////////////////////////////////////////////////////////////////\r\n//\r\n//     App JS\r\n//      - Main JS file and entry point.\r\n//      - Loads localStorage and initializes settings.\r\n//\r\n//////////////////////////////////////////////////////////////////////\r\n\r\nimport * as Interface from './interface_functions';\r\nimport * as Tracking from './tracking_functions';\r\n\r\nvar LOCAL_COURSE_DATA_ID;\r\n\r\nvar Signal;\r\nvar courseData;\r\n\r\nvar settingsLoaded = false;\r\nvar glossaryLoaded = false;\r\nvar resourcesLoaded = false;\r\nvar navigationLoaded = false;\r\nvar cardContentLoaded = false;\r\nvar stringsLoaded = false;\r\nvar assessmentsLoaded = false;\r\nvar splashLoaded = false;\r\nvar splashViewed = false;\r\n\r\nvar totalPages;\r\nvar activePageCount;\r\nvar currentChapter;\r\nvar currentPage;\r\nvar pageIsLoading = false;\r\nvar resources;\r\nvar strings = [];\r\nvar checkingXMLCompleteAlready = false;\r\nvar cookieName = \"cookieName\";\r\nvar muted = false;\r\nvar volume = .6;\r\n\r\n$(document).ready(function() {\r\n  initLocalStorage();\r\n});\r\n\r\nfunction initLocalStorage() {\r\n  //console.log(\"initInterface()\");\r\n  // @if DEBUG\r\n  localStorage.clear();\r\n  // @endif\r\n\r\n  $(window).resize(function() {\r\n    calculateHeight();\r\n  });\r\n  $(window).on(\"unload\", function(){\r\n    Tracking.QuitLMS();\r\n  });\r\n\r\n  Tracking.StartLMS();\r\n\r\n  $.get(\"settings.json\")\r\n  .done(function(json) {\r\n    settingsLoaded = true;\r\n    LOCAL_COURSE_DATA_ID = json.settings.courseStorageID;\r\n\r\n    var localStorageSize = ((JSON.stringify(localStorage).length * 2) / 1048576).toFixed(4);\r\n    console.log(\"localStorage in megabytes: \", localStorageSize);\r\n\r\n    var currentVersion = json.settings.version;\r\n\r\n    var tempStorage = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n    if(tempStorage === null || tempStorage.SETTINGS_VERSION !== currentVersion) {\r\n      console.log(\"localStorage has reloaded\");\r\n      populateStorage(json, tempStorage);\r\n    }\r\n  });\r\n}\r\n\r\nfunction populateStorage(json, tempStorage) {\r\n  var courseStorageObj = {};\r\n  courseStorageObj.TITLE = json.settings.courseTitle;\r\n  courseStorageObj.SUB_TITLE = json.settings.courseSubTitle;\r\n  courseStorageObj.SETTINGS_VERSION = json.settings.version;\r\n  courseStorageObj.THEME = json.settings.theme;\r\n  courseStorageObj.THEME_PATH = \"dir/themes/\" + courseStorageObj.THEME;\r\n  courseStorageObj.COOKIE_NAME = json.settings.cookieName;\r\n  courseStorageObj.MENU_PLACEMENT = json.settings.menuPlacement;\r\n  courseStorageObj.MENU_STYLE = json.settings.menuStyle;\r\n  courseStorageObj.HAS_MENU_LOGO = json.settings.hasMenuLogo;\r\n  courseStorageObj.HAS_FOOTER = json.settings.hasFooter;\r\n  courseStorageObj.HAS_GLOSSARY = json.settings.hasGlossary;\r\n  courseStorageObj.HAS_RESOURCES = json.settings.hasResources;\r\n  courseStorageObj.HAS_HELP = json.settings.hasHelp;\r\n  courseStorageObj.HAS_SPLASH_PAGE = json.settings.hasSplashPage;\r\n  courseStorageObj.SETTINGS_LOADED = false;\r\n  courseStorageObj.CONTENTS = {\r\n    toc: json.settings.contents,\r\n    completed: []\r\n  };\r\n\r\n  courseStorageObj.ctrData = {};\r\n  courseStorageObj.dragDropData = {};\r\n  courseStorageObj.flipCardData = {};\r\n  courseStorageObj.hotspotData = {};\r\n  courseStorageObj.knowledgeCheckData = {};\r\n  courseStorageObj.textData = {};\r\n  courseStorageObj.thumbnailData = {};\r\n  courseStorageObj.videoAudioData = {};\r\n\r\n\r\n  courseStorageObj.COUNT_PAGES = json.settings.hasCountPages;\r\n  if(courseStorageObj.COUNT_PAGES == \"true\") {\r\n    var pageCountObj = {\"pagesTotal\":0,\"pagesVisited\":0,\"pageIds\":[]};\r\n    courseStorageObj.pageCount = pageCountObj;\r\n  }\r\n\r\n  if(json.settings.hasFooter === \"false\") {\r\n    $('.footer').remove();\r\n  }\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseStorageObj));\r\n  getNavigationData();\r\n  loadXMLData();\r\n}\r\n\r\nfunction getNavigationData(){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var contents = courseData.CONTENTS.toc;\r\n  var pageCount = 0;\r\n  var loadingComplete = false;\r\n  var pageTotal = 0;\r\n  var xmlArray = [];\r\n  courseData.chapters = new Array(contents.length);\r\n\r\n  for (var i = 0; i < contents.length; i++) {\r\n    courseData.chapters[i] = {\r\n      title: null,\r\n      titleIndex: -1,\r\n      isActive: true,\r\n      pages: []\r\n    }\r\n    courseData.chapters[i].pages = new Array(contents[i].length);\r\n\r\n    for (var j = 0; j < contents[i].length; j++) {\r\n      pageTotal += 1;\r\n      courseData.chapters[i].pages[j] = {\r\n        title: null,\r\n        file: contents[i][j],\r\n        gated: false,\r\n        locks: [0],\r\n        audio: \"\",\r\n        video: false\r\n      }\r\n\r\n      xmlArray.push({\r\n        page: contents[i][j],\r\n        completed: false\r\n      });\r\n    }\r\n  }\r\n  courseData.PAGE_TOTAL = pageTotal;\r\n  activePageCount = pageTotal;\r\n  courseData.pageCount.pagesTotal = pageTotal;\r\n  courseData.CONTENTS.completed = xmlArray;\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID,  JSON.stringify(courseData));\r\n  getChapterData();\r\n}\r\n\r\nfunction getChapterData(){\r\n  var tempData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var activeCount = 0;\r\n  for(var i = 0; i < tempData.chapters.length; i++){\r\n    for(var j = 0; j < tempData.chapters[i].pages.length; j++){\r\n      activeCount += 1;\r\n      var arg = 'dir/content/course_content/' + tempData.chapters[i].pages[j].file +'.xml';\r\n      $.ajax({\r\n          url: arg,\r\n          type: 'GET',\r\n          chapterIndex: i,\r\n          pageIndex: j,\r\n          activeCount: activeCount,\r\n          success: function(xml) {\r\n            var pathMark = Tracking.GetPathmark();\r\n\r\n            if(this.pageIndex == 0){\r\n\r\n              tempData.chapters[this.chapterIndex].title = $(xml).find(\"title\").find(\"chapterTitle\").text();\r\n\r\n              if(pathMark && pathMark != \"\" && pathMark[i] != undefined) {\r\n                var active = \"false\";\r\n                if(pathMark[i].split(\"}\")[0].split(\"]\")[0] == \"1\") {\r\n                  active = \"true\";\r\n                }\r\n\r\n                tempData.chapters[this.chapterIndex].isActive = active;\r\n                tempData.chapters[this.chapterIndex].titleIndex = pathMark[i].split(\"}\")[0].split(\"]\")[1];\r\n\r\n              }\r\n              //No Scorm Interaction\r\n              else {\r\n                tempData.chapters[this.chapterIndex].isActive = \"true\";\r\n                tempData.chapters[this.chapterIndex].titleIndex =- 1;\r\n              }\r\n            }\r\n\r\n\r\n\r\n            tempData.chapters[this.chapterIndex].pages[this.pageIndex].title = $(xml).find(\"title\").find(\"pageTitle\").text();\r\n            if($(xml).find(\"title\").find(\"gated\").text() == \"true\"){\r\n              tempData.chapters[this.chapterIndex].pages[this.pageIndex].gated = true;\r\n            }\r\n\r\n            tempData.chapters[this.chapterIndex].pages[this.pageIndex].locks = [0];\r\n            tempData.chapters[this.chapterIndex].pages[this.pageIndex].audio = false;\r\n            tempData.chapters[this.chapterIndex].pages[this.pageIndex].video = false;\r\n            tempData.chapters[this.chapterIndex].pages[this.pageIndex].count = this.activeCount;\r\n            tempData.chapters[this.chapterIndex].pages[this.pageIndex].content = $(xml).find(\"layout\").text();\r\n\r\n\r\n\r\n            localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(tempData));\r\n\r\n            //console.log(tempData.chapters[this.chapterIndex].pages[this.pageIndex].title);\r\n          },\r\n          complete: function(){\r\n            var current = tempData.chapters[this.chapterIndex].pages[this.pageIndex].file;\r\n\r\n            tempData.CONTENTS.completed.forEach(function(item, index){\r\n              if(item.page == current){\r\n                item.completed = true;\r\n              }\r\n\r\n            });\r\n\r\n            for(var i = 0; i < tempData.CONTENTS.completed.length; i++){\r\n              if(tempData.CONTENTS.completed[i].completed != true){\r\n                tempData.SETTINGS_LOADED = false;\r\n                break;\r\n              }\r\n              else{\r\n                tempData.SETTINGS_LOADED = true;\r\n              }\r\n            }\r\n            if(tempData.SETTINGS_LOADED){\r\n              console.log(\"Navigation loading completed:\");\r\n              //RUN REST OF INITALIZE LOCALSTORAGE DATA\r\n              navigationLoaded = true;\r\n              settingsLoaded = true;\r\n\r\n              //buildInterface();\r\n              //this.loadXMLData();\r\n            }\r\n          }\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nfunction loadXMLData() {\r\n  //console.log(\"loadXMLData()\");\r\n  courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  if(courseData.HAS_RESOURCES === 'true' && resourcesLoaded === false) {\r\n    GetInterfaceXML(\"dir/content/resources.xml\");\r\n    return;\r\n  }\r\n\r\n  if(courseData.cardData !== undefined && cardContentLoaded === false) {\r\n    GetInterfaceXML(\"dir/content/card_content.xml\");\r\n    return;\r\n  }\r\n\r\n  if(courseData.HAS_GLOSSARY === 'true' && glossaryLoaded === false) {\r\n    GetInterfaceXML(\"dir/content/glossary.xml\");\r\n    return;\r\n\r\n  }\r\n  if(courseData.HAS_SPLASH_PAGE === 'true' && splashLoaded === false){\r\n    GetInterfaceXML(\"dir/content/splash.xml\");\r\n    return;\r\n\r\n  } else {\r\n\r\n    loadInterfaceStyles();\r\n    Interface.initInterface(LOCAL_COURSE_DATA_ID);\r\n    return;\r\n  }\r\n}\r\n\r\nfunction GetInterfaceXML(args) {\r\n  $.get(args).done(function(xml) {\r\n    if(args.indexOf(\"card_content\") != -1) {\r\n      cardContentLoaded = true;\r\n      initCardContent(xml); // lives in card_content_functions.js\r\n      loadXMLData();\r\n    }\r\n    else if(args.indexOf(\"glossary\") != -1) {\r\n      glossaryLoaded = true;\r\n      addGlossaryToLocalStorage(xml);\r\n      loadXMLData();\r\n    }\r\n    else if(args.indexOf(\"resources\") != -1) {\r\n      resourcesLoaded = true;\r\n      addResourcesToLocalStorage(xml);\r\n      loadXMLData();\r\n    }\r\n    else if(args.indexOf(\"splash\") != -1) {\r\n      splashLoaded = true;\r\n      addSplashToLocalStorage(xml);\r\n      loadXMLData();\r\n    }\r\n  });\r\n}\r\n\r\nfunction addGlossaryToLocalStorage(xml) {\r\n  var storage = localStorage.getItem(LOCAL_COURSE_DATA_ID);\r\n  var tempStorage = JSON.parse(storage);\r\n\r\n  tempStorage.glossary = {\"items\":[]}\r\n\r\n  var itemsXML = $(xml).find(\"item\");\r\n  var items = [];\r\n\r\n  for(var hl = 0; hl < itemsXML.length; hl++) {\r\n    var item = {};\r\n\r\n    item.term = $(itemsXML[hl]).find('term').text();\r\n    item.definition = $(itemsXML[hl]).find('definition').text();\r\n    items.push(item);\r\n  }\r\n  tempStorage.glossary.items = items;\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(tempStorage));\r\n}\r\n\r\nfunction addResourcesToLocalStorage(xml) {\r\n  var storage = localStorage.getItem(LOCAL_COURSE_DATA_ID);\r\n  var tempStorage = JSON.parse(storage);\r\n\r\n  tempStorage.resources = {\"items\":[]}\r\n\r\n  var itemsXML = $(xml).find(\"item\");\r\n  var items = [];\r\n\r\n  for(var hl = 0; hl < itemsXML.length; hl++) {\r\n    var item = {};\r\n\r\n    item.term = $(itemsXML[hl]).find('term').text();\r\n    item.definition = $(itemsXML[hl]).find('definition').text();\r\n    item.source = $(itemsXML[hl]).find('source').text();\r\n    item.name = $(itemsXML[hl]).find('name').text();\r\n    items.push(item);\r\n  }\r\n\r\n  tempStorage.resources.items = items;\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(tempStorage));\r\n}\r\n\r\nfunction addSplashToLocalStorage(xml) {\r\n  var storage = localStorage.getItem(LOCAL_COURSE_DATA_ID);\r\n  var tempStorage = JSON.parse(storage);\r\n\r\n  tempStorage.splash = {\r\n    \"title\": $(xml).find(\"title\").text(),\r\n    \"caption\": $(xml).find(\"caption\").text(),\r\n    \"introduction\": $(xml).find(\"introduction\").text()\r\n  }\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(tempStorage));\r\n}\r\n\r\nfunction loadInterfaceStyles(){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  $(\".add-theme-path\").attr(\"src\", function () {\r\n    return $(this).attr(\"src\").replace(\"theme-path\", courseData.THEME_PATH);\r\n  });\r\n\r\n  $(\".add-theme-path-head\").attr(\"href\", function () {\r\n    $(this).attr(\"href\").replace(\"theme-path\", courseData.THEME_PATH);\r\n\r\n    return $(this).attr(\"href\").replace(\"theme-path\", courseData.THEME_PATH);\r\n  });\r\n}\r\n\r\nfunction calculateHeight() {\r\n  // subtracting one pixel ensures that second scroll bar doesn't appear\r\n  // adding padding to accommodate Bootstrap header nav\r\n  // console.log(\"calculateHeight\");\r\n  // console.log($(\"#navbar\").height());\r\n\r\n  //  $(\"#contentContainer\").css({height:$(window).height() - 1, paddingTop:$(\"#navbar\").height()});\r\n  //$(\"#contentContainer\").css({height:$(window).height() - 1});\r\n  $(\"#contentContainer\").css({height:$(window).height()-($('#navContainer').height()+getFooterHeight())});\r\n\r\n\r\n  var navItemHeight = (($(window).height()-($('#navContainer').height()+getFooterHeight())) * .75)/ $('.courseTitleChapter').length;\r\n  //$('.tabbed #navbarMobile .courseTitleChapter').css({height: navItemHeight});\r\n  //---------------DEPRICATED AFTER REMOVING IFRAMES---------------\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height()});\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height() - $(\"#navbar\").height(), top:$(\"#navbar\").height()});\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height() - 7});\r\n\r\n  $(\"#audioBar\").width($(\"#mainContainer\").width()-216-$(\"#navBtns\").width());\r\n  $('.leftNav #navbarMain').css({height:$(window).height()-($('#navContainer').height()+getFooterHeight())});\r\n\r\n}\r\n\r\nfunction getFooterHeight() {\r\n  if($('footer').height() == null){\r\n    return 0;\r\n  }\r\n  return $('footer').height();\r\n}\r\n","//////////////////////////////////////////////////////////////////////\r\n//\r\n//     Tracking JS\r\n//      - Communication with LMS\r\n//      - Responsible for Bookmarking\r\n//\r\n//////////////////////////////////////////////////////////////////////\r\n\r\nvar TRACKING = \"SCORM\";\r\nvar SCORM = \"1.2\";\r\nvar setScore = -1;\r\nvar mtmOpened = false;\r\nvar cookieName = \"test\";\r\n\r\nexport function SetBookmark(c, p) {\r\n  if(TRACKING == \"SCORM\") {\r\n    if(getAPIHandle() == null) {\r\n      return;\r\n    }\r\n\r\n    if(SCORM==\"2004\") {\r\n      doLMSSetValue(\"cmi.location\", c+\"_\"+p);\r\n\r\n    } else if(SCORM==\"1.2\") {\r\n      doLMSSetValue(\"cmi.core.lesson_location\", c+\"_\"+p);\r\n    }\r\n\r\n    doLMSCommit();\r\n\r\n  } else if(TRACKING==\"COOKIES\") {\r\n    setCookie(cookieName+\"bm\",c+\"_\"+p);\r\n  }\r\n}\r\n\r\nexport function GetBookmark() {\r\n  if(TRACKING==\"SCORM\") {\r\n    if(getAPIHandle() == null){return;}\r\n\r\n    if(SCORM==\"2004\") {\r\n      return doLMSGetValue(\"cmi.location\");\r\n\r\n    } else if(SCORM==\"1.2\") {\r\n      return doLMSGetValue(\"cmi.core.lesson_location\");\r\n    }\r\n\r\n  } else if(TRACKING==\"COOKIES\") {\r\n    return GetCookie(cookieName + \"bm\");\r\n  }\r\n}\r\n\r\nexport function CreatePathmarks() {\r\n  var s = \"\";\r\n\r\n  for(var i = 0; i < courseData.chapters.length; i++) {\r\n    var active=0;\r\n    if(courseData.chapters[i].isActive == \"true\") {\r\n      active=1;\r\n    }\r\n\r\n    s = s + active + \"]\" + courseData.chapters[i].titleIndex + \"}\";\r\n\r\n    for(var j = 0; j < courseData.chapters[i].pages.length; j++) {\r\n      if(j ==  courseData.chapters[i].pages.length-1) {\r\n        s = s + courseData.chapters[i].pages[j].locks.toString();\r\n      } else {\r\n        s = s + courseData.chapters[i].pages[j].locks.toString()+\";\";\r\n      }\r\n    }\r\n\r\n    if(i < courseData.chapters.length-1) {\r\n      s = s+\":\";\r\n    }\r\n  }\r\n\r\n  if(TRACKING==\"SCORM\") {\r\n    if(getAPIHandle() == null){return;}\r\n    doLMSSetValue(\"cmi.suspend_data\",s);\r\n    doLMSCommit();\r\n\r\n  } else if(TRACKING==\"COOKIES\") {\r\n    setCookie(cookieName+\"pm\",s);\r\n  }\r\n\r\n  var isComplete = true;\r\n  var noActive = true;\r\n\r\n  for(var i = 1; i < courseData.chapters.length; i++) {\r\n    for(var j = 0; j < courseData.chapters[i].pages.length; j++) {\r\n      if(courseData.chapters[i].isActive == \"true\") {\r\n        noActive = false;\r\n      }\r\n\r\n      if(courseData.chapters[i].pages[j].locks.toString().indexOf(\"0\") != -1 && courseData.chapters[i].isActive == \"true\") {\r\n        isComplete=false;\r\n        break;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  if((courseData.COMPLETION_METHOD == \"page_view\" && isComplete && !noActive) || courseData.COMPLETION_METHOD == \"immediate\")\t{\r\n    SetComplete();\r\n  }\r\n\r\n}\r\n\r\nexport function GetPathmark() {\r\n  if(TRACKING==\"SCORM\") {\r\n    if(getAPIHandle() == null) {return;}\r\n\r\n    return doLMSGetValue(\"cmi.suspend_data\");\r\n\r\n  } else if(TRACKING==\"COOKIES\") {\r\n    return GetCookie(cookieName+\"pm\");\r\n  }\r\n\r\n  return \"\";\r\n}\r\n\r\nexport function SetComplete() {\r\n  console.log(\"Course Completed\");\r\n  if(TRACKING==\"SCORM\") {\r\n    if(getAPIHandle()==null){return;}\r\n\r\n    if(SCORM==\"1.2\") {\r\n      doLMSSetValue( \"cmi.core.lesson_status\", \"passed\" );\r\n\r\n    } else if(SCORM==\"2004\") {\r\n      doLMSSetValue( \"cmi.completion_status\", \"completed\" );\r\n      doLMSSetValue( \"cmi.success_status\", \"passed\" );\r\n      if(setScore!=-1) {\r\n        doLMSSetValue( \"cmi.score.raw\", setScore );\r\n        doLMSSetValue( \"cmi.score.scaled\", setScore/100 );\r\n      }\r\n    }\r\n    doLMSCommit();\r\n  }\r\n}\r\n\r\nexport function SendScore(percent,REQUIRED_PERCENT) {\r\n  if(percent >= REQUIRED_PERCENT) {\r\n    openLock(currentChapter,currentPage,1)\r\n  }\r\n\r\n  if(TRACKING==\"SCORM\") {\r\n    if(getAPIHandle() == null){ return; }\r\n\r\n    if(SCORM==\"1.2\") {\r\n      doLMSSetValue( \"cmi.core.score.raw\", percent );\r\n      if(percent>=REQUIRED_PERCENT) {\r\n        doLMSSetValue( \"cmi.core.lesson_status\", \"passed\" );\r\n      }\r\n\r\n    } else if(SCORM==\"2004\") {\r\n      doLMSSetValue( \"cmi.score.raw\", percent );\r\n      doLMSSetValue( \"cmi.score.scaled\", percent/100 );\r\n      setScore=percent;\r\n      if(percent >= REQUIRED_PERCENT && courseData.COMPLETION_METHOD == \"assessment\") {\r\n        doLMSSetValue( \"cmi.completion_status\", \"completed\" );\r\n        doLMSSetValue( \"cmi.success_status\", \"passed\" );\r\n      }\r\n    }\r\n    doLMSCommit();\r\n  }\r\n}\r\n\r\nexport function setInteraction(id,correctResponse,learnerResponse,result,description,type) {\r\n  if(TRACKING==\"SCORM\" && SCORM==\"2004\") {\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".id\",id);\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".type\",type);\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".timestamp\",ISODateString(new Date()));\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".correct_responses.0.pattern\",correctResponse);\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".learner_response\",learnerResponse);\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".result\",result);\r\n    if(description.length>250)\r\n      description=description.substr(0,249);\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".description\",description);\r\n    doLMSCommit();\r\n  }\r\n}\r\n\r\nexport function ISODateString(d) {\r\n  function pad(n){return n<10 ? '0'+n : n}\r\n  return d.getUTCFullYear()+'-'\r\n    + pad(d.getUTCMonth()+1)+'-'\r\n    + pad(d.getUTCDate())+'T'\r\n    + pad(d.getUTCHours())+':'\r\n    + pad(d.getUTCMinutes())+':'\r\n    + pad(d.getUTCSeconds())\r\n}\r\n\r\nexport function StartLMS() {\r\n  try {\r\n    if(getAPIHandle() == null) {\r\n      TRACKING = \"COOKIES\";\r\n      return;\r\n    }\r\n\r\n    doLMSInitialize();\r\n    startTimer();\r\n\r\n    if(SCORM==\"2004\") {\r\n      var status = doLMSGetValue( \"cmi.completion_status\" );\r\n      if (status != \"incomplete\" && status!=\"completed\") {\r\n        doLMSSetValue( \"cmi.completion_status\", \"incomplete\" );\r\n        doLMSSetValue( \"cmi.success_status\", \"unknown\" );\r\n        doLMSSetValue( \"cmi.location\", \"\" );\r\n        doLMSSetValue( \"cmi.suspend_data\",\"\" );\r\n      }\r\n\r\n      doLMSSetValue(\"cmi.exit\",\"suspend\");\r\n      doLMSCommit();\r\n\r\n    } else if(SCORM==\"1.2\") {\r\n      var status = doLMSGetValue( \"cmi.core.lesson_status\" );\r\n      if (status == \"not attempted\") {\r\n        doLMSSetValue( \"cmi.core.lesson_status\", \"incomplete\" );\r\n        doLMSSetValue( \"cmi.core.lesson_location\", \"\" );\r\n        doLMSSetValue( \"cmi.suspend_data\",\"\" );\r\n        doLMSSetValue(\"cmi.core.exit\",\"suspend\");\r\n        doLMSCommit();\r\n      }\r\n    }\r\n  } catch(e){TRACKING=\"COOKIES\"}\r\n}\r\n\r\nexport function QuitLMS() {\r\n  if(TRACKING==\"SCORM\") {\r\n    if(SCORM==\"2004\") {\r\n      doLMSSetValue(\"cmi.exit\",\"suspend\");\r\n\r\n    } else if(SCORM==\"1.2\") {\r\n      doLMSSetValue(\"cmi.core.exit\",\"suspend\");\r\n    }\r\n\r\n    computeTime();\r\n    doLMSFinish();\r\n  }\r\n}\r\n\r\nexport function GetCookie(cookieName) {\r\n  var search = cookieName + \"=\"\r\n  if (document.cookie.length > 0) {\r\n    var offset = document.cookie.indexOf(search)\r\n\r\n    if (offset != -1) {\r\n      offset += search.length;\r\n      end = document.cookie.indexOf(\";\", offset);\r\n\r\n      if (end == -1) {\r\n        end = document.cookie.length;\r\n      }\r\n\r\n      cookieValue = unescape(document.cookie.substring(offset, end))\r\n\r\n      return cookieValue\r\n    }\r\n    else { return \"\"; }\r\n  }\r\n}\r\n\r\nexport function setCookie(cookieName, cookieValue, cookieLife) {\r\n  expirationDate = new Date();\r\n\r\n  if(cookieLife == null || cookieLife != -1) {\r\n    cookieLife = 365*86400000;\r\n    expirationDate.setTime(expirationDate.getTime() + cookieLife);\r\n    document.cookie = escape(cookieName) + \"=\" + escape(cookieValue) + \";expires=\" + expirationDate.toGMTString() + \";path=/\";\r\n\r\n  } else {\r\n    document.cookie = escape(cookieName) + \"=\" + escape(cookieValue) + \";path=/\";\r\n  }\r\n}\r\n\r\nwindow.setComplete = SetComplete;\r\n"],"sourceRoot":""}