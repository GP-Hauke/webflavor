{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./dev/src/js/components/modal_functions.js","webpack:///./dev/src/js/Tracking.jsx","webpack:///./dev/src/js/components/assessment_functions.js","webpack:///./dev/src/js/Interface.jsx","webpack:///./dev/src/js/Content.jsx","webpack:///./dev/src/js/components/ctr_functions.js","webpack:///./dev/src/js/components/drag_drop_functions.js","webpack:///./dev/src/js/components/flip_cards_functions.js","webpack:///./dev/src/js/components/hotspot_functions.js","webpack:///./dev/src/js/components/knowledge_check_functions.js","webpack:///./dev/src/js/components/text_functions.js","webpack:///./dev/src/js/components/thumbnails_functions.js","webpack:///./dev/src/js/components/video_audio_functions.js","webpack:///./dev/src/js/components/game_functions.js","webpack:///./dev/src/js/App.jsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","initModal","openModal","openContentModal","openVideoModal","LOCAL_COURSE_DATA_ID","courseData","_components_assessment_functions__WEBPACK_IMPORTED_MODULE_0__","modalContentXML","elementID","localStorageID","localStorage","location","reload","JSON","parse","getItem","currentModalComponent","$","find","length","currentID","attr","modalData","modals","id","getModalIndex","console","log","completed","modal","completion","score","html","text","gate","chapter","page","lock","push","setItem","stringify","modalType","assessmentID","clickTarget","THEME_PATH","title","splash","caption","intro","introduction","getSplashPage","glossary","THEME","items","term","def","definition","glossID","charAt","glossItem","getGlossary","click","this","scrollTop","offset","top","animate","resources","source","resourceItem","getResources","remove","on","e","css","height","content","src","window","forEach","SetCookieName","SetBookmark","GetBookmark","GetPathmark","SetComplete","StartLMS","QuitLMS","cookieName","TRACKING","SCORM","setScore","getAPIHandle","doLMSSetValue","doLMSCommit","setCookie","doLMSGetValue","GetCookie","doLMSInitialize","startTimer","status","computeTime","doLMSFinish","search","document","cookie","indexOf","end","unescape","substring","cookieValue","cookieLife","expirationDate","Date","setTime","getTime","escape","toGMTString","startBtn","initAssessments","assessmentsContentXML","undefined","assessmentData","VERSION","TOTAL_QUESTIONS","QUESTIONS_GIVEN","assessments","currentAssessment","assessmentObj","parseFloat","introText","questionsAnswers","questions","answers","answersFiltered","feedback","currentQuestionIndex","style","correct","incorrect","each","currentQuestion","question","TYPE","CHARACTERISTIC","REQUIRED","ANSWERED","PASSED","SCORE","IMAGE","CRITERION","HASFILTERS","filters","questionTitle","questionBody","currentFilter","filter","type","compare","currentAnswer","answer","img","brand","base","model","attributes","mpg","rearLegRoom","cargoVol","basePrice","horsePower","driveLine","interiorHeadRoom","doors","color","engineType","heatedSeats","sunroof","heatedWheel","remoteStart","connectedNavigation","thirdRowSeating","i4","v6","dr4","dr2","launchAssessment","activeAssessment","append","openIntroScreen","clearInterval","timingInterval","clearPreviousScore","shuffle","empty","startAssessment","retryChoice","questionsNum","questionIndex","questionCount","hasFilters","filterType","filterAnswersAttribute","filterAnswersCharacteristic","qIndex","time","criterion","sameAnswerCheck","orderAnswers","answerIndex","selectAnswer","event","data","hasClass","removeClass","addClass","siblings","answerSelected","off","characteristic","unselectedAnswerData","unselectedAnswer","phrasedCriterion","correctlyAnswered","selectedAnswersData","selectedAnswers","feedbackDetailsCorrect","feedbackDetailsIncorrect","correctAttr","incorrectAttr","toLocaleString","correctCharacteristic","d24","adjustedTime","tempScore","Math","round","firstVehicle","endAssessment","setInterval","timeLeft","toFixed","abs","correctAnswerCount","correctPercentage","totalScore","gameFeedback","array","temporaryValue","randomIndex","currentIndex","floor","random","filterParam","answersFilteredParam","comparison","operator","eval","vehiclePassedFilter","answer1","answer2","swap","initInterface","_Content_jsx__WEBPACK_IMPORTED_MODULE_0__","_Tracking_jsx__WEBPACK_IMPORTED_MODULE_1__","_components_modal_functions__WEBPACK_IMPORTED_MODULE_2__","totalPages","currentChapter","currentPage","activePageCount","pageIsLoading","TITLE","COOKIE_NAME","bm","isNaN","parseInt","split","HAS_SPLASH_PAGE","buildShellUI","enforcedShow","loadPage","elem","show","MENU_PLACEMENT","buildTopNav","buildLeftNav","buildTabNav","buildNoneNav","navMarkup","SUB_TITLE","mobileNav","chapters","mobileMenuButton","pages","j","headerLinks","HAS_RESOURCES","headerLinkEl","HAS_GLOSSARY","HAS_HELP","bottomNav","menuButton","k","MENU_STYLE","calculateHeight","HAS_MENU_LOGO","clickover","target","updateNavigation","width","onresize","notSelectedClass","leftNav","toggleClass","loadInterfaceStyles","locked","singlePage","previousLocks","isActive","hide","completeCount","checkLock","eq","gated","locks","toString","activateChapter","active","deactive","titleIndex","openLock","openPage","nextPage","count","prevPage","startAudio","args","getElementById","load","play","stopAudio","pause","playAudio","changeVolume","volume","prop","el","contentWindow","contentDocument","muteAudio","toggle","unmuteAudio","getFooterNav","hasLocks","nextBtnImgPath","backBtnImgPath","footerNavHTML","styles","closeCourse","close","audio","getFooterHeight","navbarHeight","loadContent","_components_ctr_functions__WEBPACK_IMPORTED_MODULE_0__","_components_drag_drop_functions__WEBPACK_IMPORTED_MODULE_1__","_components_flip_cards_functions__WEBPACK_IMPORTED_MODULE_2__","_components_hotspot_functions__WEBPACK_IMPORTED_MODULE_3__","_components_knowledge_check_functions__WEBPACK_IMPORTED_MODULE_4__","_components_text_functions__WEBPACK_IMPORTED_MODULE_5__","_components_thumbnails_functions__WEBPACK_IMPORTED_MODULE_6__","_components_video_audio_functions__WEBPACK_IMPORTED_MODULE_7__","_components_modal_functions__WEBPACK_IMPORTED_MODULE_8__","_components_assessment_functions__WEBPACK_IMPORTED_MODULE_9__","_components_game_functions_js__WEBPACK_IMPORTED_MODULE_10__","_Tracking_jsx__WEBPACK_IMPORTED_MODULE_11__","param","arg","done","xml","titleHTML","children","tagName","componentID","updatePagination","COUNT_PAGES","registerPageVisit","getPageTitle","pageLoaded","currChap","totalChaps","pageId","pageCount","pageIds","pagesVisited","setComplete","HAS_INTERACTIVE_COMPLETION","INTERACTIVES_TOTAL","INTERACTIVES_COMPLETED","confirmMsg","initCtr","CtrContentXML","currentCtr","ctrData","ctrs","getCtrIndex","setupCtr","ctr","position","sections","section","reveal","num","colNum","sectionHtml","parent","display","sectionID","substr","checkCTRCompletion","left","right","bottom","initDragAndDrop","dragDropContentXML","currentDragDrop","dragDropData","dragDrops","getDragDropIndex","setupDragDrop","dragDrop","minimumScore","matchings","currentPair","pair","drag","drop","currentGate","draggable","droppable","submitDragDrop","minScore","answerID","mouseenter","next","mouseleave","matchID","answerTemp","matchTemp","percentage","after","x","draggables","shuffleDrags","droppables","shuffleDrops","dragstart_handler","ev","dataTransfer","setData","dropEffect","dragover_handler","preventDefault","drop_handler","dragVal","getData","dropVal","dragId","dropId","tempDropId","index","initFlipCard","flipCardContentXML","currentFlipCardComponent","flipCardData","flipCards","getFlipCardIndex","setupFlipCards","flipCard","hasButton","class","cards","currentCard","card","front","back","cardNum","size","cardWidth","cardHTML","CSSPlugin","defaultTransformPerspective","TweenMax","set","rotationY","element","frontCard","backCard","tl","TimelineMax","paused","to","z","animation","cardID","closest","checkCardsCompletion","reverse","hover","setTimeout","cardsID","extraButtonHeight","max","calculateCardHeight","initHotspot","hotspotContentXML","currentHotspot","hotspotData","hotspots","getHotspotIndex","setupHotSpot","hotspot","spots","currentSpot","spot","label","popup","spotID","popupHTML","checkHotspotCompletion","initKnowledgeCheck","knowledgeCheckXML","currentKnowledgeCheck","knowledgeCheckData","knowledgeChecks","getKnowledgeCheckIndex","setupKnowledgeCheck","knowledgeCheck","scored","body","selected","answerBody","questionHTML","answersHTML","endKnowledgeCheck","selectedAnswer","totalCorrect","submitAnswers","initText","textComponentXML","currentText","initThumbnails","thumbnailContentXML","currentThumbnailComponent","thumbnailData","thumbnails","getThumbnailIndex","setupThumbnails","thumbnail","thumbs","currentThumbnail","thumb","url","onClickFunction","heading","thumbnailNum","thumbnailWidth","href","thumbnailHTML","checkThumbCompletion","evt","thumbID","initVideoAudio","_components_modal_functions__WEBPACK_IMPORTED_MODULE_0__","videoAudioComponentXML","currentVideoAudio","videoAudioData","videoAudio","getVideoAudioIndex","setupVideoAudio","embedded","poster","youtube","checkVideoAudioCompletion","initGame","GameContentXML","currentGame","gameData","games","getGameIndex","setupGame","game","completionText","Boolean","startGame","questionObj","totalQuestions","map","endGame","nextQuestion","clearTimeout","questionCorrect","calculateQuestions","currentData","startResults","classes","nextResult","_Interface_jsx__WEBPACK_IMPORTED_MODULE_0__","_components_assessment_functions__WEBPACK_IMPORTED_MODULE_2__","glossaryLoaded","resourcesLoaded","assessmentsLoaded","splashLoaded","loadXMLData","HAS_VEHICLE_GAME","GetInterfaceXML","storage","tempStorage","itemsXML","hl","item","addGlossaryToLocalStorage","addResourcesToLocalStorage","addSplashToLocalStorage","replace","countInteractives","interactive","tempData","TOTAL","ready","resize","json","settings","courseStorageID","localStorageSize","currentVersion","version","production","clear","SETTINGS_VERSION","courseStorageObj","courseTitle","courseSubTitle","theme","menuPlacement","menuStyle","hasMenuLogo","HAS_FOOTER","hasFooter","hasGlossary","hasResources","hasHelp","hasSplashPage","hasInteractiveCompletion","SETTINGS_LOADED","CONTENTS","toc","contents","hasVehicleGame","hasCountPages","pagesTotal","pageTotal","xmlArray","Array","file","video","PAGE_TOTAL","activeCount","ajax","chapterIndex","pageIndex","success","pathMark","components","complete","current","getChapterData","getNavigationData","populateStorage"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","var LOCAL_COURSE_DATA_ID;\r\nvar courseData;\r\nimport * as Game from '../components/assessment_functions';\r\n\r\n\r\nexport function initModal(modalContentXML, elementID, localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var currentModalComponent = $(modalContentXML).find('Modal[id=\"'+elementID+'\"]');\r\n  if(currentModalComponent.length == 0){\r\n    var currentModalComponent = $(modalContentXML).find('Modal');\r\n  }\r\n  var currentID = $(currentModalComponent).attr(\"id\")\r\n\r\n  if(courseData.modalData.modals != null){\r\n    for(var i=0; i < courseData.modalData.modals.length; i++){\r\n      if(courseData.modalData.modals[i].id == currentID){\r\n        var id = getModalIndex(currentID);\r\n        console.log(\"Modal Loaded Previously\");\r\n        //setupModals(id, elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"Modal Initialized\");\r\n    courseData.modalData.id = $(currentModalComponent).attr(\"id\");\r\n    courseData.modalData.completed = 0;\r\n    courseData.modalData.modals =  [];\r\n  }\r\n\r\n  var modal = {\r\n    id: $(currentModalComponent).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    score: 0,\r\n    html: $(currentModalComponent).find(\"html\").text(),\r\n  };\r\n\r\n  if(currentModalComponent.find(\"completion\").attr(\"gated\") == \"true\"){\r\n    modal.completion = {\r\n      gate : {\r\n        chapter: currentModalComponent.find(\"chapter\").text(),\r\n        page: currentModalComponent.find(\"page\").text(),\r\n        lock: currentModalComponent.find(\"lock\").text()\r\n      }\r\n    };\r\n  }\r\n\r\n  courseData.modalData.modals.push(modal);\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID,  JSON.stringify(courseData));\r\n  var id = getModalIndex(currentID);\r\n  //setupModals(id, elementID);\r\n}\r\n\r\nexport function getModalIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.modalData.modals.length; i++){\r\n    if(courseData.modalData.modals[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\nexport function modal(id){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  courseData.modalData.modals.forEach((modal) => {\r\n    if(modal.id === id){\r\n      openContentModal(modal.html);\r\n    }\r\n  });\r\n}\r\n\r\nexport function openModal(localStorageID, modalType, assessmentID, clickTarget) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n  courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var pathStr = courseData.THEME_PATH;\r\n  switch(modalType) {\r\n    case 'splashPage':\r\n      $('#modalContainer').html(getSplashPage());\r\n      break;\r\n    case 'glossary':\r\n      $('#modalContainer').html(getGlossary());\r\n      glossaryNavigate();\r\n      break;\r\n    case 'resources':\r\n      $('#modalContainer').html(getResources());\r\n      break;\r\n    case 'help':\r\n      $('#modalContainer').html(getHelpPage());\r\n      break;\r\n    case 'assessment':\r\n      $('#modalContainer').html(getAssessment());\r\n      Game.launchAssessment(assessmentID, clickTarget);\r\n      break;\r\n  }\r\n\r\n  $('#beginCourse').click(function(){\r\n    $('#modalContainer').html('');\r\n    $('.modal-backdrop').remove();\r\n  });\r\n\r\n  $('.modal').on('shown.bs.modal', function (e) {\r\n    $('.modal .modal-body').css({height: $('.modal').height()});\r\n  });\r\n\r\n  $('.modal').on('hidden.bs.modal', function (e) {\r\n    $('#modalContainer').html('');\r\n  });\r\n\r\n  $('.modal').modal();\r\n}\r\n\r\nexport function openContentModal(content) {\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var html = \"<div class='modal fade' id='Modal' tabindex='-1' role='dialog' aria-labelledby='ModalLabel'><div class='modal-dialog' role='document'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'><img src='view/themes/\"+courseData.THEME+\"/img/btn_close.png' alt='close the modal'></span></button></div><div class='modal-body clearfix'>\"+content+\"</div></div></div></div>\";\r\n  $('#modalContainer').html(html);\r\n  $('.modal').on('hidden.bs.modal', function (e) {\r\n    $('#modalContainer').html('');\r\n  });\r\n\r\n  $('.modal').modal();\r\n}\r\n\r\n export function openVideoModal(src, localStorageID) {\r\n   var courseData = JSON.parse(localStorage.getItem(localStorageID));\r\n  $('#modalContainer').html(\"<div class='modal fade' id='videoModal' tabindex='-1' role='dialog' aria-labelledby='videoModalLabel'><div class='modal-dialog' role='document'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'><img src='view/themes/\"+courseData.THEME+\"/img/btn_close.png' alt='close the modal'></span></button></div><div class='modal-body clearfix'><video controls autoplay>Sorry, your browser doesn't support embedded videos. <source src='\"+src+\"' type='video/mp4'></video></div></div></div></div>\");\r\n\r\n  $('.modal').on('hidden.bs.modal', function (e) {\r\n    $('#modalContainer').html('');\r\n  });\r\n\r\n  $('.modal').modal();\r\n}\r\n\r\nexport function openAudioModal(src) {\r\n  var courseData = JSON.parse(localStorage.getItem(localStorageID));\r\n  $('#modalContainer').html(\"<div class='modal fade' id='audioModal' tabindex='-1' role='dialog' aria-labelledby='audioModalLabel'><div class='modal-dialog' role='document'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-label='Close'><span aria-hidden='true'><img src='view/themes/\"+courseData.THEME+\"/img/btn_close.png' alt='close the modal'></span></button></div><div class='modal-body clearfix'><audio controls><source src='\"+src+\"' type='audio/mp3'>Your browser does not support the audio element.</audio></div></div></div></div>\");\r\n\r\n  $('.modal').on('hidden.bs.modal', function (e) {\r\n    $('#modalContainer').html('');\r\n  });\r\n\r\n  $('.modal').modal();\r\n}\r\n\r\nexport function getSplashPage() {\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var title = courseData.splash.title;\r\n  var caption = courseData.splash.caption;\r\n  var intro = courseData.splash.introduction;\r\n\r\n  var html = '<div class=\"modal\" id=\"splashPageModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"splashPageModalLabel\"><div class=\"modal-dialog\" role=\"document\" style=\"max-width: 1000px\"><div class=\"modal-content\"><div class=\"row\"><div class=\"col-md-5 col splashTitle\"><h3>'+title+'</h3><h1>'+caption+'</h1><p>'+intro+'</p> <a id=\"beginCourse\" class=\"btn btn-default d-block mx-auto\" role=\"button\">Begin Course</a></div></div></div></div></div><audio autoplay><source src=\"view/media/audio/0.mp3\"/></audio>';\r\n\r\n  return html;\r\n}\r\n\r\n/* NEW GLOSSARY METHOD USING XML */\r\n\r\nexport function getGlossary() {\r\n  var glossary = '<div class=\"modal fade\" id=\"glossaryModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"glossaryModalLabel\"><div class=\"modal-dialog\" role=\"document\"><div class=\"modal-content\"><div class=\"modal-header\"><div class=\"modal-title-wrapper\"><h4 class=\"modal-title\" id=\"glossaryModalLabel\">GLOSSARY</h4><button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\"><img src=\"view/themes/'+courseData.THEME+'/img/btn_close_glossary.png\" alt=\"close the glossary\"></span></button></div><div class=\"alphabet\"><a id=\"\" href=\"#\">#</a><a id=\"\" href=\"#\">a</a><a id=\"\" href=\"#\">b</a><a id=\"\" href=\"#\">c</a><a id=\"\" href=\"#\">d</a><a id=\"\" href=\"#\">e</a><a id=\"\" href=\"#\">f</a><a id=\"\" href=\"#\">g</a><a id=\"\" href=\"#\">h</a><a id=\"\" href=\"#\">i</a><a id=\"\" href=\"#\">j</a><a id=\"\" href=\"#\">k</a><a id=\"\" href=\"#\">l</a><a id=\"\" href=\"#\">m</a><a id=\"\" href=\"#\">n</a><a id=\"\" href=\"#\">o</a><a id=\"\" href=\"#\">p</a><a id=\"\" href=\"#\">q</a><a id=\"\" href=\"#\">r</a><a id=\"\" href=\"#\">s</a><a id=\"\" href=\"#\">t</a><a id=\"\" href=\"#\">u</a><a id=\"\" href=\"#\">v</a><a id=\"\" href=\"#\">w</a><a id=\"\" href=\"#\">x</a><a id=\"\" href=\"#\">y</a><a id=\"\" href=\"#\">z</a></div></div><div class=\"modal-body\">';\r\n\r\n\r\n  for(var i = 0; i < courseData.glossary.items.length; i++){\r\n\r\n    var term = courseData.glossary.items[i].term;\r\n    var def = courseData.glossary.items[i].definition;\r\n    var glossID = term.charAt(0);\r\n\r\n\r\n    var glossItem = '<div class=\"gloss-item\" id=\"'+glossID+'\"><h5>'+term+'</h5><p>'+ def +'</p></div>'\r\n\r\n    glossary += glossItem;\r\n  }\r\n\r\n  glossary += '</div></div></div></div>';\r\n\r\n  return glossary;\r\n\r\n}\r\n\r\nexport function glossaryNavigate(){\r\n  $(\".alphabet a\").click(function() {\r\n    var c = '#' + $(this).text()\r\n    //If clicking # to see numbers, go to top\r\n    if(c == '##'){\r\n      $('.modal-body').scrollTop(\r\n        0\r\n      );\r\n    }\r\n    else{\r\n      //Else, they are clicking letter\r\n      if($(c).offset() != null){\r\n        if($(c).offset().top > 140 || 120 > $(c).offset().top){\r\n          $('.modal-body').scrollTop(\r\n            0\r\n          );\r\n\r\n          $('.modal-body').animate({\r\n            scrollTop: $(c).offset().top - 130\r\n          });\r\n        }\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n/* end NEW GLOSSARY METHOD USING XML */\r\n\r\nexport function getResources() {\r\n  var resources = '<div class=\"modal fade\" id=\"resourcesModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"resourcesModalLabel\"><div class=\"modal-dialog\" role=\"document\"><div class=\"modal-content\"><div class=\"modal-header\"><div class=\"modal-title-wrapper\"><h4 class=\"modal-title\" id=\"resourcesModalLabel\">RESOURCES</h4><button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\"><img src=\"view/themes/'+courseData.THEME+'/img/btn_close_glossary.png\" alt=\"close the resources\"></span></button></div></div><div class=\"modal-body\">';\r\n\r\n\r\n  for(var i = 0; i < courseData.resources.items.length; i++){\r\n\r\n    var term = courseData.resources.items[i].term;\r\n    var def = courseData.resources.items[i].definition;\r\n    var name = courseData.resources.items[i].name;\r\n    var source = courseData.resources.items[i].source;\r\n\r\n\r\n    var resourceItem = '<div class=\"gloss-item\"\"><h5>'+term+'</h5><p>'+ def +'</p><a target=\"blank\" href=\"'+source+'\" class=\"bolded\">'+ name +'</a></div>'\r\n\r\n    resources += resourceItem;\r\n  }\r\n\r\n  resources += '</div></div></div></div>';\r\n  return resources;\r\n\r\n}\r\n\r\n\r\nexport function getHelpPage() {\r\n  var html = '<div class=\"modal fade\" id=\"helpModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"\"><div class=\"modal-dialog\" style=\"max-width:none\" role=\"document\"><div class=\"modal-content\"><div class=\"modal-header\"><h4 class=\"modal-title\" id=\"helpModalLabel\">HELP</h4><button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\"><img src=\"view/themes/'+courseData.THEME+'/img/btn_close_help.png\" alt=\"close the help page\"></span></button></div><div class=\"modal-body\"><div class=\"help-section\"><h5>NAVIGATION</h5><div class=\"help-item\"><h6>TABLE OF CONTENTS</h6><img src=\"view/themes/'+courseData.THEME+'/img/help_toc.png\" alt=\"t.o.c. icon\"/><p>Use this to navigate to different pages in the course.</p></div><div class=\"help-item\"><h6>CONTENT AREA</h6><p>Content will appear here. Follow the on-screen instructions for videos or interactives. Some pages may scroll.</p></div><div class=\"help-item\"><h6>PAGE COUNT</h6><img src=\"view/themes/'+courseData.THEME+'/img/help_page_count.png\" alt=\"page count screen shot\"/><p>Check your progress through the course.</p></div><div class=\"help-item\"><h6>BACK/NEXT BUTTONS</h6><img src=\"view/themes/'+courseData.THEME+'/img/help_back_next.png\" alt=\"page count screen shot\"/><p>Use these buttons to move forward or backward in the course.</p></div></div><div class=\"help-section\"><h5>HELP</h5><div class=\"help-item\"><h6>HELP</h6><img src=\"view/themes/'+courseData.THEME+'/img/help_help.png\" alt=\"page count screen shot\"/><p>This page describes how to use the course.</p></div></div></div></div></div></div>';\r\n  return html;\r\n}\r\n\r\nexport function getAssessment() {\r\n  var html = '<div class=\"modal\" id=\"assessmentModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"assessmentModalLabel\" data-backdrop=\"static\"><div class=\"modal-dialog\" role=\"document\" style=\"max-width: 1000px\"><div class=\"modal-content\"><div class=\"row\"><div class=\"col-md-12 assessment-container\"></div></div></div></div></div>';\r\n  return html;\r\n}\r\n\r\nwindow.modal = modal;\r\nwindow.openContentModal = openContentModal;\r\n","//////////////////////////////////////////////////////////////////////\r\n//\r\n//     Tracking JS\r\n//      - Communication with LMS\r\n//      - Responsible for Bookmarking\r\n//\r\n//////////////////////////////////////////////////////////////////////\r\n\r\nvar TRACKING = \"SCORM\";\r\nvar SCORM = \"1.2\";\r\nvar setScore = -1;\r\nvar mtmOpened = false;\r\nvar cookieName;\r\n\r\nexport function SetCookieName(c){\r\n  cookieName = c;\r\n}\r\n\r\nexport function SetBookmark(c, p) {\r\n  if(TRACKING == \"SCORM\") {\r\n    if(getAPIHandle() == null) {\r\n      return;\r\n    }\r\n\r\n    if(SCORM==\"2004\") {\r\n      doLMSSetValue(\"cmi.location\", c+\"_\"+p);\r\n\r\n    } else if(SCORM==\"1.2\") {\r\n      doLMSSetValue(\"cmi.core.lesson_location\", c+\"_\"+p);\r\n    }\r\n\r\n    doLMSCommit();\r\n\r\n  } else if(TRACKING==\"COOKIES\") {\r\n    setCookie(cookieName+\"bm\",c+\"_\"+p);\r\n  }\r\n}\r\n\r\nexport function GetBookmark() {\r\n  if(TRACKING==\"SCORM\") {\r\n    if(getAPIHandle() == null){return;}\r\n\r\n    if(SCORM==\"2004\") {\r\n      return doLMSGetValue(\"cmi.location\");\r\n\r\n    } else if(SCORM==\"1.2\") {\r\n      return doLMSGetValue(\"cmi.core.lesson_location\");\r\n    }\r\n\r\n  } else if(TRACKING==\"COOKIES\") {\r\n    return GetCookie(cookieName + \"bm\");\r\n  }\r\n}\r\n\r\nexport function CreatePathmarks() {\r\n  var s = \"\";\r\n\r\n  for(var i = 0; i < courseData.chapters.length; i++) {\r\n    var active=0;\r\n    if(courseData.chapters[i].isActive == \"true\") {\r\n      active=1;\r\n    }\r\n\r\n    s = s + active + \"]\" + courseData.chapters[i].titleIndex + \"}\";\r\n\r\n    for(var j = 0; j < courseData.chapters[i].pages.length; j++) {\r\n      if(j ==  courseData.chapters[i].pages.length-1) {\r\n        s = s + courseData.chapters[i].pages[j].locks.toString();\r\n      } else {\r\n        s = s + courseData.chapters[i].pages[j].locks.toString()+\";\";\r\n      }\r\n    }\r\n\r\n    if(i < courseData.chapters.length-1) {\r\n      s = s+\":\";\r\n    }\r\n  }\r\n\r\n  if(TRACKING==\"SCORM\") {\r\n    if(getAPIHandle() == null){return;}\r\n    doLMSSetValue(\"cmi.suspend_data\",s);\r\n    doLMSCommit();\r\n\r\n  } else if(TRACKING==\"COOKIES\") {\r\n    setCookie(cookieName+\"pm\",s);\r\n  }\r\n\r\n  var isComplete = true;\r\n  var noActive = true;\r\n\r\n  for(var i = 1; i < courseData.chapters.length; i++) {\r\n    for(var j = 0; j < courseData.chapters[i].pages.length; j++) {\r\n      if(courseData.chapters[i].isActive == \"true\") {\r\n        noActive = false;\r\n      }\r\n\r\n      if(courseData.chapters[i].pages[j].locks.toString().indexOf(\"0\") != -1 && courseData.chapters[i].isActive == \"true\") {\r\n        isComplete=false;\r\n        break;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  if((courseData.COMPLETION_METHOD == \"page_view\" && isComplete && !noActive) || courseData.COMPLETION_METHOD == \"immediate\")\t{\r\n    SetComplete();\r\n  }\r\n\r\n}\r\n\r\nexport function GetPathmark() {\r\n  if(TRACKING==\"SCORM\") {\r\n    if(getAPIHandle() == null) {return;}\r\n\r\n    return doLMSGetValue(\"cmi.suspend_data\");\r\n\r\n  } else if(TRACKING==\"COOKIES\") {\r\n    return GetCookie(cookieName+\"pm\");\r\n  }\r\n\r\n  return \"\";\r\n}\r\n\r\nexport function SetComplete() {\r\n  console.log(\"Course Completed\");\r\n  if(TRACKING==\"SCORM\") {\r\n    if(getAPIHandle()==null){return;}\r\n\r\n    if(SCORM==\"1.2\") {\r\n      doLMSSetValue( \"cmi.core.lesson_status\", \"passed\" );\r\n\r\n    } else if(SCORM==\"2004\") {\r\n      doLMSSetValue( \"cmi.completion_status\", \"completed\" );\r\n      doLMSSetValue( \"cmi.success_status\", \"passed\" );\r\n      if(setScore!=-1) {\r\n        doLMSSetValue( \"cmi.score.raw\", setScore );\r\n        doLMSSetValue( \"cmi.score.scaled\", setScore/100 );\r\n      }\r\n    }\r\n    doLMSCommit();\r\n  }\r\n}\r\n\r\nexport function SendScore(percent,REQUIRED_PERCENT) {\r\n  if(percent >= REQUIRED_PERCENT) {\r\n    openLock(currentChapter,currentPage,1)\r\n  }\r\n\r\n  if(TRACKING==\"SCORM\") {\r\n    if(getAPIHandle() == null){ return; }\r\n\r\n    if(SCORM==\"1.2\") {\r\n      doLMSSetValue( \"cmi.core.score.raw\", percent );\r\n      if(percent>=REQUIRED_PERCENT) {\r\n        doLMSSetValue( \"cmi.core.lesson_status\", \"passed\" );\r\n      }\r\n\r\n    } else if(SCORM==\"2004\") {\r\n      doLMSSetValue( \"cmi.score.raw\", percent );\r\n      doLMSSetValue( \"cmi.score.scaled\", percent/100 );\r\n      setScore=percent;\r\n      if(percent >= REQUIRED_PERCENT && courseData.COMPLETION_METHOD == \"assessment\") {\r\n        doLMSSetValue( \"cmi.completion_status\", \"completed\" );\r\n        doLMSSetValue( \"cmi.success_status\", \"passed\" );\r\n      }\r\n    }\r\n    doLMSCommit();\r\n  }\r\n}\r\n\r\nexport function setInteraction(id,correctResponse,learnerResponse,result,description,type) {\r\n  if(TRACKING==\"SCORM\" && SCORM==\"2004\") {\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".id\",id);\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".type\",type);\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".timestamp\",ISODateString(new Date()));\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".correct_responses.0.pattern\",correctResponse);\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".learner_response\",learnerResponse);\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".result\",result);\r\n    if(description.length>250)\r\n      description=description.substr(0,249);\r\n    doLMSSetValue(\"cmi.interactions.\"+id+\".description\",description);\r\n    doLMSCommit();\r\n  }\r\n}\r\n\r\nexport function ISODateString(d) {\r\n  function pad(n){return n<10 ? '0'+n : n}\r\n  return d.getUTCFullYear()+'-'\r\n    + pad(d.getUTCMonth()+1)+'-'\r\n    + pad(d.getUTCDate())+'T'\r\n    + pad(d.getUTCHours())+':'\r\n    + pad(d.getUTCMinutes())+':'\r\n    + pad(d.getUTCSeconds())\r\n}\r\n\r\nexport function StartLMS() {\r\n  try {\r\n    if(getAPIHandle() == null) {\r\n      TRACKING = \"COOKIES\";\r\n      return;\r\n    }\r\n\r\n    doLMSInitialize();\r\n    startTimer();\r\n\r\n    if(SCORM==\"2004\") {\r\n      var status = doLMSGetValue( \"cmi.completion_status\" );\r\n      if (status != \"incomplete\" && status!=\"completed\") {\r\n        doLMSSetValue( \"cmi.completion_status\", \"incomplete\" );\r\n        doLMSSetValue( \"cmi.success_status\", \"unknown\" );\r\n        doLMSSetValue( \"cmi.location\", \"\" );\r\n        doLMSSetValue( \"cmi.suspend_data\",\"\" );\r\n      }\r\n\r\n      doLMSSetValue(\"cmi.exit\",\"suspend\");\r\n      doLMSCommit();\r\n\r\n    } else if(SCORM==\"1.2\") {\r\n      var status = doLMSGetValue( \"cmi.core.lesson_status\" );\r\n      if (status == \"not attempted\") {\r\n        doLMSSetValue( \"cmi.core.lesson_status\", \"incomplete\" );\r\n        doLMSSetValue( \"cmi.core.lesson_location\", \"\" );\r\n        doLMSSetValue( \"cmi.suspend_data\",\"\" );\r\n        doLMSSetValue(\"cmi.core.exit\",\"suspend\");\r\n        doLMSCommit();\r\n      }\r\n    }\r\n  } catch(e){TRACKING=\"COOKIES\"}\r\n}\r\n\r\nexport function QuitLMS() {\r\n  if(TRACKING==\"SCORM\") {\r\n    if(SCORM==\"2004\") {\r\n      doLMSSetValue(\"cmi.exit\",\"suspend\");\r\n\r\n    } else if(SCORM==\"1.2\") {\r\n      doLMSSetValue(\"cmi.core.exit\",\"suspend\");\r\n    }\r\n\r\n    computeTime();\r\n    doLMSFinish();\r\n  }\r\n}\r\n\r\nexport function GetCookie(cookieName) {\r\n  var search = cookieName + \"=\"\r\n  if (document.cookie.length > 0) {\r\n    var offset = document.cookie.indexOf(search)\r\n\r\n    if (offset != -1) {\r\n      offset += search.length;\r\n      var end = document.cookie.indexOf(\";\", offset);\r\n\r\n      if (end == -1) {\r\n        end = document.cookie.length;\r\n      }\r\n\r\n      var cookieValue = unescape(document.cookie.substring(offset, end))\r\n\r\n      return cookieValue\r\n    }\r\n    else { return \"\"; }\r\n  }\r\n}\r\n\r\nexport function setCookie(cookieName, cookieValue, cookieLife) {\r\n  var expirationDate = new Date();\r\n\r\n  if(cookieLife == null || cookieLife != -1) {\r\n    cookieLife = 365*86400000;\r\n    expirationDate.setTime(expirationDate.getTime() + cookieLife);\r\n    document.cookie = escape(cookieName) + \"=\" + escape(cookieValue) + \";expires=\" + expirationDate.toGMTString() + \";path=/\";\r\n\r\n  } else {\r\n    document.cookie = escape(cookieName) + \"=\" + escape(cookieValue) + \";path=/\";\r\n  }\r\n}\r\n","var startBtn;\r\nvar LOCAL_COURSE_DATA_ID;\r\n\r\nexport function initAssessments(localStorageID, assessmentsContentXML) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n  /* ran into a case where localStorage wasn't available, throwing an error on startup. couldn't track down exact bug (possibly a race condition somewhere) so reloading page if localStorage isn't found. */\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  /* if course is loaded for first time, or assessment content xml was updated, initialize assessment data. otherwise do nothing. */\r\n  if(courseData.assessmentData.VERSION === undefined || courseData.assessmentData.VERSION !== $(assessmentsContentXML).find(\"version\").text()) {\r\n\r\n    courseData.assessmentData.VERSION = $(assessmentsContentXML).find(\"version\").text();\r\n    courseData.assessmentData.TOTAL_QUESTIONS = $(assessmentsContentXML).find(\"question\").length;\r\n    courseData.assessmentData.QUESTIONS_GIVEN = $(assessmentsContentXML).find(\"assessments\").attr(\"questionsGiven\");\r\n\r\n    courseData.assessmentData.assessments = [];\r\n\r\n    for(var i = 0; i < $(assessmentsContentXML).find(\"assessment\").length; i++) {\r\n      var currentAssessment = $(assessmentsContentXML).find(\"assessment\")[i];\r\n\r\n      var assessmentObj = {\r\n        id: parseFloat($(currentAssessment).attr(\"id\")),\r\n        completed: $(currentAssessment).attr(\"completed\"),\r\n        title: $(currentAssessment).attr(\"title\"),\r\n        introText: $(currentAssessment).find(\"introText\").text(),\r\n        questionsAnswers: {\r\n          questions: [],\r\n          answers: [],\r\n          answersFiltered: [],\r\n          feedback: {}\r\n        },\r\n        currentQuestionIndex: 0,\r\n        score: 0\r\n      };\r\n\r\n      if(assessmentObj.title.indexOf(\"Buick\") !== -1) {\r\n        assessmentObj.style = \"buick\";\r\n      } else if(assessmentObj.title.indexOf(\"Chevrolet\") !== -1) {\r\n        assessmentObj.style = \"chevy\";\r\n      } else if(assessmentObj.title.indexOf(\"GMC\") !== -1) {\r\n        assessmentObj.style = \"gmc\";\r\n      }\r\n\r\n      assessmentObj.questionsAnswers.feedback.correct = $(currentAssessment).find(\"correct\").text();\r\n      assessmentObj.questionsAnswers.feedback.incorrect = $(currentAssessment).find(\"incorrect\").text();\r\n\r\n      $(currentAssessment).find(\"question\").each(function() {\r\n        var currentQuestion = $(this);\r\n\r\n        var question = {\r\n          TYPE: currentQuestion.attr(\"type\"),\r\n          CHARACTERISTIC: currentQuestion.find(\"characteristic\").text(),\r\n          REQUIRED: currentQuestion.attr(\"required\"),\r\n          ANSWERED: currentQuestion.attr(\"answered\"),\r\n          PASSED: currentQuestion.attr(\"passed\"),\r\n          SCORE: 0,\r\n          IMAGE: currentQuestion.find(\"imgSrc\").text(),\r\n          CRITERION: currentQuestion.find('criterion').text(),\r\n          HASFILTERS: currentQuestion.find('filters').attr(\"hasFilters\"),\r\n          filters: [],\r\n          question: {\r\n            questionTitle: currentQuestion.find(\"questionTitle\").text(),\r\n            questionBody: currentQuestion.find(\"questionBody\").text()\r\n          }\r\n        };\r\n\r\n        $(this).find(\"filter\").each(function() {\r\n\r\n          var currentFilter = $(this);\r\n\r\n          var filter = {\r\n            type: currentFilter.attr('type'),\r\n            filter: currentFilter.text(),\r\n            compare: currentFilter.attr('compare'),\r\n            value: currentFilter.attr('value')\r\n          };\r\n\r\n          question.filters.push(filter);\r\n        });\r\n\r\n        assessmentObj.questionsAnswers.questions.push(question);\r\n      });\r\n\r\n\r\n      $(currentAssessment).find(\"answer\").each(function() {\r\n        var currentAnswer = $(this);\r\n\r\n        var answer = {\r\n          correct: currentAnswer.attr(\"correct\"),\r\n          img: currentAnswer.find(\"modelImgSrc\").text(),\r\n          brand: currentAnswer.find(\"brand\").text(),\r\n          base: currentAnswer.find(\"base\").text(),\r\n          model: currentAnswer.find(\"model\").text(),\r\n          attributes: currentAnswer.find(\"attributes\").text(),\r\n          mpg: currentAnswer.find(\"mpg\").text(),\r\n          rearLegRoom: currentAnswer.find(\"rearLegRoom\").text(),\r\n          cargoVol: currentAnswer.find(\"cargoVol\").text(),\r\n          basePrice: currentAnswer.find(\"basePrice\").text(),\r\n          horsePower: currentAnswer.find(\"horsePower\").text(),\r\n          driveLine: currentAnswer.find(\"driveLine\").text(),\r\n          interiorHeadRoom: currentAnswer.find(\"interiorHeadRoom\").text(),\r\n          doors: currentAnswer.find(\"doors\").text(),\r\n          color: currentAnswer.find(\"color\").text(),\r\n          engineType: currentAnswer.find(\"engineType\").text(),\r\n          heatedSeats: currentAnswer.find(\"heatedSeats\").text(),\r\n          sunroof: currentAnswer.find(\"sunroof\").text(),\r\n          heatedWheel: currentAnswer.find(\"heatedWheel\").text(),\r\n          remoteStart: currentAnswer.find(\"remoteStart\").text(),\r\n          connectedNavigation: currentAnswer.find(\"connectedNavigation\").text(),\r\n          thirdRowSeating: currentAnswer.find(\"thirdRowSeating\").text(),\r\n          i4: currentAnswer.find(\"i4\").text(),\r\n          v6: currentAnswer.find(\"v6\").text(),\r\n          dr4: currentAnswer.find(\"dr4\").text(),\r\n          dr2: currentAnswer.find(\"dr2\").text()\r\n        };\r\n        assessmentObj.questionsAnswers.answers.push(answer);\r\n      });\r\n      courseData.assessmentData.assessments.push(assessmentObj);\r\n    }\r\n    localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n  }\r\n}\r\n\r\nexport function launchAssessment(id, clickTarget) {\r\n  startBtn = clickTarget;\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var activeAssessment = id;\r\n  var questionsNum = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions.length;\r\n  var questionIndex = courseData.assessmentData.assessments[activeAssessment].currentQuestionIndex;\r\n  var completed = courseData.assessmentData.assessments[activeAssessment].completed;\r\n\r\n  courseData.assessmentData.assessments[activeAssessment].score = 0;\r\n\r\n  //  if(questionIndex === questionsNum) {\r\n  /*if(completed === \"true\") {\r\n  retryChoice(activeAssessment);\r\n  return; else {*/\r\n\r\n  if(activeAssessment === 0) {\r\n    $(\"#modalContainer .assessment-container\").append(\"<img class='exitBtn' alt='exit button' src='view/media/img/game/exitBtn.jpg'><div class='selection-screen row'></div>\");\r\n    $(\"#modalContainer .selection-screen\").append(\"<div class='col-md-12'><p>Think you know your lineup? Lets see whether you can find the best vehicle for the customer.</p><p>First, select the brand you want to view. Well give you 10 questions that includes two customer requests. Youll be given a choice between two vehicles. The vehicles could be different models or the same model at different trim levels. Select the vehicle that best suits your customers needs.</p><p>Think fast! After you read the question, a 10 second timer will start! Youll get 10 points for each correct answer, and bonus points for how quickly you answer. There are 1,000 total points possible. See if you can get them all!</p><p>When you're ready, choose a brand and click <span class='bolded'>Let's Play</span> and get started.</p></div>\");\r\n\r\n    $(\"#modalContainer .selection-screen\").append(\"<div class='col-md-4'><button class='d-block mx-auto btn-game buick'><img class='img-fluid' src='view/media/img/game/game_branch_buick.jpg' alt=''></button></div>\");\r\n\r\n    $(\"#modalContainer .selection-screen\").append(\"<div class='col-md-4'><button class='d-block mx-auto  btn-game gmc'><img class='img-fluid' src='view/media/img/game/game_branch_gmc.jpg' alt=''></button></div>\");\r\n\r\n    $(\"#modalContainer .selection-screen\").append(\"<div class='col-md-4'><button class='d-block mx-auto  btn-game chevy'><img class='img-fluid' src='view/media/img/game/game_branch_chevy.jpg' alt=''></button></div>\");\r\n\r\n    $(\"#modalContainer .btn-game.buick\").click(function() {\r\n      $(\".selection-screen\").remove();\r\n      openIntroScreen(0);\r\n    });\r\n    $(\"#modalContainer .btn-game.gmc\").click(function() {\r\n      $(\".selection-screen\").remove();\r\n      openIntroScreen(1);\r\n    });\r\n    $(\"#modalContainer .btn-game.chevy\").click(function() {\r\n      $(\".selection-screen\").remove();\r\n      openIntroScreen(2);\r\n    });\r\n\r\n    $(\"#assessmentModal .assessment-container .exitBtn\").click(function() {\r\n      clearInterval(window.timingInterval);\r\n      $('.modal').modal('hide');\r\n    });\r\n\r\n  } else {\r\n    openIntroScreen(3);\r\n  }\r\n  //  }\r\n}\r\n\r\nexport function openIntroScreen(id) {\r\n  clearPreviousScore(id);\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var activeAssessment = id;\r\n  var style = courseData.assessmentData.assessments[activeAssessment].style;\r\n  var completed = courseData.assessmentData.assessments[activeAssessment].completed;\r\n\r\n  if(completed === \"true\") {\r\n    retryChoice(activeAssessment);\r\n    return;\r\n  }\r\n\r\n  courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions = shuffle(courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions);\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n  $(\"#modalContainer .assessment-container\").append(\"<img class='backBtn'  src='view/media/img/game/backBtn.jpg' alt='back'><div class='intro-screen \"+style+\"'></div>\");\r\n  $(\"#modalContainer .intro-screen\").append(courseData.assessmentData.assessments[activeAssessment].introText);\r\n  $(\"#modalContainer .intro-screen\").append(\"<button class='btn-start'>NEXT</button>\");\r\n\r\n  $(\"#assessmentModal .assessment-container .backBtn\").click(function() {\r\n    $(\"#assessmentModal .assessment-container\").empty();\r\n    clearInterval(window.timingInterval);\r\n    launchAssessment(0,null);\r\n  });\r\n\r\n  $(\"#modalContainer .btn-start\").click(function() {\r\n  $(\".intro-screen\").remove();\r\n  startAssessment(activeAssessment);\r\n});\r\n}\r\n\r\nexport function startAssessment(id) {\r\n  //LocalStorage - Assessment ID - Style\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var activeAssessment = id;\r\n  var style = courseData.assessmentData.assessments[activeAssessment].style;\r\n\r\n  //Number of Questions Given - Index of Current Question -\r\n  var questionsNum = courseData.assessmentData.QUESTIONS_GIVEN;\r\n  var questionIndex = courseData.assessmentData.assessments[activeAssessment].currentQuestionIndex;\r\n  var questionCount = questionIndex + 1;\r\n\r\n  //Shuffle Questions Everytime (to get same question multiple times)\r\n  //courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions = shuffle(courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions);\r\n\r\n  //Question Information for Dispaly\r\n  var questionTitle = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[questionIndex].question.questionTitle;\r\n  var questionBody = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[questionIndex].question.questionBody;\r\n\r\n  //Question Filter (may not have one) and its Numerical Value\r\n  var hasFilters = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[questionIndex].HASFILTERS;\r\n  var filters = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[questionIndex].filters;\r\n\r\n  //Initialize answersFiltered to be the same as answers (prior to filter being applied)\r\n  var answersArr = shuffle(courseData.assessmentData.assessments[activeAssessment].questionsAnswers.answers);\r\n  var answersFiltered = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.answers;\r\n\r\n  if(hasFilters == \"true\"){\r\n    //If a filter exists, apply it\r\n    for(var i = 0; i < filters.length; i++){\r\n      var filterType = filters[i].type;\r\n      if(filterType == \"attribute\"){\r\n        answersFiltered = filterAnswersAttribute(activeAssessment, filters[i], answersFiltered);\r\n      }else if(filterType == \"characteristic\"){\r\n        answersFiltered = filterAnswersCharacteristic(activeAssessment, filters[i], answersFiltered);\r\n      }\r\n    }\r\n  }\r\n\r\n  //Update LocalStorage AnswersFiltered array\r\n  courseData.assessmentData.assessments[activeAssessment].questionsAnswers.answersFiltered = answersFiltered;\r\n\r\n  //Overall Score and Time for Each Question\r\n  var score = courseData.assessmentData.assessments[activeAssessment].score;\r\n  var time = 0;\r\n  var qIndex;\r\n  var aIndex;\r\n\r\n  var criterion = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[questionIndex].CRITERION;\r\n  var type = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[questionIndex].TYPE;\r\n\r\n\r\n  if(type == 'attribute'){\r\n    sameAnswerCheck(activeAssessment, answersFiltered, criterion);\r\n  }\r\n  else if(type == 'characteristic'){\r\n    var value = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[questionIndex].CHARACTERISTIC;\r\n    orderAnswers(activeAssessment, answersFiltered, criterion, value);\r\n\r\n  }\r\n  var answerTries = 0;\r\n\r\n  $(\"#modalContainer .assessment-container\").append(\"<div class='assessment-content \"+style+\" row'></div>\");\r\n  $(\"#modalContainer .assessment-content\").append(\"<h3 class='assessment-total'>\"+score+\" Total Points\");\r\n  $(\"#modalContainer .assessment-content\").append(\"<h3>Question \"+questionCount+\" of \"+questionsNum+\"<span> 10 seconds</span>\");\r\n  $(\"#modalContainer .assessment-content\").append(\"<p>\"+questionBody+\"</p>\");\r\n  $(\"#modalContainer .assessment-content\").append(\"<div class='row mx-auto answers clearfix'></div>\");\r\n\r\n\r\n  for(var i = 0; i < 2; i++) {\r\n    $(\"#modalContainer .answers\").append(\"<div class='col-md-6 answer-container initial btn\"+i+\"'><div class='unselected-box'></div><div class='border-box'><img class='img-fluid' src='\"+answersFiltered[i].img+\"'/><div class='brand-model-attr clearfix'><p class='brand'>\"+answersFiltered[i].brand+\"</p><p class='model'>\"+answersFiltered[i].model+\"&nbsp</p><p class='attr'>\"+answersFiltered[i].attributes+\"</p></div><div class='selected-bar'></div></div></div>\");\r\n  }\r\n\r\n  $(\"#modalContainer .assessment-content\").append(\"<button class='btn-submit-answer'>SUBMIT</button>\");\r\n\r\n  for(var i = 0; i < $(\"#modalContainer .answer-container\").length; i++) {\r\n    $($(\"#modalContainer .answer-container\")[i]).click({questionIndex: questionIndex, answerIndex: i}, selectAnswer);\r\n  }\r\n\r\n  function selectAnswer(event) {\r\n    qIndex = event.data.questionIndex;\r\n    aIndex = event.data.answerIndex;\r\n\r\n    $(\"#modalContainer .answer-container\").each(function(){\r\n      if($(this).hasClass(\"initial\")) {\r\n        $(this).removeClass(\"initial\");\r\n        $(this).addClass(\"unselected\");\r\n      }\r\n    });\r\n\r\n    if($(this).hasClass(\"selected\")) {\r\n      $(this).removeClass(\"selected\");\r\n      $(this).addClass(\"unselected\");\r\n\r\n    } else {\r\n      $(this).addClass(\"selected\");\r\n      $(this).removeClass(\"unselected\");\r\n      $(this).siblings().removeClass(\"selected\");\r\n      $(this).siblings().addClass(\"unselected\");\r\n    }\r\n  }\r\n\r\n  $(\"#modalContainer .btn-submit-answer\").click(submitAnswer);\r\n\r\n  function submitAnswer() {\r\n    var answerSelected = false;\r\n\r\n    $(\"#modalContainer .answer-container\").each(function(){\r\n      if($(this).hasClass(\"selected\")) {\r\n        answerSelected = true;\r\n      }\r\n    });\r\n\r\n    if(answerSelected === false) {\r\n      $(\"#modalContainer .btn-submit-answer\").addClass(\"d-none\");\r\n\r\n      $(\"#modalContainer .assessment-content\").append(\"<div class='feedback-container'><p>Please select an answer.</p><div class=''><button class='btn-ok'>OK</button></div></div>\");\r\n\r\n      $(\"#modalContainer .btn-ok\").click(returnToQuestion);\r\n\r\n      function returnToQuestion() {\r\n        $(\"#modalContainer .btn-submit-answer\").removeClass(\"d-none\");\r\n        $(\"#modalContainer .feedback-container\").remove();\r\n      }\r\n    }\r\n\r\n    else {\r\n      clearInterval(window.timingInterval);\r\n\r\n      $(\"#modalContainer .answer-container\").off();\r\n      $(\"#modalContainer .btn-submit-answer\").addClass(\"d-none\");\r\n\r\n      var criterion = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[qIndex].CRITERION;\r\n      var characteristic = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[qIndex].CHARACTERISTIC;\r\n      var type = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[qIndex].TYPE;\r\n\r\n\r\n      courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[qIndex].ANSWERED = \"true\";\r\n\r\n      var correctlyAnswered = false;\r\n      var bothCorrect = false;\r\n      var selectedAnswersData = [];\r\n      var unselectedAnswerData;\r\n      var selectedAnswers = [];\r\n      var unselectedAnswer;\r\n      var phrasedCriterion;\r\n\r\n\r\n      for(var i = 0; i < $(\"#modalContainer .answer-container\").length; i++) {\r\n        if($($(\"#modalContainer .answer-container\")[i]).hasClass(\"selected\")) {\r\n          selectedAnswersData.push(courseData.assessmentData.assessments[activeAssessment].questionsAnswers.answersFiltered[i]);\r\n          selectedAnswers.push($(\"#modalContainer .answer-container\")[i]);\r\n\r\n        } else if ($($(\"#modalContainer .answer-container\")[i]).hasClass(\"unselected\")) {\r\n          unselectedAnswerData = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.answersFiltered[i];\r\n          unselectedAnswer = $(\"#modalContainer .answer-container\")[i];\r\n        }\r\n      }\r\n\r\n      //CHECK WHAT TYPE OF QUESTION IT IS\r\n      //ATTRIBUTE: NUMBERS (MPG, CARGO, PRICE)\r\n      //CHARACTERISTIC: WORDS (COLOR, SUNROOF, AC)\r\n      var feedbackDetailsCorrect = \"\";\r\n      var feedbackDetailsIncorrect = \"\";\r\n      var correct = \"\";\r\n      var incorrect = \"\";\r\n      var correctAttr = \"\";\r\n      var incorrectAttr = \"\";\r\n\r\n      if(type == \"attribute\"){\r\n        //CALCULATE CORRECTNESS OF ATTRIBUTE QUESTIONS WITH THIS FUNCTIONALITY\r\n        if(criterion === \"cargoVol\") {\r\n          phrasedCriterion = \"cu. ft of Cargo Room\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n          incorrectAttr = selectedAnswersData[0].cargoVol;\r\n          correctAttr = unselectedAnswerData.cargoVol;\r\n\r\n          if(parseFloat(selectedAnswersData[0].cargoVol) > parseFloat(unselectedAnswerData.cargoVol)) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n            incorrectAttr = unselectedAnswerData.cargoVol;\r\n            correctAttr = selectedAnswersData[0].cargoVol;\r\n          }\r\n        }\r\n\r\n        else if(criterion === \"interiorHeadRoom\") {\r\n          phrasedCriterion = \"in of Headroom\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n          incorrectAttr = selectedAnswersData[0].mpg;\r\n          correctAttr = unselectedAnswerData.mpg;\r\n\r\n\r\n          if(parseFloat(selectedAnswersData[0].mpg) > unselectedAnswerData.mpg) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n            incorrectAttr = unselectedAnswerData.mpg;\r\n            correctAttr = selectedAnswersData[0].mpg;\r\n          }\r\n        }\r\n\r\n        else if(criterion === \"mpg\") {\r\n          phrasedCriterion = \"mpg\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n          incorrectAttr = selectedAnswersData[0].mpg;\r\n          correctAttr = unselectedAnswerData.mpg;\r\n\r\n\r\n          if(parseFloat(selectedAnswersData[0].mpg) > unselectedAnswerData.mpg) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n            incorrectAttr = unselectedAnswerData.mpg;\r\n            correctAttr = selectedAnswersData[0].mpg;\r\n\r\n          }\r\n\r\n        }\r\n\r\n        else if(criterion === \"rearLegRoom\") {\r\n          phrasedCriterion = \"in of Rear Leg Room\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n          incorrectAttr = selectedAnswersData[0].rearLegRoom;\r\n          correctAttr = unselectedAnswerData.rearLegRoom;\r\n\r\n          if(parseFloat(selectedAnswersData[0].rearLegRoom) > unselectedAnswerData.rearLegRoom) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n            incorrectAttr = unselectedAnswerData.rearLegRoom;\r\n            correctAttr = selectedAnswersData[0].rearLegRoom;\r\n\r\n          }\r\n        }\r\n\r\n        else if(criterion === \"horsePower\") {\r\n          phrasedCriterion = \"horsepower\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n          incorrectAttr = selectedAnswersData[0].horsePower;\r\n          correctAttr = unselectedAnswerData.horsePower;\r\n\r\n          if(parseFloat(selectedAnswersData[0].horsePower) > unselectedAnswerData.horsePower) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n            incorrectAttr = unselectedAnswerData.horsePower;\r\n            correctAttr = selectedAnswersData[0].horsePower;\r\n          }\r\n        }\r\n\r\n        else if(criterion === \"basePrice\") {\r\n          phrasedCriterion = \"Base Price\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n          incorrectAttr = selectedAnswersData[0].basePrice.toLocaleString();\r\n          correctAttr = unselectedAnswerData.basePrice.toLocaleString();\r\n\r\n          if(parseFloat(selectedAnswersData[0].basePrice) < parseFloat(unselectedAnswerData.basePrice)) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n            incorrectAttr = unselectedAnswerData.basePrice.toLocaleString();\r\n            correctAttr = selectedAnswersData[0].basePrice.toLocaleString();\r\n          }\r\n        }\r\n\r\n        feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> has <span class='bolded'>\"+incorrectAttr+\"</span> <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n        feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> has <span class='bolded'>\"+correctAttr+\"</span> <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n\r\n        //If asking about Price, need to add in $ sign\r\n        if(criterion === \"basePrice\"){\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> has <span class='bolded'>$\"+incorrectAttr+\"</span> <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> has <span class='bolded'>$\"+correctAttr+\"</span> <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n        }\r\n      }\r\n\r\n      else if(type == \"characteristic\") {\r\n        var correctCharacteristic = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[qIndex].CHARACTERISTIC;\r\n\r\n        if(criterion === \"brand\") {\r\n          phrasedCriterion = \"Brand\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].brand == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> isn't a <span>\"+characteristic+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> is a <span>\"+characteristic+\"</span>\";\r\n        }\r\n\r\n        else if(criterion === \"color\") {\r\n          phrasedCriterion = \"Color\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].color == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> isn't <span>\"+characteristic+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> is <span>\"+characteristic+\"</span>\";\r\n        }\r\n\r\n        else if(criterion === \"engineType\") {\r\n          phrasedCriterion = \"Engine\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].color == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> doesn't have a <span>\"+characteristic+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> has a <span>\"+characteristic+\"</span>\";\r\n        }\r\n\r\n        else if(criterion === \"sunroof\") {\r\n          phrasedCriterion = \"sunroof or moonroof\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].sunroof == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> doesn't offer a <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> offers a <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n        }\r\n\r\n        else if(criterion === \"heatedSeats\") {\r\n          phrasedCriterion = \"heated seats\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].heatedSeats == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> doesn't offer <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> offers <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n        }\r\n\r\n        else if(criterion === \"heatedWheel\") {\r\n          phrasedCriterion = \"heated wheel\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].heatedWheel == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> doesn't offer a <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> offers a <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n        }\r\n\r\n        else if(criterion === \"remoteStart\") {\r\n          phrasedCriterion = \"remote start\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].remoteStart == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> doesn't offer <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> has <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n        }\r\n\r\n        else if(criterion === \"connectedNavigation\") {\r\n          phrasedCriterion = \"connected navigation\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].connectedNavigation == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> doesn't offer <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> offers <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n        }\r\n\r\n        else if(criterion === \"thirdRowSeating\") {\r\n          phrasedCriterion = \"third row seating\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].thirdRowSeating == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> doesn't offer <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> offers <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n        }\r\n\r\n        else if(criterion === \"driveLine\") {\r\n          phrasedCriterion = \"Driveline\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].driveLine == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> doesn't offer <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> offers <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n        }\r\n\r\n        else if(criterion === \"i4\") {\r\n          phrasedCriterion = \"I4\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].i4 == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> doesn't offer <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> offers <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n        }\r\n\r\n        else if(criterion === \"v6\") {\r\n          phrasedCriterion = \"V-6\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].v6 == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> doesn't offer a <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> offers a <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n        }\r\n\r\n        else if(criterion === \"d24\") {\r\n          phrasedCriterion = \"Four Doors\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].d24 == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> doesn't offer <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> offer <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n        }\r\n\r\n        else if(criterion === \"dr2\") {\r\n          phrasedCriterion = \"Two Doors\";\r\n          correct = unselectedAnswerData.model;\r\n          incorrect = selectedAnswersData[0].model;\r\n\r\n          if(selectedAnswersData[0].dr2 == correctCharacteristic) {\r\n            correctlyAnswered = true;\r\n            correct = selectedAnswersData[0].model;\r\n            incorrect = unselectedAnswerData.model;\r\n          }\r\n\r\n          feedbackDetailsIncorrect = \"The <span class='bolded'>\"+incorrect+\"</span> doesn't offer <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n          feedbackDetailsCorrect = \"The <span class='bolded'>\"+correct+\"</span> offer <span class='bolded'>\"+phrasedCriterion+\"</span>\";\r\n        }\r\n      }\r\n\r\n      if(correctlyAnswered) {\r\n        var feedback = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.feedback.correct;\r\n\r\n        courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[qIndex].PASSED = \"true\";\r\n        localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n        var adjustedTime = 17.5 - time;\r\n        if(adjustedTime > 10) {\r\n          adjustedTime = 10;\r\n        }else if(adjustedTime < 1) {\r\n          adjustedTime = 1;\r\n        }\r\n        var tempScore = 100;\r\n        if(adjustedTime <= 10){\r\n          tempScore = Math.round((adjustedTime * 10));\r\n        }\r\n\r\n        courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[qIndex].SCORE = tempScore;\r\n        courseData.assessmentData.assessments[activeAssessment].score += tempScore\r\n\r\n        for(var i = 0; i < selectedAnswers.length; i++) {\r\n          $(selectedAnswers[i]).append(\"<div class='viewed-overlay'><img src='view/media/img/icon_viewed.png'></div>\");\r\n        }\r\n\r\n        var firstVehicle = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.answersFiltered[0].model;\r\n\r\n        if(firstVehicle == correct){\r\n          $(\"#modalContainer .assessment-content\").append(\"<div class='feedback-container'><p class='feedback-details'>\"+feedbackDetailsCorrect+\"</p><p class='feedback-details'>\"+feedbackDetailsIncorrect+\"</p><p>\"+feedback+\" +\"+tempScore+\" points</p><button class='btn-ok'>GO</button></div>\");\r\n        }else{\r\n          $(\"#modalContainer .assessment-content\").append(\"<div class='feedback-container'><p class='feedback-details'>\"+feedbackDetailsIncorrect+\"</p><p class='feedback-details'>\"+feedbackDetailsCorrect+\"</p><p>\"+feedback+\" +\"+tempScore+\" points</p><button class='btn-ok'>GO</button></div>\");\r\n        }\r\n\r\n        $(\"#modalContainer .btn-ok\").click(function() {\r\n          courseData.assessmentData.assessments[activeAssessment].currentQuestionIndex += 1;\r\n          localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n          $(\"#modalContainer .assessment-content\").remove();\r\n\r\n          if(questionIndex === (questionsNum - 1)) {\r\n            courseData.assessmentData.assessments[activeAssessment].completed = \"true\";\r\n            localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n            endAssessment(activeAssessment);\r\n          }\r\n          else {\r\n            startAssessment(activeAssessment);\r\n          }\r\n        });\r\n      }\r\n      else {\r\n\r\n        $(unselectedAnswer).append(\"<div class='viewed-overlay'><img src='view/media/img/icon_viewed.png'></div>\");\r\n\r\n        var feedback = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.feedback.incorrect;\r\n\r\n        qIndex = undefined;\r\n        aIndex = undefined;\r\n\r\n        var firstVehicle = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.answersFiltered[0].model;\r\n\r\n        if(firstVehicle == correct){\r\n          $(\"#modalContainer .assessment-content\").append(\"<div class='feedback-container'><p class='feedback-details'>\"+feedbackDetailsCorrect+\"</p><p class='feedback-details'>\"+feedbackDetailsIncorrect+\"</p><p>\"+feedback+\" +0 points</p><button class='btn-ok'>GO</button></div>\");\r\n        }else{\r\n          $(\"#modalContainer .assessment-content\").append(\"<div class='feedback-container'><p class='feedback-details'>\"+feedbackDetailsIncorrect+\"</p><p class='feedback-details'>\"+feedbackDetailsCorrect+\"</p><p>\"+feedback+\" +0 points</p><button class='btn-ok'>GO</button></div>\");\r\n        }\r\n\r\n\r\n        /* TODO: make this modular so answerTries is a setting and triggers the \"try again\" prompt only if answerTris > 1 */\r\n        /*if(answerTries === 2) {*/\r\n\r\n        $(\"#modalContainer .btn-ok\").click(function() {\r\n          courseData.assessmentData.assessments[activeAssessment].currentQuestionIndex += 1;\r\n          localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n          $(\"#modalContainer .assessment-content\").remove();\r\n\r\n          if(questionIndex === (questionsNum - 1)) {\r\n            courseData.assessmentData.assessments[activeAssessment].completed = \"true\";\r\n            localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n            endAssessment(activeAssessment);\r\n          }\r\n          else {\r\n            startAssessment(activeAssessment);\r\n          }\r\n        });\r\n    }\r\n    }\r\n  }\r\n\r\n//Timer used in countdown and scoring\r\n  window.timingInterval = setInterval(function(){\r\n    time += .1;\r\n    var timeLeft = (17.5 - time).toFixed(1);\r\n\r\n    if(timeLeft >= 0 && timeLeft <= 10){\r\n      var timeLeft = Math.abs(timeLeft);\r\n      $(\"#modalContainer .assessment-content h3 span\").html(\"<span> \" +timeLeft+ \" seconds</span>\");\r\n    }\r\n  }, 100);\r\n}\r\n\r\nexport function endAssessment(activeAssessment) {\r\n  if(startBtn !== undefined) {\r\n    $('#startBtn').attr('src', 'view/media/img/game/completeBtn.png');\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var style = courseData.assessmentData.assessments[activeAssessment].style;\r\n  var correctAnswerCount = 0;\r\n  var correctPercentage = 0;\r\n  var totalScore = courseData.assessmentData.assessments[activeAssessment].score\r\n  var gameFeedback = \"\";\r\n  for(var i = 0; i < courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions.length; i ++) {\r\n    if(courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[i].PASSED === \"true\") {\r\n      correctAnswerCount += 1;\r\n    }\r\n    courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[i].PASSED = \"false\";\r\n  }\r\n\r\n  //Find the percentage correct, that way the Feedback is based on how well the user did, not how many they got right\r\n  //Number of questions changes, so use percentage\r\n  correctPercentage = 10 * correctAnswerCount / courseData.assessmentData.QUESTIONS_GIVEN;\r\n  correctPercentage = parseFloat(correctPercentage.toFixed(0));\r\n\r\n  $(\"#modalContainer .assessment-container\").append(\"<div class='finish-screen \"+style+\"'></div>\");\r\n  $(\"#modalContainer .finish-screen\").append(\"<h3>Congratulations!</h3>\");\r\n\r\n  gameFeedback = \"You answered <span class='bolded'>\";\r\n  gameFeedback += correctAnswerCount;\r\n  gameFeedback += \"</span> questions correctly. \";\r\n  gameFeedback += \"For a score of <span class='bolded'>\";\r\n  gameFeedback += totalScore;\r\n  gameFeedback += \"</span> points. \";\r\n\r\n  switch(correctPercentage) {\r\n    case 0: case 1: case 2: case 3: case 4:\r\n    gameFeedback += \"You can do better! Go ahead, try again!\";\r\n    break;\r\n    case 5: case 6:\r\n    gameFeedback += \"Youre on the right track. Keep practicing!\";\r\n    break;\r\n    case 7: case 8:\r\n    gameFeedback += \"Youre on your way to stardom. Keep going!\";\r\n    break;\r\n    case 9: case 10:\r\n    gameFeedback += \"Youre a rock star! You really know the basic differences in the vehicles in your product line. Nice job!\";\r\n    break;\r\n  }\r\n  $(\"#modalContainer .finish-screen\").append(\"<p>Lets find out how well you did.</p>\");\r\n\r\n  $(\"#modalContainer .finish-screen\").append(\"<p>\"+gameFeedback+\"</p>\");\r\n\r\n  $(\"#modalContainer .finish-screen\").append(\"<pNo matter how well you did, theres always the chance for improvement. See whether you can beat your score! You can do it! Come on, give it another shot!</p>\");\r\n\r\n  $(\"#modalContainer .finish-screen\").append(\"<p>Click <span class='bolded'>PLAY AGAIN</span> if you want to play again, or <span class='bolded'>CLOSE</span> to exit.</p>\");\r\n\r\n  $(\"#modalContainer .finish-screen\").append(\"<button class='btn-play-again'>PLAY AGAIN</button>\");\r\n\r\n  $(\"#modalContainer .finish-screen\").append(\"<button class='btn-close'>CLOSE</button>\");\r\n\r\n  $(\"#modalContainer .btn-close\").click(function() {\r\n    $('.modal').modal('hide');\r\n  });\r\n\r\n  $(\"#modalContainer .btn-play-again\").click(function() {\r\n    $(\"#modalContainer .finish-screen\").remove();\r\n    courseData.assessmentData.assessments[activeAssessment].currentQuestionIndex = 0;\r\n    courseData.assessmentData.assessments[activeAssessment].score = 0;\r\n\r\n    for(var i = 0; i < courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions.length; i++){\r\n      courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[i].ANSWERED = false;\r\n      courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[i].SCORE = 0;\r\n    }\r\n\r\n    //    courseData.assessmentData.assessments[activeAssessment].completed = \"false\";\r\n    localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n    launchAssessment(0, undefined);\r\n  });\r\n}\r\n\r\nexport function retryChoice(id) {\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var activeAssessment = id;\r\n  var style = courseData.assessmentData.assessments[activeAssessment].style;\r\n  $(\"#modalContainer .assessment-container\").append(\"<div class='retry-container \"+style+\"'></div>\");\r\n  $(\"#modalContainer .retry-container\").append(\"<h3>Try again?</h3>\");\r\n  $(\"#modalContainer .retry-container\").append(\"<p>You have already completed the game. Would you like to play it again?</p>\");\r\n\r\n  $(\"#modalContainer .retry-container\").append(\"<button class='btn-try-again'>PLAY AGAIN</button>\");\r\n  $(\"#modalContainer .retry-container\").append(\"<button class='btn-close'>CLOSE</button>\");\r\n\r\n  $(\"#modalContainer .btn-close\").click(function() {\r\n    $('.modal').modal('hide');\r\n  });\r\n\r\n  $(\"#modalContainer .btn-try-again\").click(function() {\r\n    $(\"#modalContainer .retry-container\").remove();\r\n    courseData.assessmentData.assessments[activeAssessment].currentQuestionIndex = 0;\r\n    courseData.assessmentData.assessments[activeAssessment].score = 0;\r\n    for(var i = 0; i < courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions.length; i++){\r\n      courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[i].ANSWERED = false;\r\n      courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[i].SCORE = 0;\r\n    }\r\n\r\n    courseData.assessmentData.assessments[activeAssessment].completed = \"false\";\r\n    localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n    //    launchAssessment(0, undefined);\r\n    openIntroScreen(activeAssessment);\r\n  });\r\n}\r\n\r\nexport function shuffle(array) {\r\n  var currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n  return array;\r\n}\r\n\r\nexport function filterAnswersAttribute(activeAssessment, filterParam, answersFilteredParam){\r\n  var filter = filterParam.filter;\r\n  var value = filterParam.value;\r\n  var comparison = filterParam.compare;\r\n  var operator = \"\";\r\n  var answersFiltered = [];\r\n\r\n  if(comparison == 'minimum'){\r\n    operator = \">=\";\r\n  }else if(comparison == 'maximum'){\r\n    operator = \"<=\";\r\n  }else if(comparison == 'equals'){\r\n    operator = \"==\";\r\n  }\r\n\r\n  for(var i = 0; i < answersFilteredParam.length; i++){\r\n    //Iterate through the answers and check if the given criteria (filter) is greater than the num given\r\n    if(eval(answersFilteredParam[i][filter] + operator + value)){\r\n      //If so, then add it to the answersFiltered array to be used in the assessment\r\n      answersFiltered.push(answersFilteredParam[i]);\r\n    }\r\n  }\r\n\r\n  return answersFiltered;\r\n}\r\n\r\nexport function filterAnswersCharacteristic(activeAssessment, filterParam, answersFilteredParam){\r\n  var vehiclePassedFilter = true;\r\n  var filter = filterParam.filter;\r\n  var value = filterParam.value;\r\n  var answersFiltered = [];\r\n\r\n  for(var i = 0; i < answersFilteredParam.length; i++){\r\n\r\n    vehiclePassedFilter = true;\r\n    //Iterate through the answers and check if the given criteria (filter) is greater than the num given\r\n    if(answersFilteredParam[i][filter] != value){\r\n      vehiclePassedFilter = false;\r\n    }\r\n\r\n    if(vehiclePassedFilter){\r\n      answersFiltered.push(answersFilteredParam[i]);\r\n    }\r\n  }\r\n\r\n  return answersFiltered;\r\n}\r\n\r\nexport function sameAnswerCheck(activeAssessment, answersFiltered, criterion){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var questionIndex = courseData.assessmentData.assessments[activeAssessment].currentQuestionIndex;\r\n\r\n  //Check to see if the two chosen answers criteria are equal\r\n  var answer1 = answersFiltered[0][criterion];\r\n  var answer2 = answersFiltered[1][criterion];\r\n\r\n  if(answer1 == answer2){\r\n    //If so, they shuffle the answers and check again\r\n    answersFiltered = shuffle(answersFiltered);\r\n    courseData.assessmentData.assessments[activeAssessment].questionsAnswers.answersFiltered = answersFiltered;\r\n\r\n    sameAnswerCheck(activeAssessment, answersFiltered, criterion);\r\n  }\r\n  else{\r\n    //If not, then return with the updated answersFiltered\r\n    return;\r\n  }\r\n}\r\n\r\nexport function orderAnswers(activeAssessment, answersFiltered, criterion, value){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var questionsIndex = courseData.assessmentData.assessments[activeAssessment].currentQuestionIndex;\r\n\r\n  //Check to see if the two chosen answers criteria are equal\r\n  var answer1 = answersFiltered[0][criterion];\r\n  var answer2 = answersFiltered[1][criterion];\r\n\r\n  if((answer1 == value || answer2 == value) && answer1 != answer2){\r\n    //Answers already ordered\r\n  }else if(answer1 == value) {\r\n    //Both answers have the characteristic\r\n    for(var i = 0; i < answersFiltered.length; i++){\r\n      var replacement = answersFiltered[i][criterion];\r\n\r\n      if(replacement != value){\r\n        var swap = answersFiltered[0];\r\n        answersFiltered[0] = answersFiltered[i];\r\n        answersFiltered[i] = swap;\r\n        break;\r\n      }\r\n    }\r\n  }else{\r\n    //Neither answers have the characteristic\r\n    for(var i = 0; i < answersFiltered.length; i++){\r\n      var replacement = answersFiltered[i][criterion];\r\n\r\n      if(replacement == value){\r\n        var swap = answersFiltered[1];\r\n        answersFiltered[1] = answersFiltered[i];\r\n        answersFiltered[i] = swap;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  courseData.assessmentData.assessments[activeAssessment].questionsAnswers.answersFiltered = answersFiltered;\r\n}\r\n\r\nexport function clearPreviousScore(activeAssessment){\r\n  clearInterval(window.timingInterval);\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var questionsNum = courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions.length;\r\n  courseData.assessmentData.assessments[activeAssessment].currentQuestionIndex = 0;\r\n  courseData.assessmentData.assessments[activeAssessment].score = 0;\r\n  for(var i = 0; i < questionsNum; i++){\r\n    courseData.assessmentData.assessments[activeAssessment].questionsAnswers.questions[i].SCORE = 0;\r\n  }\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n}\r\n","//////////////////////////////////////////////////////////////////////\r\n//\r\n//     Interface JS\r\n//      - Builds shell of course and interface\r\n//      - Controlls UI functions\r\n//\r\n//////////////////////////////////////////////////////////////////////\r\n\r\nimport * as Content from './Content.jsx';\r\nimport * as Tracking from './Tracking.jsx';\r\nimport * as Modal from './components/modal_functions';\r\n\r\nvar LOCAL_COURSE_DATA_ID;\r\nvar courseData;\r\nvar cookieName;\r\nvar totalPages;\r\nvar currentChapter\r\nvar currentPage;\r\nvar activePageCount;\r\nvar pageIsLoading;\r\n\r\nexport function initInterface(id) {\r\n  //console.log(\"Building Interface...\");\r\n  LOCAL_COURSE_DATA_ID = id;\r\n  courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var pageCount = 0;\r\n\r\n  document.title = courseData.TITLE;\r\n\r\n  cookieName = courseData.COOKIE_NAME;\r\n\r\n  totalPages = pageCount;\r\n  currentChapter = 1;\r\n  currentPage = 1;\r\n\r\n  Tracking.SetCookieName(cookieName);\r\n\r\n  var bm = Tracking.GetBookmark();\r\n\r\n  if(bm && bm != \"\" && bm.indexOf(\"_\")) {\r\n    if(!isNaN(parseInt(bm.split(\"_\")[0],10))) {\r\n      currentChapter = parseInt(bm.split(\"_\")[0],10);\r\n    }\r\n\r\n    if(!isNaN(parseInt(bm.split(\"_\")[1],10))) {\r\n      currentPage = parseInt(bm.split(\"_\")[1],10);\r\n\r\n    }\r\n  }\r\n\r\n  if(courseData.HAS_SPLASH_PAGE === 'true' && currentChapter === 1 && currentPage === 1) {\r\n    Modal.openModal(LOCAL_COURSE_DATA_ID, 'splashPage');\r\n  }\r\n\r\n  buildShellUI();\r\n  enforcedShow($(\"#mainContainer\"));\r\n  loadPage();\r\n}\r\n\r\nexport function enforcedShow(elem) {\r\n  elem.show();\r\n  if(elem.hasClass(\"hidden\")) {\r\n    elem.removeClass(\"hidden\");\r\n  }\r\n}\r\n\r\nexport function buildShellUI() {\r\n  //console.log(\"buildShellUI()\");\r\n  if(courseData.MENU_PLACEMENT === 'top') {\r\n    buildTopNav();\r\n\r\n  } else if(courseData.MENU_PLACEMENT === 'left') {\r\n    buildLeftNav();\r\n  }\r\n  else if(courseData.MENU_PLACEMENT === 'tab') {\r\n    buildTabNav();\r\n  }\r\n  else {\r\n    buildNoneNav();\r\n  }\r\n}\r\n\r\nexport function buildTopNav() {\r\n  var navMarkup = '';\r\n  var navMarkup = '<div id=\"navbar\" class=\"nav-container navbar-fixed-left\">    <nav class=\"navbar navbar-dark\">      <div class=\"container\">        <div class=\"mobile-container container-fluid d-block d-lg-none\">          <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarMain\" aria-controls=\"navbarsExample01\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">            <span class=\"navbar-toggler-icon\">            </span>          </button>          <span id=\"titleMainMobile\" class=\"title-main\"></span>          <span id=\"subTitleMobile\" class=\"\"></span>          <ul class=\"headerLinks nav page-assist float-right\"></ul>        </div>        <div class=\"title-container d-none d-lg-none d-lg-block \">          <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarMain\" aria-controls=\"navbarsExample01\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">            <span class=\"navbar-toggler-icon\"></span>          </button>          <a class=\"navbar-brand\"></a>          <span id=\"titleMain\" class=\"title-main\"></span>          <span id=\"subTitle\" class=\"\"></span>        </div>        <div class=\"links-container d-none d-lg-none d-lg-block \"><ul class=\"headerLinks nav page-assist float-right\"></ul>        </div>      </div>      <div id=\"navbarMain\" class=\"navbar-collapse collapse\"><ul id=\"navbarMobile\" class=\"navbar-nav mr-auto\"></ul>      </div>    </nav>  </div>';\r\n\r\n    $(\"#navContainer\").append(navMarkup);\r\n\r\n    $('#titleMain').html(courseData.TITLE+\":\");\r\n    $('#subTitle').html(courseData.SUB_TITLE);\r\n    $('#subTitleMobile').html(courseData.SUB_TITLE);\r\n\r\n    // MOBILE NAV DRAWER\r\n    var mobileNav = '';\r\n\r\n    for(var i = 0; i < courseData.chapters.length; i++) {\r\n\r\n      var mobileMenuButton = \"\";\r\n\r\n      if(courseData.chapters[i].pages.length > 1) {\r\n\r\n        mobileMenuButton = '<li id=\"courseTitleChapter'+i+'\" class=\"courseTitleChapter dropdown\"><div class=\"dropdown-link-wrapper\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"><p class=\"nav-link\" >'+courseData.chapters[i].title+'</p></div><ul class=\"dropdown-menu\">';\r\n\r\n        for(var j = 0; j < courseData.chapters[i].pages.length; j++) {\r\n          mobileMenuButton = mobileMenuButton + '<li onclick = \"openPage('+eval(i+1)+','+eval(j+1)+')\"><p>'+courseData.chapters[i].pages[j].title+'</p></li>';\r\n        }\r\n\r\n        mobileMenuButton = mobileMenuButton + '</ul></li>';\r\n\r\n      } else {\r\n        mobileMenuButton = '<li class=\"courseTitleChapter\" id=\"courseTitleChapter'+i+'\" onclick=\"openPage('+eval(i+1)+',1)\"><p class=\"nav-link\">'+courseData.chapters[i].title+'</p></li>';\r\n      }\r\n\r\n      mobileNav = mobileNav + mobileMenuButton;\r\n\r\n    }\r\n\r\n    $(\"#navbarMobile\").append(mobileNav);\r\n    // END MOBILE NAV DRAWER\r\n\r\n    // HEADER LINKS\r\n    var headerLinks = \"\";\r\n    if(courseData.HAS_RESOURCES === \"true\"){\r\n      var headerLinkEl = '<li><a class=\"btnResources\" href=\"#\" target=\"\"><img src=\"view/themes/'+courseData.THEME+'/img/resources.png\" style=\"height:50px;\" alt=\"\"></a></li>';\r\n      headerLinks = headerLinks + headerLinkEl;\r\n    }\r\n    if(courseData.HAS_GLOSSARY === \"true\"){\r\n      var headerLinkEl = '<li><a class=\"btnGlossary\" href=\"#\" target=\"\"><img src=\"view/themes/'+courseData.THEME+'/img/glossary.png\" style=\"height:50px;\" alt=\"\"></a></li>';\r\n      headerLinks = headerLinks + headerLinkEl;\r\n    }\r\n    if(courseData.HAS_HELP === \"true\"){\r\n      var headerLinkEl = '<li><a class=\"btnHelpModal\" href=\"#\" target=\"\"><img src=\"view/themes/'+courseData.THEME+'/img/help.png\" style=\"height:50px;\" alt=\"\"></a></li>';\r\n      headerLinks = headerLinks + headerLinkEl;\r\n    }\r\n    $(\".headerLinks\").append(headerLinks);\r\n    // END HEADER LINKS\r\n\r\n    // BOTTOM NAV\r\n    var bottomNav = '<div class=\"container\"><div id=\"navbarBottomCollapse\" class=\"navbar-collapse collapse\"><ul id=\"nav-items-bottom-row\" class=\"nav nav-justified\">';\r\n\r\n    for(var i = 0; i < courseData.chapters.length; i++) {\r\n\r\n      var menuButton = \"\";\r\n\r\n      if(courseData.chapters[i].pages.length > 1) {\r\n\r\n        menuButton = '<li class=\"dropdown\"><button class=\"btn btn-default dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\">'+courseData.chapters[i].title+'<span class=\"caret\"></span></button><ul class=\"dropdown-menu\">';\r\n\r\n        for(var k = 0; k < courseData.chapters[i].pages.length; k++) {\r\n          menuButton = menuButton + '<li><a href=\"javascript:openPage('+i+','+k+')\">'+courseData.chapters[i].pages[k].title+'</a></li>';\r\n        }\r\n\r\n        menuButton = menuButton + '</ul></li>';\r\n\r\n      } else {\r\n        menuButton = '<li class=\"courseTitleChapter\" id=\"courseTitleChapter'+i+'\" onclick=\"openPage('+i+',0)\">'+courseData.chapters[i].title+'</li>';\r\n      }\r\n\r\n      bottomNav = bottomNav + menuButton;\r\n\r\n      if(courseData.MENU_STYLE === 'tab' && courseData.MENU_PLACEMENT === 'top') {\r\n        $('#navbarMain').addClass('tabbed');\r\n        $('.navbar .container').addClass('navbar-expand-lg');\r\n      }\r\n      else{\r\n        $('#navbarMain').addClass('default');\r\n      }\r\n    }\r\n\r\n    bottomNav = bottomNav + '</ul></div></div>';\r\n\r\n    $(\"#navbarMain\").on('hidden.bs.collapse', function () {\r\n      calculateHeight();\r\n    });\r\n\r\n    $(\"#navbarBottom\").append(bottomNav);\r\n    // END BOTTOM NAV\r\n\r\n    if(courseData.HAS_MENU_LOGO == \"true\"){\r\n      $('#navbar .navbar-brand').append('<img style=\"width:100%;\" src=\"'+courseData.THEME_PATH+'/img/logo.png\" alt=\"logo\">')\r\n    }\r\n    $('.btnGlossary').click(function(){Modal.openModal(LOCAL_COURSE_DATA_ID, 'glossary');});\r\n    $('.btnHelpModal').click(function(){Modal.openModal(LOCAL_COURSE_DATA_ID, 'help');});\r\n    $('.btnResources').click(function(){Modal.openModal(LOCAL_COURSE_DATA_ID, 'resources');});\r\n\r\n    $(document).click(function (event) {\r\n      var clickover = $(event.target);\r\n      var opened = $(\"#navbarMain\").hasClass(\"show\");\r\n\r\n      if (opened === true && !clickover.hasClass(\"navbar-toggle\") && $('#navContainer').find(clickover).length == 0) {\r\n          $(\"button.navbar-toggler\").click();\r\n      }\r\n    });\r\n\r\n    updateNavigation();\r\n\r\n    if(courseData.MENU_STYLE === 'tab'){\r\n      if($(window).width() <= 991){\r\n        $('#navbarMain').addClass('default');\r\n        $('#navbarMain').removeClass('tabbed');\r\n      }\r\n      else{\r\n        $('#navbarMain').removeClass('default');\r\n        $('#navbarMain').addClass('tabbed');\r\n      }\r\n\r\n      window.onresize = function() {\r\n        if($(window).width() <= 991){\r\n          $('#navbarMain').addClass('default');\r\n          $('#navbarMain').removeClass('tabbed');\r\n        }\r\n        else{\r\n          if($('#navbarMain').hasClass('show')){\r\n            $('.navbar-toggler').click();\r\n          }\r\n          $('#navbarMain').removeClass('default');\r\n          $('#navbarMain').addClass('tabbed');\r\n        }\r\n      };\r\n    }\r\n\r\n\r\n\r\n    //var width = $('#navbarMobile li.courseTitleChapter').css(\"width\");\r\n    //$('#navbarMobile li.courseTitleChapter').css(\"max-width\", width);\r\n\r\n  var notSelectedClass = \"menuItemNotSelected\";\r\n}\r\n\r\nexport function buildLeftNav() {\r\n\r\n  var navMarkup = '<div id=\"navbar\" class=\"nav-container navbar-fixed-left leftNav\">    <nav class=\"navbar navbar-dark\">      <div class=\"container\">        <div class=\"mobile-container container-fluid d-block d-md-none\">          <button class=\"navbar-toggler\" onclick=\"leftNav();\">            <span class=\"navbar-toggler-icon\"></span>          </button>                   <span id=\"titleMainMobile\" class=\"title-main\"></span>          <span id=\"subTitleMobile\" class=\"\"></span>   <ul class=\"headerLinks nav page-assist float-right\"></ul>      </div>        <div class=\"title-container d-none d-sm-none d-md-block \">          <button class=\"navbar-toggler\" onclick=\"leftNav();\">            <span class=\"navbar-toggler-icon\"></span>          </button>          <a class=\"navbar-brand\"></a>          <span id=\"titleMain\" class=\"title-main\"></span>          <span id=\"subTitle\" class=\"\"></span>        </div>        <div class=\"links-container d-none d-sm-none d-md-block \">          <ul class=\"headerLinks nav page-assist float-right\"></ul>        </div>      </div>      <div id=\"navbarMain\" class=\"navbar-collapse\">        <ul id=\"navbarMobile\" class=\"navbar-nav mr-auto\"></ul>      </div>    </nav>  </div>';\r\n\r\n    $(\"#navContainer\").append(navMarkup);\r\n\r\n    $('#titleMain').html(courseData.TITLE+\":\");\r\n    $('#subTitle').html(courseData.SUB_TITLE);\r\n    $('#subTitleMobile').html(courseData.SUB_TITLE);\r\n\r\n\r\n    // MOBILE NAV DRAWER\r\n    // MOBILE NAV DRAWER\r\n    var mobileNav = '';\r\n\r\n    for(var i = 0; i < courseData.chapters.length; i++) {\r\n\r\n      var mobileMenuButton = \"\";\r\n\r\n      if(courseData.chapters[i].pages.length > 1) {\r\n\r\n        mobileMenuButton = '<li id=\"courseTitleChapter'+i+'\" class=\"courseTitleChapter dropdown\"><p class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">'+courseData.chapters[i].title+'</p><ul class=\"dropdown-menu\">';\r\n\r\n        for(var j = 0; j < courseData.chapters[i].pages.length; j++) {\r\n          mobileMenuButton = mobileMenuButton + '<li onclick = \"openPage('+eval(i+1)+','+eval(j+1)+')\"><p>'+courseData.chapters[i].pages[j].title+'</p></li>';\r\n        }\r\n\r\n        mobileMenuButton = mobileMenuButton + '</ul></li>';\r\n\r\n      } else {\r\n        mobileMenuButton = '<li class=\"courseTitleChapter\" id=\"courseTitleChapter'+i+'\" onclick=\"openPage('+eval(i+1)+',1)\"><p>'+courseData.chapters[i].title+'</p></li>';\r\n      }\r\n\r\n      mobileNav = mobileNav + mobileMenuButton;\r\n\r\n    }\r\n\r\n    // HEADER LINKS\r\n    var headerLinks = \"\";\r\n    if(courseData.HAS_RESOURCES === \"true\"){\r\n      var headerLinkEl = '<li><a class=\"btnResources\" href=\"#\" target=\"\"><img src=\"view/themes/'+courseData.THEME+'/img/resources.png\" style=\"height:50px;\" alt=\"\"></a></li>';\r\n      headerLinks = headerLinks + headerLinkEl;\r\n    }\r\n    if(courseData.HAS_GLOSSARY === \"true\"){\r\n      var headerLinkEl = '<li><a class=\"btnGlossary\" href=\"#\" target=\"\"><img src=\"view/themes/'+courseData.THEME+'/img/glossary.png\" style=\"height:50px;\" alt=\"\"></a></li>';\r\n      headerLinks = headerLinks + headerLinkEl;\r\n    }\r\n    if(courseData.HAS_HELP === \"true\"){\r\n      var headerLinkEl = '<li><a class=\"btnHelpModal\" href=\"#\" target=\"\"><img src=\"view/themes/'+courseData.THEME+'/img/help.png\" style=\"height:50px;\" alt=\"\"></a></li>';\r\n      headerLinks = headerLinks + headerLinkEl;\r\n    }\r\n    $(\".headerLinks\").append(headerLinks);\r\n    // END HEADER LINKS\r\n\r\n    $(\"#navbarMobile\").append(mobileNav);\r\n    // END MOBILE NAV DRAWER\r\n\r\n    if(courseData.HAS_MENU_LOGO == \"true\"){\r\n      $('#navbar .navbar-brand').append('<img src=\"'+courseData.THEME_PATH+'/img/logo.png\" alt=\"logo\">')\r\n    }\r\n\r\n    $('#navbarMain').addClass('default');\r\n\r\n    $(\"#navbarMain\").on('hidden.bs.collapse', function () {\r\n      calculateHeight();\r\n    });\r\n\r\n    $('.btnGlossary').click(function(){Modal.openModal(LOCAL_COURSE_DATA_ID, 'glossary');});\r\n    $('.btnHelpModal').click(function(){Modal.openModal(LOCAL_COURSE_DATA_ID, 'help');});\r\n    $('.btnResources').click(function(){Modal.openModal(LOCAL_COURSE_DATA_ID, 'resources');});\r\n\r\n    updateNavigation();\r\n\r\n    $(document).click(function (event) {\r\n      var clickover = $(event.target);\r\n      var opened = $(\"#navbarMain\").hasClass(\"toggled\");\r\n\r\n      if (opened === true && $('#navContainer').find(clickover).length == 0 && !(clickover.hasClass(\"navbar-toggler\") || clickover.hasClass(\"navbar-toggler-icon\"))) {\r\n          leftNav();\r\n      }\r\n\r\n    });\r\n\r\n  var notSelectedClass = \"menuItemNotSelected\";\r\n}\r\n\r\nexport function leftNav(){\r\n  $(\".navbar-fixed-left #navbarMain\").toggleClass('toggled');\r\n}\r\n\r\nexport function buildNoneNav() {\r\n\r\n  loadInterfaceStyles();\r\n  var notSelectedClass = \"menuItemNotSelected\";\r\n\r\n}\r\n\r\nexport function updateNavigation() {\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  //console.log(\"Update navigation\");\r\n  var notSelectedClass = \"menuItemNotSelected\";\r\n  activePageCount = 0;\r\n\r\n  var locked = false;\r\n  var singlePage = false;\r\n  var previousLocks = false;\r\n\r\n  for(var i = 0; i < courseData.chapters.length; i++) {\r\n    singlePage = false;\r\n\r\n    if(courseData.chapters[i].isActive==\"false\") {\r\n      $(\"#chapter\"+i).hide();\r\n\r\n    } else {\r\n      $(\"#chapter\"+i).show();\r\n    }\r\n\r\n    var completeCount = 0;\r\n\r\n    for(var j = 0; j < courseData.chapters[i].pages.length; j++) {\r\n      activePageCount += 1;\r\n      if(courseData.chapters[i].pages.length > 1){\r\n        singlePage = true;\r\n      }\r\n\r\n      //console.log(\"!checkLock(\"+eval(i+1)+\",\"+eval(j+1)+\"):  \" + !checkLock(eval(i+1),eval(j+1)));\r\n      if(!checkLock(eval(i+1),eval(j+1))){\r\n        //If Multiple Pages of a Chapter\r\n\r\n        if(j > 0){\r\n          $('#courseTitleChapter'+i +' .dropdown-menu li p').eq(j).addClass('courseTitleGatedPage');\r\n          previousLocks = true;\r\n        }\r\n        else{\r\n          $('#courseTitleChapter'+i + ' .nav-link').addClass('courseTitleGated');\r\n          if(previousLocks){\r\n            $('#courseTitleChapter'+i +' .dropdown-menu li p').addClass('courseTitleGatedPage');\r\n          }\r\n          previousLocks = true;\r\n        }\r\n      }\r\n      else{\r\n        $('#courseTitleChapter'+i + ' .nav-link').removeClass('courseTitleGated');\r\n        $('#courseTitleChapter'+i +' .dropdown-menu li p').eq(j).removeClass('courseTitleGatedPage');\r\n      }\r\n    }\r\n\r\n    if(courseData.chapters[i].pages.length==$('#courseTitleChapter'+i +' .dropdown-menu li .courseTitleGatedPage').length){\r\n      $('#courseTitleChapter'+ i + ' .nav-link').addClass('courseTitleGated');\r\n    }\r\n\r\n    if(completeCount == courseData.chapters[i].pages.length) {\r\n      $(\"#chapter\"+i).removeClass(\"chapterIncomplete\").addClass(\"chapterComplete\");\r\n    }\r\n  }\r\n\r\n  $(\"#mi\"+currentChapter+\"_\"+currentPage).removeClass(\"menuItemNotSelected\").removeClass(\"menuItemNotActive\").removeClass(\"menuItemVisited\").addClass(\"menuItemSelected\");\r\n\r\n  if(currentPage == 1 && currentChapter == 1) {\r\n    $(\"#prevBtn\").hide();\r\n    $(\"#nextBtn\").show();\r\n\r\n  } else if(currentChapter == courseData.chapters.length && currentPage == courseData.chapters[currentChapter-1].pages.length) {\r\n    $(\"#prevBtn\").show();\r\n    $(\"#nextBtn\").hide();\r\n\r\n  } else {\r\n    $(\"#prevBtn\").show();\r\n    $(\"#nextBtn\").show();\r\n  }\r\n\r\n  if(courseData.chapters[currentChapter-1].pages[currentPage-1].gated && courseData.chapters[currentChapter-1].pages[currentPage-1].locks.toString().indexOf(\"0\")!=-1) {\r\n    $(\"#nextBtn\").hide();\r\n  }\r\n\r\n  $(\"#navbarMobile .courseTitleChapter\").eq(currentChapter-1).addClass('courseTitleChapterSelected');\r\n}\r\n\r\nexport function activateChapter(active,deactive,titleIndex) {\r\n  //console.log(\"activateChapter()\");\r\n\r\n  for(var i = 0; i < active.length; i++) {\r\n    courseData.chapters[active[i]].isActive=\"true\";\r\n  }\r\n\r\n  for(var j = 0; j < deactive.length; j++) {\r\n    courseData.chapters[deactive[j]].isActive=\"false\";\r\n  }\r\n\r\n  if(titleIndex != -1) {\r\n    courseData.chapters[active[0]].titleIndex = titleIndex;\r\n    $(\"#chapter\"+active[0]).html(chapters[active[0]].title.split(\";\")[titleIndex]);\r\n  }\r\n  updateNavigation();\r\n}\r\n\r\nexport function checkLock(chapter,page) {\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < chapter; i++) {\r\n    for(var j = 0; j < courseData.chapters[i].pages.length; j++) {\r\n      if(i == chapter - 1 && j == page - 1) {\r\n        break;\r\n      }\r\n\r\n      if(courseData.chapters[i].pages[j].gated && courseData.chapters[i].pages[j].locks.toString().indexOf(\"0\")!=-1 && courseData.chapters[i].isActive==\"true\") {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function openLock(chapter,page,lock) {\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  //console.log(\"openLock(\"+chapter+\",\"+page+\",\"+lock+\")\");\r\n  if(lock >= courseData.chapters[chapter-1].pages[page-1].locks.length) {\r\n    return;\r\n  }\r\n\r\n  courseData.chapters[chapter-1].pages[page-1].locks[lock] = 1;\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n  updateNavigation();\r\n  //CreatePathmarks();\r\n}\r\n\r\nexport function openPage(c,p) {\r\n  //console.log(\"---------openPage(\"+c+\",\"+p+\")---------\");\r\n\r\n  if(!checkLock(c, p)) {\r\n    return;\r\n  }\r\n\r\n  currentChapter = c;\r\n  currentPage = p;\r\n  loadPage();\r\n}\r\n\r\nexport function nextPage() {\r\n  if(pageIsLoading) {\r\n    return;\r\n  }\r\n\r\n  pageIsLoading = true;\r\n\r\n  if(courseData.chapters[currentChapter-1].pages[currentPage-1].count != activePageCount) {\r\n    if(currentPage < courseData.chapters[currentChapter-1].pages.length) {\r\n      if(!checkLock(currentChapter, currentPage + 1)) {\r\n\r\n        pageIsLoading = false;\r\n        return;\r\n      }\r\n\r\n      currentPage++;\r\n      loadPage();\r\n\r\n    }\r\n\r\n    else {\r\n      if(!checkLock(currentChapter + 1, 1)) {\r\n\r\n        pageIsLoading = false;\r\n        return;\r\n      }\r\n\r\n      do {\r\n        currentChapter++;\r\n      }\r\n      while(courseData.chapters[currentChapter - 1].isActive == \"false\");\r\n      currentPage = 1;\r\n      loadPage();\r\n    }\r\n  }\r\n}\r\n\r\nexport function prevPage() {\r\n  //console.log(\"prevPage()\");\r\n  if(courseData.chapters[currentChapter-1].pages[currentPage-1].count!=1) {\r\n\r\n    if(currentPage-1 != 0) {\r\n      currentPage--;\r\n      loadPage();\r\n\r\n    } else {\r\n      do {\r\n        currentChapter--;\r\n      }\r\n      while(courseData.chapters[currentChapter-1].isActive == \"false\");\r\n\r\n      currentPage = courseData.chapters[currentChapter-1].pages.length;\r\n      loadPage();\r\n    }\r\n  }\r\n}\r\n\r\n/* AUDIO FUNCITONS */\r\nexport function startAudio(args) {\r\n  document.getElementById(\"pagePlayer\").src=\"media/audio/\"+args;\r\n  document.getElementById(\"pagePlayer\").load();\r\n  document.getElementById(\"pagePlayer\").play();\r\n  $(\"#playBtn\").hide();\r\n  $(\"#pauseBtn\").show();\r\n}\r\n\r\nexport function stopAudio() {\r\n  document.getElementById(\"pagePlayer\").pause();\r\n  $(\"#playBtn\").show();\r\n  $(\"#pauseBtn\").hide();\r\n}\r\n\r\nexport function playAudio() {\r\n  document.getElementById(\"pagePlayer\").play();\r\n  $(\"#playBtn\").hide();\r\n  $(\"#pauseBtn\").show();\r\n}\r\n\r\nexport function changeVolume(args) {\r\n  volume = args/100;\r\n  $(\"video\").prop(\"volume\",volume);\r\n  $(\"audio\").prop(\"volume\",volume);\r\n  try{\r\n    var el = document.getElementById('contentFrame');\r\n    if(el.contentWindow) {\r\n      el.contentWindow.changeVolume(volume)\r\n    }\r\n    else if(el.contentDocument) {\r\n      el.contentDocument.changeVolume(volume);\r\n    }\r\n  }catch(e){}\r\n}\r\n\r\nexport function muteAudio() {\r\n  $(\"#volumeSlider\").toggle();\r\n}\r\n\r\nexport function unmuteAudio() {\r\n  $(\"#volumeSlider\").toggle();\r\n}\r\n\r\n/* GETTERS */\r\nexport function getFooterNav() {\r\n  //console.log(\"getFooterNav()\");\r\n  if(currentChapter == courseData.chapters.length && currentPage == courseData.chapters[currentChapter-1].pages.length){\r\n    var hasLocks = true;\r\n  }\r\n  else if(currentPage < courseData.chapters[currentChapter-1].pages.length) {\r\n    var hasLocks = !checkLock(currentChapter, currentPage + 1);\r\n  }\r\n  else {\r\n    var hasLocks = !checkLock(currentChapter + 1, 1);\r\n  }\r\n\r\n  var nextBtnImgPath = '';\r\n  var backBtnImgPath = '';\r\n\r\n  // USE THIS TO DISPLAY CURRENT PAGE NUMBER AND TOTAL PAGES SEPARATED BY A DIVIDER\r\n  /*var footerNavHTML = '<span class=\"page-current\">'+(currentChapter+1)+'</span>&nbsp;<span><img src=\"'+courseData.THEME_PATH+'/themes/'+courseData.THEME+'/img/divider_pagination.png\" alt=\"pagination divider\"></span>&nbsp;<span class=\"page-total\">'+parseInt(totalPages)+'</span>';*/\r\n\r\n  var footerNavHTML = '<span><img src=\"view/themes/'+courseData.THEME+'/img/btn_play_pause_inactive.png\" alt=\"play/pause button\"></span>';\r\n\r\n  /* current page is not the last page in the current chapter so display next button\r\n  OR current chapter is not the last chapter so display next button */\r\n  var next_inactive = false;\r\n  var nextBtnImgPath = '/img/btn_next.png';\r\n  var styles = \"\";\r\n\r\n  if(currentPage != courseData.chapters[currentChapter-1].pages.length || currentChapter != courseData.chapters.length) {\r\n    if(hasLocks) {\r\n      nextBtnImgPath = '/img/btn_next_inactive.png';\r\n      styles = 'style=\"cursor:default\"';\r\n    }\r\n\r\n  } else {\r\n    nextBtnImgPath = '/img/btn_next_inactive.png';\r\n    styles = 'style=\"cursor:default\"';\r\n  }\r\n\r\n  footerNavHTML = footerNavHTML + '<a '+styles+' class=\"next\" href=\"#\"><img src=\"view/themes/'+courseData.THEME+nextBtnImgPath+'\" alt=\"go to next page\"></a>';\r\n\r\n  /* current page is not the first page in the current chapter so display back button\r\n  OR current chapter is not the first chapter so display back button */\r\n  var back_inactive = false;\r\n  var backBtnImgPath = '/img/btn_back.png';\r\n  var styles = \"\";\r\n\r\n  if(currentPage == 1 && currentChapter == 1) {\r\n\r\n    backBtnImgPath = '/img/btn_back_inactive.png';\r\n    styles = 'style=\"cursor:default\"';\r\n\r\n  }\r\n\r\n  footerNavHTML = '<a '+styles+' class=\"back\" href=\"#\"><img src=\"view/themes/'+courseData.THEME+backBtnImgPath+'\" alt=\"go to previous page\"></a>' + footerNavHTML;\r\n\r\n  return footerNavHTML;\r\n}\r\n\r\nexport function closeCourse() {\r\n  top.window.close();\r\n}\r\n\r\nexport function loadPage() {\r\n  //console.log(\"loadPage()\");\r\n\r\n  try {\r\n    stopAudio();\r\n    if(courseData.chapters[currentChapter].pages[currentPage].audio != \"\") {\r\n      $(\"#audioBar\").show();\r\n      startAudio(courseData.chapters[currentChapter].pages[currentPage].audio);\r\n    } else {\r\n      $(\"#audioBar\").hide();\r\n    }\r\n  }\r\n  catch(e){}\r\n\r\n  openLock(currentChapter,currentPage,0);\r\n\r\n  pageIsLoading = false;\r\n  $(\"body\").scrollTop(0);\r\n\r\n  //document.getElementById(\"contentFrame\").src=\"src/components/content/\"+courseData.chapters[currentChapter].pages[currentPage].file+\".html\";\r\n\r\n  Content.loadContent(currentChapter, currentPage, LOCAL_COURSE_DATA_ID);\r\n  $(\"#navbarMobile .courseTitleChapter\").removeClass(\"courseTitleChapterSelected\");\r\n  $(\".navbar-fixed-left #navbarMain\").removeClass('toggled');\r\n  $(\"#navbarMobile .courseTitleChapter\").eq(currentChapter-1).addClass('courseTitleChapterSelected');\r\n  $(\".footer-nav\").html(getFooterNav());\r\n\r\n  $(\".next\").click(function(){\r\n    nextPage();\r\n  });\r\n\r\n  $(\".back\").click(function(){\r\n    prevPage();\r\n  });\r\n}\r\n\r\nexport function calculateHeight() {\r\n  // subtracting one pixel ensures that second scroll bar doesn't appear\r\n  // adding padding to accommodate Bootstrap header nav\r\n  // console.log(\"calculateHeight\");\r\n  // console.log($(\"#navbar\").height());\r\n\r\n  //  $(\"#contentContainer\").css({height:$(window).height() - 1, paddingTop:$(\"#navbar\").height()});\r\n  //$(\"#contentContainer\").css({height:$(window).height() - 1});\r\n  $(\"#contentContainer\").css({height:$(window).height()-($('#navContainer').height()+getFooterHeight())});\r\n\r\n\r\n  var navItemHeight = (($(window).height()-($('#navContainer').height()+getFooterHeight())) * .75)/ $('.courseTitleChapter').length;\r\n  //$('.tabbed #navbarMobile .courseTitleChapter').css({height: navItemHeight});\r\n  //---------------DEPRICATED AFTER REMOVING IFRAMES---------------\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height()});\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height() - $(\"#navbar\").height(), top:$(\"#navbar\").height()});\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height() - 7});\r\n\r\n  $(\"#audioBar\").width($(\"#mainContainer\").width()-216-$(\"#navBtns\").width());\r\n  $('.leftNav #navbarMain').css({height:$(window).height()-($('#navContainer').height()+getFooterHeight())});\r\n\r\n}\r\n\r\nexport function getFooterHeight() {\r\n  if($('footer').height() == null){\r\n    return 0;\r\n  }\r\n  return $('footer').height();\r\n}\r\n\r\nexport function navbarHeight(){\r\n  $('#navbarMobile').css({'height': '200px'});\r\n\r\n  $('#navbarMobile li').css({'height': '30px'});\r\n\r\n}\r\n\r\n\r\nwindow.openPage = openPage;\r\nwindow.leftNav = leftNav;\r\n","//////////////////////////////////////////////////////////////////////\r\n//\r\n//     Content JS\r\n//      - Loads in content for each individual page\r\n//      - Inner most module, cannot control outer parts\r\n//\r\n//////////////////////////////////////////////////////////////////////\r\n\r\nimport * as Ctr from './components/ctr_functions';\r\nimport * as DragAndDrop from './components/drag_drop_functions';\r\nimport * as FlipCard from './components/flip_cards_functions';\r\nimport * as Hotspot from './components/hotspot_functions';\r\nimport * as KnowledgeCheck from './components/knowledge_check_functions';\r\nimport * as Text from './components/text_functions';\r\nimport * as Thumbnails from './components/thumbnails_functions';\r\nimport * as VideoAudio from './components/video_audio_functions';\r\nimport * as Modal from './components/modal_functions';\r\nimport * as Assessment from './components/assessment_functions';\r\nimport * as Game from './components/game_functions.js';\r\nimport * as Tracking from './Tracking.jsx';\r\n\r\n\r\nvar LOCAL_COURSE_DATA_ID;\r\nvar currentChapter;\r\nvar currentPage;\r\nvar courseData;\r\n\r\nexport function loadContent(chapter, page, id){\r\n  LOCAL_COURSE_DATA_ID = id;\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  currentChapter = chapter;\r\n  currentPage = page;\r\n  var param = eval(currentChapter)+'_'+eval(currentPage);\r\n  var arg = 'view/content/pages/' + param +'.xml';\r\n  $.get(arg)\r\n  .done(function(xml) {\r\n    $('#pageContent').empty();\r\n\r\n    if($(xml).find(\"title\").find(\"included\").text() == \"true\"){\r\n      var titleSize = $(xml).find(\"title\").find(\"size\").text();\r\n      var titleHTML = '<div class=\"row\"><div class=\"col-sm-'+titleSize+'\"><h1 id=\"pageTitle\"></h1><div class=\"page-number\"></div></div></div>';\r\n      $('#pageContent').append(titleHTML);\r\n    }\r\n\r\n    var completion = $(xml).find(\"layout\").attr(\"completion\");\r\n    if(completion){\r\n      $('#pageContainer').addClass(\"completion\");\r\n    }\r\n    else{\r\n      $('#pageContainer').removeClass(\"completion\");\r\n\r\n    }\r\n    $('#pageContent').append($(xml).find('layout').text());\r\n\r\n    $('#contentContainer').scrollTop(\r\n      0\r\n    );\r\n\r\n    var modal = $(xml).find('modal').text();\r\n    if(modal != \"\"){\r\n      Modal.openContentModal(modal);\r\n    }\r\n\r\n    var components = $(xml).find(\"components\");\r\n    components.children().each(function(){\r\n      var type = $(this)[0].tagName;\r\n      var componentID = $(this).attr(\"id\");\r\n      if(type == \"Ctr\"){\r\n        Ctr.initCtr(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"Modal\"){\r\n        Modal.initModal(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"Game\"){\r\n        Game.initGame(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"DragAndDrop\"){\r\n        DragAndDrop.initDragAndDrop(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"FlipCard\"){\r\n        FlipCard.initFlipCard(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"Hotspot\"){\r\n        Hotspot.initHotspot(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"KnowledgeCheck\"){\r\n        KnowledgeCheck.initKnowledgeCheck(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"Text\"){\r\n        Text.initText(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"Thumbnails\"){\r\n        Thumbnails.initThumbnails(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"VideoAudio\"){\r\n        VideoAudio.initVideoAudio(xml, componentID, LOCAL_COURSE_DATA_ID);\r\n      }\r\n      else if(type == \"VehicleGame\"){\r\n        var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n        console.log(\"setupassessment\");\r\n        var assessmentID = parseInt($(\".btn-assess\").attr(\"id\").substring(13,15), 10) - 1;\r\n\r\n        if(assessmentID === 0){\r\n          for(var i = 0; i < 3; i++){\r\n            if(courseData.assessmentData.assessments[i].completed === \"true\"){\r\n              $(\".btn-assess\").append(\"<div class='viewed-overlay'><img src='/view/media/img/icon_viewed.png'></div>\");\r\n              continue;\r\n            }\r\n          }\r\n\r\n        } else if(assessmentID === 3) {\r\n          if(courseData.assessmentData.assessments[assessmentID].completed === \"true\"){\r\n            $(\".btn-assess\").append(\"<div class='viewed-overlay'><img src='/view/media/img/icon_viewed.png'></div>\");\r\n          }\r\n        }\r\n\r\n        $(\".btn-assess\").click(function() {\r\n          Modal.openModal(LOCAL_COURSE_DATA_ID, 'assessment', assessmentID, $(this));\r\n        });\r\n      }\r\n    })\r\n\r\n    //FlipCard.setCalculatedHeight();\r\n\r\n\r\n    if($(xml).find(\"title\").find(\"pagination\").text() == \"true\"){\r\n      updatePagination();\r\n    }\r\n\r\n    if(courseData.COUNT_PAGES == 'true') {\r\n      registerPageVisit(param); // lives in tracking_functions.js\r\n    }\r\n\r\n    try {\r\n      $(\"#pageTitle\").html(getPageTitle());\r\n    } catch(e) {\r\n      console.log('something went wrong ', e);\r\n    }\r\n\r\n    if($('.footer-spacer').length) {\r\n      $('.footer-spacer').css({height:getFooterHeight()+25});\r\n    }\r\n\r\n    try {\r\n      pageLoaded();\r\n    } catch(e) {\r\n      console.log('something went wrong ', e);\r\n    }\r\n  });\r\n}\r\n\r\nexport function updatePagination() {\r\n  var currChap = currentChapter;\r\n  //var totalChaps = parseInt(totalPages);\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var totalChaps = courseData.chapters.length;\r\n\r\n\r\n  //var totalChaps = 1;\r\n  $(\".page-number\").empty();\r\n  $(\".page-number\").append(\"<span>\"+currChap+\"</span> of <span>\"+totalChaps+\"</span>\");\r\n}\r\n\r\nexport function getPageTitle() {\r\n  courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  return courseData.chapters[currentChapter-1].pages[currentPage-1].title;\r\n}\r\n\r\nexport function registerPageVisit(pageId) {\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  if(courseData.pageCount.pageIds.indexOf(pageId) == -1) {\r\n    courseData.pageCount.pageIds.push(pageId);\r\n    courseData.pageCount.pagesVisited++;\r\n  }\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n}\r\n\r\nexport function pageLoaded() {\r\n  //  console.log(\"pageLoaded\");\r\n  Tracking.SetBookmark(currentChapter,currentPage);\r\n  calculateHeight();\r\n}\r\n\r\nexport function setComplete() {\r\n  if(courseData.HAS_INTERACTIVE_COMPLETION == \"true\"){\r\n    if(courseData.INTERACTIVES_TOTAL != courseData.INTERACTIVES_COMPLETED){\r\n      var confirmMsg = \"Please attempt <span class='bolded'>all interactives</span> within the course to be able to recieve\";\r\n      $(\"#sectionComplete\").html(confirmMsg);\r\n      return\r\n    }\r\n  }\r\n\r\n  Tracking.SetComplete();\r\n  $(\"#btnComplete\").hide();\r\n  var confirmMsg = \"Thank you for completing this course. Your training record will be updated.\";\r\n  $(\"#sectionComplete\").text(confirmMsg);\r\n}\r\n\r\nexport function calculateHeight() {\r\n  // subtracting one pixel ensures that second scroll bar doesn't appear\r\n  // adding padding to accommodate Bootstrap header nav\r\n  // console.log(\"calculateHeight\");\r\n  // console.log($(\"#navbar\").height());\r\n\r\n  //  $(\"#contentContainer\").css({height:$(window).height() - 1, paddingTop:$(\"#navbar\").height()});\r\n  //$(\"#contentContainer\").css({height:$(window).height() - 1});\r\n  $(\"#contentContainer\").css({height:$(window).height()-($('#navContainer').height()+getFooterHeight())});\r\n\r\n\r\n  var navItemHeight = (($(window).height()-($('#navContainer').height()+getFooterHeight())) * .75)/ $('.courseTitleChapter').length;\r\n  //$('.tabbed #navbarMobile .courseTitleChapter').css({height: navItemHeight});\r\n  //---------------DEPRICATED AFTER REMOVING IFRAMES---------------\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height()});\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height() - $(\"#navbar\").height(), top:$(\"#navbar\").height()});\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height() - 7});\r\n\r\n  $(\"#audioBar\").width($(\"#mainContainer\").width()-216-$(\"#navBtns\").width());\r\n  $('.leftNav #navbarMain').css({height:$(window).height()-($('#navContainer').height()+getFooterHeight())});\r\n\r\n}\r\n\r\nexport function getFooterHeight() {\r\n  if($('footer').height() == null){\r\n    return 0;\r\n  }\r\n  return $('footer').height();\r\n}\r\n\r\nwindow.setComplete = setComplete;\r\n","var LOCAL_COURSE_DATA_ID;\r\n\r\nexport function initCtr(CtrContentXML, elementID,localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentCtr = $(CtrContentXML).find('Ctr[id=\"'+elementID+'\"]');\r\n  if(currentCtr.length == 0){\r\n    currentCtr = $(CtrContentXML).find('Ctr');\r\n  }\r\n  var currentID = $(currentCtr).attr(\"id\");\r\n\r\n  if(courseData.ctrData.ctrs != null){\r\n    for(var i=0; i < courseData.ctrData.ctrs.length; i++){\r\n      if(courseData.ctrData.ctrs[i].id == currentID){\r\n        var id = getCtrIndex(currentID);\r\n        console.log(\"Ctr Loaded Previously\");\r\n        setupCtr(id, elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"Ctr Initialized\");\r\n    courseData.ctrData.completed = 0;\r\n    courseData.ctrData.ctrs = [];\r\n  }\r\n\r\n  var ctr = {\r\n    id: $(currentCtr).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    score: 0,\r\n    position: currentCtr.attr(\"position\"),\r\n    sections: []\r\n  };\r\n\r\n  if(currentCtr.find(\"completion\").attr(\"gated\") == \"true\"){\r\n  ctr.completion = {\r\n    gate : {\r\n      chapter: currentCtr.find(\"chapter\").text(),\r\n      page: currentCtr.find(\"page\").text(),\r\n      lock: currentCtr.find(\"lock\").text()\r\n      }\r\n    }\r\n  };\r\n\r\n  $(currentCtr).find(\"section\").each(function() {\r\n    var section ={\r\n      click:$(this).find('click').text(),\r\n      reveal:$(this).find('reveal').text(),\r\n      completed: false\r\n    }\r\n    ctr.sections.push(section);\r\n  });\r\n\r\n  courseData.ctrData.ctrs.push(ctr);\r\n\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n  var id = getCtrIndex(currentID);\r\n  setupCtr(id,elementID);\r\n}\r\n\r\nexport function setupCtr(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var num = courseData.ctrData.ctrs[id].sections.length;\r\n  var position = courseData.ctrData.ctrs[id].position;\r\n  var colNum = 12/num;\r\n\r\n  var html = `\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 mx-auto p-0\">\r\n        <div id=\"\">\r\n          <div class=\"ctr\">\r\n            <div class=\"row\">\r\n            </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>`;\r\n\r\n  $('#'+elementID).append(html);\r\n\r\n\r\n  for(var i = 0; i < courseData.ctrData.ctrs[id].sections.length; i++){\r\n    var click = courseData.ctrData.ctrs[id].sections[i].click;\r\n    var reveal = courseData.ctrData.ctrs[id].sections[i].reveal;\r\n\r\n    var sectionHtml = `\r\n    <div class=\"col-md-`+colNum+` p-0\" id=\"`+elementID+`-`+i+`\">\r\n      <div class=\"ctr-wrapper `+elementID+`-section-`+i+`\">\r\n        <div class=\"click\">`+click+`\r\n        </div>\r\n      </div>\r\n      <div class=\"ctr-wrapper\">\r\n        <div class=\"reveal\">`+reveal+`\r\n        </div>\r\n      </div>\r\n    </div>`;\r\n\r\n    $('#'+elementID + ' .ctr .row').append(sectionHtml);\r\n\r\n    $(\".\"+elementID+\"-section-\"+i).click(function(){\r\n      var parent = $(this).parent();\r\n      var reveal = parent.find(\".reveal\");\r\n      reveal.css({\"display\":\"block\"});\r\n      var sectionID = parent.attr('id');\r\n      sectionID = sectionID.substr(sectionID.length-1, sectionID.length);\r\n      checkCTRCompletion(id, sectionID)\r\n    });\r\n\r\n  }\r\n\r\n\r\n  //$('#'+elementID).append(html);\r\n\r\n  //DEFAULT POSITION IS RIGHT\r\n  var click = $('#'+elementID+ ' .click').parent();\r\n  var reveal = $('#'+elementID+ ' .reveal').parent();\r\n\r\n  if(position == \"right\"){\r\n    click.css({\"left\": \"0\"});\r\n    reveal.css({\"right\": \"0\"});\r\n\r\n  }\r\n  else if(position == \"left\"){\r\n    click.css({\"right\": \"0\"});\r\n    reveal.css({\"left\": \"0\"});\r\n  }\r\n\r\n  else if(position == \"top\"){\r\n    click.css({\r\n      \"bottom\": \"0\",\r\n      \"width\": \"100%\",\r\n      \"height\": \"50%\"\r\n    });\r\n    reveal.css({\r\n      \"top\": \"0\",\r\n      \"width\": \"100%\",\r\n      \"height\": \"50%\"\r\n    });\r\n  }\r\n  else if(position == \"bottom\"){\r\n    click.css({\r\n      \"top\": \"0\",\r\n      \"width\": \"100%\",\r\n      \"height\": \"50%\"\r\n    });\r\n    reveal.css({\r\n      \"bottom\": \"0\",\r\n      \"width\": \"100%\",\r\n      \"height\": \"50%\"\r\n    });\r\n  }\r\n}\r\n\r\nexport function getCtrIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.ctrData.ctrs.length; i++){\r\n    if(courseData.ctrData.ctrs[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\nexport function checkCTRCompletion(id, sectionID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  if(courseData.ctrData.ctrs[id].sections[sectionID].completed == false){\r\n    courseData.ctrData.ctrs[id].sections[sectionID].completed = true;\r\n    courseData.ctrData.ctrs[id].score += 1;\r\n    localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n    if(courseData.ctrData.ctrs[id].score >= courseData.ctrData.ctrs[id].sections.length){\r\n      courseData.ctrData.ctrs[id].completed = true;\r\n      courseData.ctrData.completed += 1;\r\n      courseData.INTERACTIVES_COMPLETED += 1;\r\n      localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n      console.log(\"Ctr Completed\");\r\n      if(courseData.ctrData.ctrs[id].completion.gate != null) {\r\n        var chapter = courseData.ctrData.ctrs[id].completion.gate.chapter;\r\n        var page = courseData.ctrData.ctrs[id].completion.gate.page;\r\n        var lock = courseData.ctrData.ctrs[id].completion.gate.lock;\r\n        openLock(chapter, page, lock);\r\n      }\r\n    }\r\n  }\r\n  //console.log(\"ID\" + id);\r\n  //console.log(courseData.ctrData.ctrs[id].sections.length);\r\n\r\n\r\n}\r\n\r\nexport function setCtrInteractions(){\r\n\r\n}\r\n","//INITIALIZE AND RENDER DRAG AND DROP\r\nvar LOCAL_COURSE_DATA_ID;\r\nexport function initDragAndDrop(dragDropContentXML, elementID, localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentDragDrop = $(dragDropContentXML).find('DragAndDrop[id=\"'+elementID+'\"]');\r\n  if(currentDragDrop.length == 0){\r\n    currentDragDrop = $(dragDropContentXML).find('DragAndDrop');\r\n  }\r\n  var currentID = $(currentDragDrop).attr(\"id\")\r\n\r\n  if(courseData.dragDropData.dragDrops != null){\r\n    for(var i=0; i < courseData.dragDropData.dragDrops.length; i++){\r\n      if(courseData.dragDropData.dragDrops[i].id == currentID){\r\n        var id = getDragDropIndex(currentID);\r\n        console.log(\"DragDrop Loaded Previously\");\r\n        setupDragDrop(id, elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"DragDrop Initialized\");\r\n    courseData.dragDropData.completed = 0;\r\n    courseData.dragDropData.dragDrops = [];\r\n\r\n  }\r\n\r\n  var dragDrop = {\r\n    id: $(currentDragDrop).attr(\"id\"),\r\n    completed: false,\r\n    completion: {\r\n      minimumScore: $(currentDragDrop).find(\"completion\").find(\"minimumScore\").text()\r\n    },\r\n    matchings: []\r\n  };\r\n\r\n  $(currentDragDrop).find(\"pair\").each(function() {\r\n    var currentPair = $(this);\r\n\r\n    var pair = {\r\n      drag: currentPair.find(\"drag\").text(),\r\n      drop: currentPair.find(\"drop\").text()\r\n    };\r\n    dragDrop.matchings.push(pair);\r\n  });\r\n\r\n  var currentGate = $(dragDropContentXML).find(\"completion\");\r\n  if(currentGate.attr(\"gated\") == \"true\"){\r\n    dragDrop.completion.gate = {\r\n      chapter: currentGate.find(\"chapter\").text(),\r\n      page: currentGate.find(\"page\").text(),\r\n      lock: currentGate.find(\"lock\").text()\r\n    }\r\n  }\r\n  courseData.dragDropData.dragDrops.push(dragDrop);\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID,  JSON.stringify(courseData));\r\n  var id = getDragDropIndex(currentID);\r\n  setupDragDrop(id, elementID);\r\n\r\n}\r\n\r\nexport function setupDragDrop(id, elementID){\r\n\r\n  if(elementID == null){\r\n    $('#dragAndDrop').remove();\r\n  }\r\n  $('#'+elementID).empty();\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var dragDropData = courseData.dragDropData.dragDrops[id];\r\n\r\n  var submitBtn = `\r\n  </div>\r\n    <p class=\"feedback\">\r\n      <a class=\"btn btn-reversed btn-restart\">Restart\r\n      </a>\r\n      <a class=\"btn btn-default-main btn-submit\">Submit\r\n      </a>\r\n    </p>`;\r\n\r\n  var leftContainerHtml = `<div class=\"col-6 left\"></div>`;\r\n\r\n  var rightContainerHtml = `<div class=\"col-6 right\"></div>`;\r\n\r\n  var html = `\r\n    <div id=\"dragAndDrop\" class=\"container\">\r\n      <div class=\"row\">` + leftContainerHtml + rightContainerHtml + submitBtn;\r\n\r\n\r\n  if(elementID != null){\r\n    $(\"#\"+elementID).empty();\r\n    $(\"#\"+elementID).html(html);\r\n  }\r\n\r\n  for(var i = 0; i < dragDropData.matchings.length; i++){\r\n    var holderID = elementID+'_holder' + i;\r\n    var draggableID = elementID+'_p' + i;\r\n    var draggableText = dragDropData.matchings[i].drag;\r\n    var droppableID = elementID+'_t' + i;\r\n    var droppableText = dragDropData.matchings[i].drop;\r\n\r\n    var draggable = `\r\n      <div class=\"item-container holder\" id=\"`+ holderID +`\" ondrop=\"drop_handler(event);\" ondragover=\"dragover_handler(event);\">\r\n        <p class=\"draggable\" id=\"`+ draggableID +`\" draggable=\"true\" ondragstart=\"dragstart_handler(event);\" ontouchstart=\"dragstart_handler(event);\" >`+ draggableText +`\r\n        </p>\r\n      </div>`;\r\n\r\n    var droppable = '<div class=\"item-container\" id=\"'+ droppableID +'\" ondrop=\"drop_handler(event);\" ondragover=\"dragover_handler(event);\">'+ droppableText +'</div>';\r\n\r\n    $(\"#\"+elementID + ' .left').append(draggable);\r\n    $(\"#\"+elementID + ' .right').append(droppable);\r\n  }\r\n\r\n\r\n  $(\".btn-restart\").click(function(){\r\n    setupDragDrop(id, elementID);\r\n  });\r\n  $(\".btn-submit\").click(function(){\r\n    submitDragDrop(id, elementID);\r\n  });\r\n\r\n  $('#dragAndDrop .btn-reversed').on({\r\n    mouseenter: function () {\r\n      $(this).removeClass('btn-reversed');\r\n      $(this).addClass('btn-default-main');\r\n      $(this).next().removeClass('btn-default-main');\r\n      $(this).next().addClass('btn-reversed');\r\n\r\n    },\r\n    mouseleave: function () {\r\n      $(this).addClass('btn-reversed');\r\n      $(this).removeClass('btn-default-main');\r\n      $(this).next().addClass('btn-default-main');\r\n      $(this).next().removeClass('btn-reversed');\r\n    }\r\n  })\r\n  shuffleDrags(elementID);\r\n  shuffleDrops(elementID);\r\n\r\n\r\n}\r\n\r\nexport function shuffleDrags(elementID){\r\n  var draggables = $(\"#\"+elementID + ' .left').children();\r\n  var j, x;\r\n  for (var i = draggables.length - 1; i > 0; i--) {\r\n    j = Math.floor(Math.random() * (i + 1));\r\n    x = draggables[i];\r\n    draggables[i] = draggables[j];\r\n    draggables[j] = x;\r\n  }\r\n\r\n  $(\"#\"+elementID + ' .left').empty();\r\n\r\n  for(var i = 0; i < draggables.length; i++){\r\n    $(\"#\"+elementID + ' .left').append(draggables[i]);\r\n  }\r\n  return;\r\n}\r\n\r\nexport function shuffleDrops(elementID){\r\n  var droppables = $(\"#\"+elementID + ' .right').children();\r\n\r\n  var j, x;\r\n  for (var i = droppables.length - 1; i > 0; i--) {\r\n    j = Math.floor(Math.random() * (i + 1));\r\n    x = droppables[i];\r\n    droppables[i] = droppables[j];\r\n    droppables[j] = x;\r\n  }\r\n\r\n  $(\"#\"+elementID + ' .right').empty();\r\n\r\n  for(var i = 0; i < droppables.length; i++){\r\n    $(\"#\"+elementID + ' .right').append(droppables[i]);\r\n  }\r\n  return;\r\n}\r\n\r\nexport function submitDragDrop(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var score = 0;\r\n  var minScore = parseInt(courseData.dragDropData.dragDrops[id].completion.minimumScore);\r\n\r\n  var answers = $(\"#\"+elementID + ' .right').children();\r\n  for(var i = 0; i < answers.length; i++){\r\n    var answerID = answers[i].id;\r\n\r\n\r\n    if($('#'+answerID).find('p')[0] == null){\r\n      $(\"#\"+elementID + ' .feedback').html('Finish dragging items to their correct location.<a class=\"btn btn-reversed btn-restart\">Restart</a><a class=\"btn btn-default-main btn-submit\">Submit</a>')\r\n\r\n      $(\".btn-restart\").click(function(){\r\n        setupDragDrop(id, elementID);\r\n      });\r\n      $(\".btn-submit\").click(function(){\r\n        submitDragDrop(id, elementID);\r\n      });\r\n\r\n      $('#dragAndDrop .btn-reversed').on({\r\n        mouseenter: function () {\r\n          $(this).removeClass('btn-reversed');\r\n          $(this).addClass('btn-default-main');\r\n          $(this).next().removeClass('btn-default-main');\r\n          $(this).next().addClass('btn-reversed');\r\n\r\n        },\r\n        mouseleave: function () {\r\n          $(this).addClass('btn-reversed');\r\n          $(this).removeClass('btn-default-main');\r\n          $(this).next().addClass('btn-default-main');\r\n          $(this).next().removeClass('btn-reversed');\r\n        }\r\n      });\r\n      return;\r\n    }\r\n  }\r\n\r\n  for(var i = 0; i < answers.length; i++){\r\n    var answerID = answers[i].id;\r\n    var matchID = $('#'+answerID).find('p')[0].id;\r\n    var answerTemp = answerID.substr(answerID.indexOf(\"_\") + 2);\r\n    var matchTemp = matchID.substr(matchID.indexOf(\"_\") + 2);\r\n\r\n    if(answerTemp == matchTemp){\r\n      $('#'+matchID).addClass('correct');\r\n      score += 10;\r\n    }\r\n    else{\r\n      $('#'+matchID).addClass('wrong');\r\n    }\r\n  }\r\n\r\n  if(score >= minScore && courseData.dragDropData.dragDrops[id].completed == false){\r\n    console.log(\"DragDrop Completed\");\r\n    courseData.dragDropData.dragDrops[id].completed = true;\r\n    courseData.dragDropData.completed += 1;\r\n    courseData.INTERACTIVES_COMPLETED += 1;\r\n    if(courseData.dragDropData.dragDrops[id].completion.gate != null) {\r\n      var chapter = courseData.dragDropData.dragDrops[id].completion.gate.chapter;\r\n      var page = courseData.dragDropData.dragDrops[id].completion.gate.page;\r\n      var lock = courseData.dragDropData.dragDrops[id].completion.gate.lock;\r\n      openLock(chapter, page, lock);\r\n    }\r\n    localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n  }\r\n\r\n  courseData.dragDropData.dragDrops[id].score = score;\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n  var percentage = courseData.dragDropData.dragDrops[id].matchings.length;\r\n  var correctPercentage = score / percentage;\r\n  correctPercentage = parseFloat(correctPercentage.toFixed(0));\r\n  var gameFeedback;\r\n\r\n  switch(correctPercentage) {\r\n    case 0: case 1: case 2: case 3: case 4: case 5:\r\n    gameFeedback = \"Try again?\";\r\n    break;\r\n    case 6: case 7: case 8:\r\n    gameFeedback = \"Keep practicing.\";\r\n    break;\r\n    case 9: case 10:\r\n    gameFeedback = \"Nice job!\";\r\n    break;\r\n  }\r\n\r\n  gameFeedback += \" <span> Total Score: +\"+score+\" points</span.>\";\r\n\r\n\r\n  $(\"#\"+elementID + ' .feedback').html(gameFeedback+'<a class=\"btn btn-restart btn-reversed \">Restart</a><a  class=\"btn btn-default-main btn-submit\">Submit</a>');\r\n  $(\"#\"+elementID + ' .feedback').after('');\r\n  $(\".btn-restart\").click(function(){\r\n    setupDragDrop(id, elementID);\r\n  });\r\n  $(\".btn-submit\").click(function(){\r\n    submitDragDrop(id, elementID);\r\n  });\r\n  $('#dragAndDrop .btn-reversed').on({\r\n    mouseenter: function () {\r\n      $(this).removeClass('btn-reversed');\r\n      $(this).addClass('btn-default-main');\r\n      $(this).next().removeClass('btn-default-main');\r\n      $(this).next().addClass('btn-reversed');\r\n\r\n    },\r\n    mouseleave: function () {\r\n      $(this).addClass('btn-reversed');\r\n      $(this).removeClass('btn-default-main');\r\n      $(this).next().addClass('btn-default-main');\r\n      $(this).next().removeClass('btn-reversed');\r\n    }\r\n  });\r\n}\r\n\r\nexport function getDragDropIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.dragDropData.dragDrops.length; i++){\r\n    if(courseData.dragDropData.dragDrops[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\n// DRAG AND DROP CORE FUNCTIONALITY\r\nexport function dragstart_handler(ev) {\r\n  // Add the target element's id to the data transfer object\r\n  ev.dataTransfer.setData(\"text\", ev.target.id);\r\n  ev.dropEffect = \"move\";\r\n}\r\n\r\nexport function dragover_handler(ev) {\r\n  if($(ev.target).hasClass('item-container')){\r\n    ev.dataTransfer.dropEffect = \"move\"\r\n    ev.preventDefault();\r\n    return;\r\n  }\r\n  else if($(ev.target).hasClass('draggable')){\r\n    ev.dataTransfer.dropEffect = \"move\"\r\n    ev.preventDefault();\r\n    return;\r\n  }\r\n}\r\n\r\nexport function drop_handler(ev) {\r\n  ev.preventDefault();\r\n  // Get the id of the target and add the moved element to the target's DOM\r\n  var dragVal = ev.dataTransfer.getData(\"text\");\r\n  var dropVal = ev.target.id;\r\n\r\n  var dragId = \"#\"+dragVal;\r\n  var dropId = \"#\"+dropVal;\r\n\r\n  var tempVal = dropVal.substr(dropVal.indexOf(\"_\") + 1);\r\n\r\n  if(tempVal.charAt(0) == 'p'){\r\n    var tempDropId = dropId;\r\n    dropId = '#'+$(dropId).parent('.item-container').attr('id');\r\n\r\n    var index = $(tempDropId).parent('.item-container').index();\r\n    $(dragId).parent('.item-container').append($(tempDropId));\r\n  }\r\n\r\n  $(dropId).append($(dragId));\r\n\r\n  $(dragId).removeClass('correct');\r\n  $(dragId).removeClass('wrong');\r\n}\r\n\r\nwindow.dragstart_handler = dragstart_handler;\r\nwindow.dragover_handler = dragover_handler;\r\nwindow.drop_handler = drop_handler;\r\n","//INITIALIZE AND RENDER CARDS\r\nvar LOCAL_COURSE_DATA_ID;\r\nexport function initFlipCard(flipCardContentXML, elementID, localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var currentFlipCardComponent = $(flipCardContentXML).find('FlipCard[id=\"'+elementID+'\"]');\r\n  if(currentFlipCardComponent.length == 0){\r\n    var currentFlipCardComponent = $(flipCardContentXML).find('FlipCard');\r\n  }\r\n  var currentID = $(currentFlipCardComponent).attr(\"id\")\r\n\r\n  if(courseData.flipCardData.flipCards != null){\r\n    for(var i=0; i < courseData.flipCardData.flipCards.length; i++){\r\n      if(courseData.flipCardData.flipCards[i].id == currentID){\r\n        var id = getFlipCardIndex(currentID);\r\n        console.log(\"FlipCard Loaded Previously\");\r\n        setupFlipCards(id, elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"FlipCard Initialized\");\r\n    courseData.flipCardData.id = $(currentFlipCardComponent).attr(\"id\");\r\n    courseData.flipCardData.completed = 0;\r\n    courseData.flipCardData.flipCards =  [];\r\n  }\r\n\r\n  var flipCard = {\r\n    id: $(currentFlipCardComponent).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    score: 0,\r\n    hasButton: $(currentFlipCardComponent).attr(\"hasButton\"),\r\n    class: $(currentFlipCardComponent).attr(\"class\"),\r\n    cards: []\r\n  };\r\n\r\n  if(currentFlipCardComponent.find(\"completion\").attr(\"gated\") == \"true\"){\r\n    flipCard.completion = {\r\n      gate : {\r\n        chapter: currentFlipCardComponent.find(\"chapter\").text(),\r\n        page: currentFlipCardComponent.find(\"page\").text(),\r\n        lock: currentFlipCardComponent.find(\"lock\").text()\r\n      }\r\n    };\r\n  }\r\n\r\n  $(currentFlipCardComponent).find(\"card\").each(function() {\r\n    var currentCard = $(this);\r\n\r\n    var card = {\r\n      front: currentCard.find(\"front\").text(),\r\n      back: currentCard.find(\"back\").text(),\r\n      completed: false\r\n    };\r\n    flipCard.cards.push(card);\r\n  });\r\n\r\n  courseData.flipCardData.flipCards.push(flipCard);\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID,  JSON.stringify(courseData));\r\n  var id = getFlipCardIndex(currentID);\r\n  setupFlipCards(id, elementID);\r\n}\r\n\r\nexport function setupFlipCards(id, elementID){\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var cardNum = courseData.flipCardData.flipCards[id].cards.length;\r\n\r\n  var html = '<div class=\"row\"></div>';\r\n  $(\"#\"+elementID).empty();\r\n  $(\"#\"+elementID).html(html);\r\n\r\n  var size = 12/cardNum;\r\n\r\n  for(var i = 0; i < cardNum; i ++){\r\n    var back = courseData.flipCardData.flipCards[id].cards[i].back;\r\n    var front = courseData.flipCardData.flipCards[id].cards[i].front;\r\n\r\n    var cardWidth = \"col-12 col-sm-12 mx-auto col-lg-\"+size;\r\n\r\n    if(courseData.flipCardData.flipCards[id].hasButton == \"true\"){\r\n      var cardHTML = `\r\n      <div class=\"`+cardWidth+` margin-below\">\r\n        <div class=\"cardCont\" id=\"`+elementID+`-card-`+i+`\">\r\n          <div class=\"cardBack\">`+back+`\r\n            <a class=\"showMore back\" href=\"#\">Back\r\n            </a>\r\n          </div>\r\n          <div class=\"cardFront\">`+front+`\r\n            <a class=\"showMore front\" href=\"#\">Show More\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>`;\r\n    }\r\n    else{\r\n      var cardHTML = `\r\n      <div class=\"`+cardWidth+` margin-below\">\r\n        <div class=\"cardCont\" id=\"`+elementID+`-card-`+i+`\">\r\n          <div class=\"cardBack\">`+back+`\r\n          </div>\r\n          <div class=\"cardFront\">`+front+`\r\n          </div>\r\n        </div>\r\n      </div>`;\r\n    }\r\n\r\n    $(\"#\"+elementID + \" .row\").append(cardHTML);\r\n\r\n    CSSPlugin.defaultTransformPerspective = 1000;\r\n\r\n    //we set the backface\r\n    TweenMax.set($(\".cardBack\"), {rotationY:-180});\r\n\r\n    $.each($(\".cardCont\"), function(i,element) {\r\n\r\n      var frontCard = $(this).children(\".cardFront\"),\r\n          backCard = $(this).children(\".cardBack\"),\r\n          tl = new TimelineMax({paused:true});\r\n\r\n      tl\r\n        .to(frontCard, 1, {rotationY:180})\r\n        .to(backCard, 1, {rotationY:0},0)\r\n        .to(element, .5, {z:50},0)\r\n        .to(element, .5, {z:0},.5);\r\n\r\n      element.animation = tl;\r\n\r\n      //$(element).click({thisCard: element}, showBack);\r\n\r\n    });\r\n\r\n    if(courseData.flipCardData.flipCards[id].hasButton == \"true\"){\r\n      $(\"#\"+elementID+ \" .front\").click(function() {\r\n        var cardID = $(this).closest('.cardCont').attr(\"id\");\r\n        cardID = cardID.substr($(\"#\"+cardID).attr(\"id\").length - 1);\r\n        checkCardsCompletion(id, cardID);\r\n        $(this).closest(\".cardCont\")[0].animation.play();\r\n      });\r\n\r\n      $(\"#\"+elementID+ \" .back\").click(function() {\r\n          $(this).closest(\".cardCont\")[0].animation.reverse();\r\n      });\r\n    }\r\n    else if(courseData.flipCardData.flipCards[id].hasButton == \"false\") {\r\n      $(\"#\"+elementID+ \" .cardFront\").hover(function(){\r\n        $(this).css('cursor','pointer');\r\n      });\r\n\r\n      $(\"#\"+elementID+ \" .cardBack\").hover(function(){\r\n        $(this).css('cursor','pointer');\r\n      });\r\n\r\n      $(\"#\"+elementID+ \" .cardFront\").click(function() {\r\n        var cardID = $(this).closest('.cardCont').attr(\"id\");\r\n        cardID = cardID.substr($(\"#\"+cardID).attr(\"id\").length - 1);\r\n        checkCardsCompletion(id, cardID);\r\n        $(this).closest(\".cardCont\")[0].animation.play();\r\n      });\r\n\r\n      $(\"#\"+elementID+ \" .cardBack\").click(function() {\r\n          $(this).closest(\".cardCont\")[0].animation.reverse();\r\n      });\r\n    }\r\n\r\n\r\n  }\r\n  setTimeout(function(){\r\n    calculateCardHeight(id, elementID);\r\n  }, 100);\r\n\r\n\r\n\r\n}\r\n\r\nexport function getFlipCardIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.flipCardData.flipCards.length; i++){\r\n    if(courseData.flipCardData.flipCards[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\nexport function showBack(evt) {\r\n  var card = evt.data.thisCard;\r\n  card.animation.play();\r\n  $(card).unbind(\"click\", showBack);\r\n  $(card).click({thisCard: card}, showFront);\r\n}\r\n\r\nexport function showFront(evt) {\r\n  var card = evt.data.thisCard;\r\n  card.animation.reverse();\r\n  $(card).unbind(\"click\", showFront);\r\n  $(card).click({thisCard: card}, showBack);\r\n}\r\n\r\nexport function checkCardsCompletion(id, cardsID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  if(courseData.flipCardData.flipCards[id].cards[cardsID].completed == false){\r\n    courseData.flipCardData.flipCards[id].cards[cardsID].completed = true;\r\n    courseData.flipCardData.flipCards[id].score += 1;\r\n    localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n    if(courseData.flipCardData.flipCards[id].score >= courseData.flipCardData.flipCards[id].cards.length){\r\n      courseData.flipCardData.flipCards[id].completed = true;\r\n      courseData.flipCardData.completed += 1;\r\n      courseData.INTERACTIVES_COMPLETED += 1;\r\n      localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n      console.log(\"FlipCard Completed\");\r\n      if(courseData.flipCardData.flipCards[id].completion.gate != null) {\r\n        var chapter = courseData.flipCardData.flipCards[id].completion.gate.chapter;\r\n        var page = courseData.flipCardData.flipCards[id].completion.gate.page;\r\n        var lock = courseData.flipCardData.flipCards[id].completion.gate.lock;\r\n        openLock(chapter, page, lock);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function calculateCardHeight(id, cardsID){\r\n    var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n    var hasButton = courseData.flipCardData.flipCards[id].hasButton;\r\n\r\n    var extraButtonHeight = 0;\r\n    if(hasButton === \"true\"){\r\n      extraButtonHeight = 40;\r\n    }\r\n\r\n    var element = \"#\"+cardsID;\r\n    //element = \"#flipCard-page-1-card-1\";\r\n\r\n    var card =  $(element + \" .cardCont\");\r\n    var front =  $(element + \" .cardFront\");\r\n    var back =  $(element + \" .cardBack\");\r\n\r\n    var height = 0;\r\n\r\n    card.each(function(){\r\n      height = Math.max(parseInt($(this).find(\".cardBack\").css(\"height\")),\r\n        parseInt($(this).find(\".cardFront\").css(\"height\")),\r\n        height);\r\n    });\r\n\r\n    //window.stop();\r\n    console.log(extraButtonHeight);\r\n    front.height(height + extraButtonHeight);\r\n    back.height(height + extraButtonHeight);\r\n    card.height(height + extraButtonHeight);\r\n\r\n    //console.log(height);\r\n}\r\n","//INITIALIZE AND RENDER DRAG AND DROP\r\nvar LOCAL_COURSE_DATA_ID;\r\nexport function initHotspot(hotspotContentXML, elementID, localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentHotspot = $(hotspotContentXML).find('Hotspot[id=\"'+elementID+'\"]');\r\n  if(currentHotspot.length == 0){\r\n    currentHotspot = $(hotspotContentXML).find('Hotspot');\r\n  }\r\n  var currentID = $(currentHotspot).attr(\"id\");\r\n\r\n  if(courseData.hotspotData.hotspots != null){\r\n    for(var i=0; i < courseData.hotspotData.hotspots.length; i++){\r\n      if(courseData.hotspotData.hotspots[i].id == currentID){\r\n        var id = getHotspotIndex(currentID);\r\n        console.log(\"Hotspot Loaded Previously\");\r\n        setupHotSpot(id,elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"Hotspot Initialized\");\r\n    courseData.hotspotData.completed = 0;\r\n    courseData.hotspotData.hotspots = [];\r\n  }\r\n\r\n  var hotspot = {\r\n    id: $(currentHotspot).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    score: 0,\r\n    img: $(currentHotspot).find(\"img\").text(),\r\n    spots: []\r\n  };\r\n\r\n  if(currentHotspot.find(\"completion\").attr(\"gated\") == \"true\"){\r\n  hotspot.completion = {\r\n    gate : {\r\n      chapter: currentHotspot.find(\"chapter\").text(),\r\n      page: currentHotspot.find(\"page\").text(),\r\n      lock: currentHotspot.find(\"lock\").text()\r\n      }\r\n    }\r\n  };\r\n\r\n  $(currentHotspot).find(\"spot\").each(function() {\r\n    var currentSpot = $(this);\r\n    var spot ={\r\n      label:currentSpot.find('label').text(),\r\n      popup:currentSpot.find('popup').text(),\r\n      completed: false\r\n    }\r\n    hotspot.spots.push(spot);\r\n  });\r\n\r\n  courseData.hotspotData.hotspots.push(hotspot);\r\n\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n  var id = getHotspotIndex(currentID);\r\n  setupHotSpot(id,elementID);\r\n}\r\n\r\nexport function setupHotSpot(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var img = courseData.hotspotData.hotspots[id].img;\r\n  var html =`\r\n  <div id=\"hotSpot\">\r\n    <img class=\"hotSpot-img\" src=\"`+img+`\">`;\r\n\r\n  for(var i = 0; i < courseData.hotspotData.hotspots[id].spots.length; i++){\r\n    var label = courseData.hotspotData.hotspots[id].spots[i].label;\r\n    html += `<div id=\"spot-`+i+`\" class=\"hotSpot-spot circle-`+label+`\">`+label+`</div>`;\r\n  }\r\n\r\n  html += `<div class=\"hotSpot-popup\"></div>`;\r\n\r\n\r\n  if(elementID != null){\r\n    $(\"#\"+elementID).empty();\r\n    $(\"#\"+elementID).html(html);\r\n  }\r\n  else{\r\n    $('#pageContent').append(html);\r\n  }\r\n\r\n  var popup_1 = `\r\n  <ul>\r\n    <li>Ask your Sales Manager about recommended routes.\r\n    </li>\r\n    <li>Include a variety of speed zones. Make sure there are stretches that allow the customer to drive more than 45 mph.\r\n    </li>\r\n    <li>Alternate your route as needed.\r\n    </li>\r\n  </ul>`;\r\n\r\n  var popup_2 = `\r\n  <ul>\r\n    <li>Be flexible on the drive. Your customer may want a longer or shorter drive than planned.\r\n    </li>\r\n    <li>Ask your manager how to handle these situations.\r\n    </li>\r\n    <li>If the customer wants a shorter drive, know how to return to the dealership quuickly using streets with varied speeds that will still enhance the drive.\r\n    </li>\r\n  </ul>`;\r\n\r\n  var popup_3 = `\r\n  <ul>\r\n    <li>Know your drive.\r\n    </li>\r\n    <li>Shadow a live demo drive with an experienced consultant and a customer.\r\n    </li>\r\n    <li>Play the role of a customer and let an experienced consultant show you how he or she conducts a demo drive.\r\n    </li>\r\n  </ul>`;\r\n\r\n\r\n  $('#' + elementID + ' .hotSpot-spot').click(function(){\r\n\r\n    var spotID = $(this).attr(\"id\").substr($(this).attr(\"id\").length - 1);\r\n    var popupHTML = courseData.hotspotData.hotspots[id].spots[spotID].popup;\r\n\r\n    $('#' + elementID + ' .hotSpot-popup').empty();\r\n    $('#' + elementID + ' .hotSpot-popup').append('<a class=\"hotSpot-close\">x</a>' + popupHTML);\r\n    $('#' + elementID + ' .hotSpot-popup').css('display','block');\r\n\r\n    $('#' + elementID + ' .hotSpot-popup .hotSpot-close').click(function(){\r\n      $('#' + elementID + ' .hotSpot-popup').css('display','none');\r\n    });\r\n\r\n    checkHotspotCompletion(id, spotID);\r\n  });\r\n\r\n}\r\n\r\nexport function getHotspotIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.hotspotData.hotspots.length; i++){\r\n    if(courseData.hotspotData.hotspots[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\nexport function checkHotspotCompletion(id, spotID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  if(courseData.hotspotData.hotspots[id].spots[spotID].completed == false){\r\n    courseData.hotspotData.hotspots[id].spots[spotID].completed = true;\r\n    courseData.hotspotData.hotspots[id].score += 1;\r\n\r\n    if(courseData.hotspotData.hotspots[id].score >= courseData.hotspotData.hotspots[id].spots.length){\r\n      console.log(\"Hotspot Completed\");\r\n      courseData.hotspotData.hotspots[id].completed = true;\r\n      courseData.hotspotData.completed += 1;\r\n      courseData.INTERACTIVES_COMPLETED += 1;\r\n      if(courseData.hotspotData.hotspots[id].completion.gate != null) {\r\n        var chapter = courseData.hotspotData.hotspots[id].completion.gate.chapter;\r\n        var page = courseData.hotspotData.hotspots[id].completion.gate.page;\r\n        var lock = courseData.hotspotData.hotspots[id].completion.gate.lock;\r\n        openLock(chapter, page, lock);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n}\r\n","//INITIALIZE AND RENDER CARDS\r\nvar LOCAL_COURSE_DATA_ID;\r\nexport function initKnowledgeCheck(knowledgeCheckXML, elementID, localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentKnowledgeCheck = $(knowledgeCheckXML).find('KnowledgeCheck[id=\"'+elementID+'\"]');\r\n  if(currentKnowledgeCheck.length == 0){\r\n    currentKnowledgeCheck = $(knowledgeCheckXML).find('KnowledgeCheck');\r\n  }\r\n  var currentID = $(currentKnowledgeCheck).attr(\"id\")\r\n\r\n  if(courseData.knowledgeCheckData.knowledgeChecks != null){\r\n    for(var i=0; i < courseData.knowledgeCheckData.knowledgeChecks.length; i++){\r\n      if(courseData.knowledgeCheckData.knowledgeChecks[i].id == currentID){\r\n        var id = getKnowledgeCheckIndex(currentID);\r\n        console.log(\"KnowledgeCheck Loaded Previously\");\r\n        setupKnowledgeCheck(id, elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n  else{\r\n    console.log(\"KnowledgeCheck Initialized\");\r\n    courseData.knowledgeCheckData.totalScore = 0;\r\n    courseData.knowledgeCheckData.completed = 0;\r\n    courseData.knowledgeCheckData.knowledgeChecks = [];\r\n  }\r\n\r\n  var knowledgeCheck = {\r\n    id: $(currentKnowledgeCheck).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    scored: $(currentKnowledgeCheck).attr(\"scored\"),\r\n    score: 0,\r\n    title: $(currentKnowledgeCheck).attr(\"title\"),\r\n    questions: []\r\n  };\r\n\r\n  if($(currentKnowledgeCheck).find(\"completion\").attr(\"gated\") == \"true\"){\r\n    knowledgeCheck.completion = {\r\n      gate : {\r\n        chapter: $(currentKnowledgeCheck).find(\"chapter\").text(),\r\n        page: $(currentKnowledgeCheck).find(\"page\").text(),\r\n        lock: $(currentKnowledgeCheck).find(\"lock\").text()\r\n      }\r\n    };\r\n  }\r\n\r\n  $(currentKnowledgeCheck).find(\"question\").each(function() {\r\n    var currentQuestion = $(this);\r\n\r\n    var question = {\r\n      body: currentQuestion.find(\"body\").text(),\r\n      answers: [],\r\n      correct: false\r\n    };\r\n\r\n    currentQuestion.find(\"answer\").each(function() {\r\n      var currentAnswer = $(this);\r\n\r\n      var answer = {\r\n        correct: currentAnswer.attr(\"correct\"),\r\n        selected: false,\r\n        body: currentAnswer.text()\r\n      };\r\n\r\n      question.answers.push(answer);\r\n    });\r\n\r\n    knowledgeCheck.questions.push(question);\r\n  });\r\n\r\n  courseData.knowledgeCheckData.knowledgeChecks.push(knowledgeCheck);\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID,  JSON.stringify(courseData));\r\n\r\n  var id = getKnowledgeCheckIndex(currentID);\r\n  setupKnowledgeCheck(id, elementID);\r\n\r\n}\r\n\r\nexport function setupKnowledgeCheck(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var currentKnowledgeCheck= courseData.knowledgeCheckData.knowledgeChecks[id];\r\n\r\n  var questionBody = \"\";\r\n  var answerBody = \"\";\r\n\r\n  var questionHTML = \"\";\r\n  for(var i = 0; i < currentKnowledgeCheck.questions.length; i++){\r\n    var answersHTML = \"\";\r\n    questionBody = currentKnowledgeCheck.questions[i].body;\r\n\r\n    for(var j = 0; j < currentKnowledgeCheck.questions[i].answers.length; j++){\r\n      answerBody = currentKnowledgeCheck.questions[i].answers[j].body;\r\n\r\n      answersHTML += `\r\n        <div>\r\n          <input type=\"radio\" name=\"`+elementID+`question-`+i+`-answers\" id=\"`+elementID+`question-`+i+`-answers-`+j+`\" value=\"`+j+`\" />\r\n          <label for=\"`+elementID+`question-`+i+`-answers-`+j+`\">`+answerBody+`\r\n          </label>\r\n        </div>`;\r\n    }\r\n\r\n    questionHTML += `\r\n      <li>\r\n        <p>`+questionBody+`\r\n        </p>` + answersHTML + `\r\n      </li>`;\r\n  }\r\n\r\n  var title= currentKnowledgeCheck.title;\r\n  var html = `\r\n    <div id=\"knowledgeCheck\" class=\"col-md-12 mx-auto\">\r\n      <form id=\"myForm\">\r\n        <h3>`+title+`\r\n        </h3>` + questionHTML + `\r\n        <div class=\"feedback\">\r\n        </div>\r\n        <a class=\"btn btn-default submitKnowledge\">Submit Answers\r\n        </a>\r\n      </form>\r\n    </div>`;\r\n\r\n  if(elementID != null){\r\n    $(\"#\"+elementID).empty();\r\n    $(\"#\"+elementID).html(html);\r\n  }\r\n  else{\r\n    $('#pageContent').append(html);\r\n  }\r\n  if(currentKnowledgeCheck.completed == true){\r\n    //console.log(\"KnowledgeCheck Completed Previously\");\r\n    $('#'+elementID+ ' .submitKnowledge').remove();\r\n    endKnowledgeCheck(id, elementID);\r\n  }\r\n\r\n  $('#'+elementID+ ' .submitKnowledge').click(function(){\r\n    submitAnswers(id, elementID);\r\n  })\r\n}\r\n\r\nexport function submitAnswers(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentKnowledgeCheck = courseData.knowledgeCheckData.knowledgeChecks[id];\r\n\r\n  var selected =   $(\"#\"+elementID + ' form li input:checked');\r\n  for(var i = 0; i < selected.length; i++){\r\n    var selectedAnswer = selected.eq(i).siblings('label').html();\r\n\r\n    for(var j = 0; j < currentKnowledgeCheck.questions[i].answers.length; j++){\r\n      var answer = currentKnowledgeCheck.questions[i].answers[j];\r\n      if(answer.correct == \"true\"){\r\n        if(answer.body == selectedAnswer){\r\n          currentKnowledgeCheck.questions[i].correct = true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  if(selected.length != currentKnowledgeCheck.questions.length){\r\n    if($('#'+elementID + ' .invalid').length == 0){\r\n      $('#'+elementID+' .feedback').append('<p class=\"invalid feedback\">Please answer <span class=\"bolded\">all questions.</span></p>');\r\n      return;\r\n    }\r\n    else{\r\n      return;\r\n    }\r\n  }\r\n\r\n  $('#'+elementID+ ' .submitKnowledge').remove();\r\n\r\n  currentKnowledgeCheck.completed = true;\r\n  courseData.knowledgeCheckData.completed += 1;\r\n  courseData.INTERACTIVES_COMPLETED += 1;\r\n\r\n  if(currentKnowledgeCheck.completion.gate != null) {\r\n    var chapter = currentKnowledgeCheck.completion.gate.chapter;\r\n    var page = currentKnowledgeCheck.completion.gate.page;\r\n    var lock = currentKnowledgeCheck.completion.gate.lock;\r\n    openLock(chapter, page, lock);\r\n  }\r\n\r\n  var totalCorrect = 0;\r\n  for(var i = 0; i < currentKnowledgeCheck.questions.length; i++){\r\n    if(currentKnowledgeCheck.questions[i].correct == false){\r\n      $('#'+elementID + ' form li').eq(i).addClass(\"wrong\");\r\n    }\r\n    else{\r\n      $('#'+elementID + ' form li').eq(i).removeClass(\"wrong\");\r\n      totalCorrect += 1;\r\n    }\r\n  }\r\n  currentKnowledgeCheck.score = totalCorrect;\r\n  courseData.knowledgeCheckData.totalScore += totalCorrect;\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID,  JSON.stringify(courseData));\r\n\r\n  endKnowledgeCheck(id, elementID);\r\n}\r\n\r\nexport function endKnowledgeCheck(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentKnowledgeCheck = courseData.knowledgeCheckData.knowledgeChecks[id];\r\n  currentKnowledgeCheck.completed = true;\r\n\r\n\r\n\r\n  for(var i = 0; i < currentKnowledgeCheck.questions.length; i++){\r\n    if(currentKnowledgeCheck.questions[i].correct == false){\r\n      $('#'+elementID + ' form li').eq(i).addClass(\"wrong\");\r\n    }\r\n    else{\r\n      $('#'+elementID + ' form li').eq(i).removeClass(\"wrong\");\r\n    }\r\n  }\r\n\r\n  var feedback = '<p class=\"feedback\">You scored a <span class=\"bolded\">'+currentKnowledgeCheck.score+' out of '+currentKnowledgeCheck.questions.length+'</span></p>';\r\n  $('#'+elementID + ' .invalid').remove();\r\n  $('#'+elementID +' .feedback').append(feedback);\r\n\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID,  JSON.stringify(courseData));\r\n}\r\n\r\nexport function getKnowledgeCheckIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.knowledgeCheckData.knowledgeChecks.length; i++){\r\n    if(courseData.knowledgeCheckData.knowledgeChecks[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n","var LOCAL_COURSE_DATA_ID;\r\n\r\nexport function initText(textComponentXML, elementID, localStorageID){\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n\r\n  var currentText = $(textComponentXML).find('Text[id=\"'+elementID+'\"]');\r\n  $(\"#\"+elementID).append(currentText.text());\r\n}\r\n","//INITIALIZE AND RENDER CARDS\r\nvar LOCAL_COURSE_DATA_ID;\r\n\r\nexport function initThumbnails(thumbnailContentXML, elementID, localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentThumbnailComponent = $(thumbnailContentXML).find('Thumbnails[id=\"'+elementID+'\"]');\r\n  if(currentThumbnailComponent.length == 0){\r\n    currentThumbnailComponent = $(thumbnailContentXML).find('Thumbnails');\r\n  }\r\n  var currentID = $(currentThumbnailComponent).attr(\"id\");\r\n\r\n\r\n  if(courseData.thumbnailData.thumbnails != null){\r\n    for(var i=0; i < courseData.thumbnailData.thumbnails.length; i++){\r\n      if(courseData.thumbnailData.thumbnails[i].id == currentID){\r\n        var id = getThumbnailIndex(currentID);\r\n        console.log(\"Hotspot Loaded Previously\");\r\n        setupThumbnails(id,elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"Thumbnail Initialized\");\r\n    courseData.thumbnailData.completed = 0;\r\n    courseData.thumbnailData.thumbnails = [];\r\n  }\r\n\r\n  var thumbnail = {\r\n    id: $(currentThumbnailComponent).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    score: 0,\r\n    class: $(currentThumbnailComponent).attr(\"class\"),\r\n    thumbs: []\r\n  }\r\n\r\n  if(currentThumbnailComponent.find(\"completion\").attr(\"gated\") == \"true\"){\r\n    thumbnail.completion = {\r\n      gate : {\r\n        chapter: currentThumbnailComponent.find(\"chapter\").text(),\r\n        page: currentThumbnailComponent.find(\"page\").text(),\r\n        lock: currentThumbnailComponent.find(\"lock\").text()\r\n      }\r\n    };\r\n  }\r\n\r\n  $(currentThumbnailComponent).find(\"thumbnail\").each(function() {\r\n    var currentThumbnail = $(this);\r\n\r\n    var thumb = {\r\n      img: currentThumbnail.find(\"img\").text(),\r\n      url: currentThumbnail.find(\"url\").text(),\r\n      onClickFunction: currentThumbnail.find(\"onClickFunction\").text(),\r\n      heading: currentThumbnail.find(\"heading\").text(),\r\n      caption: currentThumbnail.find(\"caption\").text(),\r\n      completed: false\r\n    };\r\n    thumbnail.thumbs.push(thumb);\r\n  });\r\n\r\n  courseData.thumbnailData.thumbnails.push(thumbnail);\r\n\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n  var id = getThumbnailIndex(currentID);\r\n  setupThumbnails(id, elementID);\r\n}\r\n\r\nexport function setupThumbnails(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var thumbnailNum = courseData.thumbnailData.thumbnails[id].thumbs.length;\r\n\r\n  var html = '<div class=\"row\"></div>';\r\n  $(\"#\"+elementID).html(html);\r\n\r\n\r\n  var size = 12/thumbnailNum;\r\n\r\n  for(var i = 0; i < thumbnailNum; i ++){\r\n    var img = courseData.thumbnailData.thumbnails[id].thumbs[i].img;\r\n    var url = courseData.thumbnailData.thumbnails[id].thumbs[i].url;\r\n    var heading = courseData.thumbnailData.thumbnails[id].thumbs[i].heading;\r\n    var caption = courseData.thumbnailData.thumbnails[id].thumbs[i].caption;\r\n\r\n    var thumbnailWidth = \"col-12 col-sm-\"+size;\r\n\r\n    var href = \"href\";\r\n    if(courseData.thumbnailData.thumbnails[id].thumbs[i].onClickFunction == \"true\"){\r\n      href = \"onclick\";\r\n\r\n      var thumbnailHTML = `\r\n      <div class=\"`+thumbnailWidth+`\">\r\n         <div class=\"thumbnail\" id=\"\">\r\n          <a id=\"thumb`+i+`\" target=\"_blank\" `+href+`=`+url+` class=\"top-paragraph link\">\r\n          <div class=\"img-container\">\r\n            <img class=\"img-zoom\" src=\"`+img+`\" alt=\"\">\r\n          </div>\r\n          <div class=\"caption\">\r\n            <div class=\"caption-title\">\r\n              <span>`+\r\n              heading+`\r\n              </span>\r\n            </div>\r\n          <p>`+caption+`\r\n          </p>\r\n         </div>\r\n         </a>\r\n        </div>\r\n      </div>`;\r\n    }\r\n\r\n    else {\r\n\r\n      if(url.length == \"\"){\r\n        var thumbnailHTML = `\r\n        <div class=\"`+thumbnailWidth+`\">\r\n          <div class=\"thumbnail\" id=\"\">\r\n            <div style=\"cursor: default\" id=\"`+elementID+`-thumb-`+i+`\" class=\"top-paragraph link\">\r\n            <div class=\"img-container\">\r\n              < img class=\"img-zoom\" src=\"`+img+`\" alt=\"\">\r\n            </div>\r\n            <div class=\"caption\">\r\n              <div class=\"caption-title\">\r\n                <span>`+\r\n                  heading+`\r\n                </span>\r\n              </div>\r\n            <p>`+caption+`\r\n            </p>\r\n            </div>\r\n           </div>\r\n          </div>\r\n        </div>`;\r\n      }\r\n\r\n      else{\r\n        var thumbnailHTML = `\r\n        <div class=\"`+thumbnailWidth+`\">\r\n        <div class=\"thumbnail\" id=\"\">\r\n        <a id=\"`+elementID+`-thumb-`+i+`\" target=\"_blank\" `+href+`=\"`+url+`\" class=\"top-paragraph link\">\r\n        <div class=\"img-container\">\r\n        <img class=\"img-zoom\" src=\"`+img+`\" alt=\"\">\r\n        </div>\r\n        <div class=\"caption\">\r\n        <div class=\"caption-title\">\r\n        <span>`+\r\n        heading+`\r\n        </span>\r\n        </div>\r\n        <p>`+caption+`\r\n        </p>\r\n        </div>\r\n        </a>\r\n        </div>\r\n        </div>`;\r\n      }\r\n    }\r\n\r\n    $(\"#\"+elementID+ ' .row').append(thumbnailHTML);\r\n    $('#'+elementID+'-thumb-'+i).click(function(){\r\n\r\n      checkThumbCompletion(this, getThumbnailIndex(elementID));\r\n    });\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\nexport function checkThumbCompletion(evt, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var id = $(evt).attr(\"id\");\r\n  id = id.substr($(evt).attr(\"id\").length - 1);\r\n  var thumbID = id;\r\n  if(courseData.thumbnailData.thumbnails[elementID].thumbs[thumbID].completed == false){\r\n    courseData.thumbnailData.thumbnails[elementID].thumbs[thumbID].completed = true;\r\n    courseData.thumbnailData.thumbnails[elementID].score += 1;\r\n\r\n    if(courseData.thumbnailData.thumbnails[elementID].score >= courseData.thumbnailData.thumbnails[elementID].thumbs.length){\r\n      courseData.thumbnailData.thumbnails[elementID].completed = true;\r\n      courseData.thumbnailData.completed += 1;\r\n      courseData.INTERACTIVES_COMPLETED += 1;\r\n      if(courseData.thumbnailData.thumbnails[elementID].completion.gate != null) {\r\n        var chapter = courseData.thumbnailData.thumbnails[elementID].completion.gate.chapter;\r\n        var page = courseData.thumbnailData.thumbnails[elementID].completion.gate.page;\r\n        var lock = courseData.thumbnailData.thumbnails[elementID].completion.gate.lock;\r\n        openLock(chapter, page, lock);\r\n      }\r\n    }\r\n  }\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n}\r\n\r\nexport function getThumbnailIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  for(var i = 0; i < courseData.thumbnailData.thumbnails.length; i++){\r\n    if(courseData.thumbnailData.thumbnails[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n","//INITIALIZE AND RENDER DRAG AND DROP\r\nimport * as Modal from '../components/modal_functions';\r\n\r\nvar LOCAL_COURSE_DATA_ID;\r\nexport function initVideoAudio(videoAudioComponentXML, elementID, localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentVideoAudio = $(videoAudioComponentXML).find('VideoAudio[id=\"'+elementID+'\"]');\r\n  if(currentVideoAudio.length == 0){\r\n    currentVideoAudio = $(videoAudioComponentXML).find('VideoAudio');\r\n  }\r\n  var currentID = $(currentVideoAudio).attr(\"id\");\r\n\r\n  if(courseData.videoAudioData.videoAudio != null){\r\n    for(var i=0; i < courseData.videoAudioData.videoAudio.length; i++){\r\n      if(courseData.videoAudioData.videoAudio[i].id == currentID){\r\n        var id = getVideoAudioIndex(currentID);\r\n        console.log(\"Video/Audio Loaded Previously\");\r\n        setupVideoAudio(id,elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"Video/Audio Initialized\");\r\n    courseData.videoAudioData.completed = 0;\r\n    courseData.videoAudioData.videoAudio = [];\r\n\r\n  }\r\n\r\n  var videoAudio = {\r\n    id: $(currentVideoAudio).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    type: $(currentVideoAudio).find('type').text(),\r\n    embedded: $(currentVideoAudio).find('embedded').text(),\r\n    poster: $(currentVideoAudio).find('poster').text(),\r\n    source: $(currentVideoAudio).find('source').text(),\r\n    heading: $(currentVideoAudio).find('heading').text(),\r\n    caption: $(currentVideoAudio).find('caption').text(),\r\n    youtube: $(currentVideoAudio).find('youtube').text(),\r\n    popup: $(currentVideoAudio).find('popup').text()\r\n\r\n  };\r\n\r\n  courseData.videoAudioData.videoAudio.push(videoAudio);\r\n\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n  var id = getVideoAudioIndex(currentID);\r\n  setupVideoAudio(id,elementID);\r\n}\r\n\r\nexport function setupVideoAudio(id,elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var src = courseData.videoAudioData.videoAudio[id].source;\r\n  var poster = courseData.videoAudioData.videoAudio[id].poster;\r\n  var embedded = courseData.videoAudioData.videoAudio[id].embedded;\r\n  var type = courseData.videoAudioData.videoAudio[id].type;\r\n  var heading = courseData.videoAudioData.videoAudio[id].heading;\r\n  var caption = courseData.videoAudioData.videoAudio[id].caption;\r\n  var youtube = courseData.videoAudioData.videoAudio[id].youtube;\r\n  var popup = courseData.videoAudioData.videoAudio[id].popup;\r\n\r\n  if(popup == \"true\"){\r\n    var html = `\r\n      <div class=\"videoAudio\">\r\n        <div class=\"img-container\">\r\n        <img class=\"popupImg\" style=\"width: 100%; cursor: pointer\" src=\"`+poster+`\">\r\n        </div>`;\r\n  }\r\n\r\n  else{\r\n    if(youtube == \"true\"){\r\n      var html = `\r\n        <div class=\"videoAudio\">\r\n          <div class=\"youtube-container\">\r\n          <iframe class=\"youtube\" width=\"100%\" height=\"120%\" src=\"`+src+`\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen>\r\n          </iframe>\r\n        </div>`;\r\n    }\r\n    else{\r\n      var html = `\r\n      <div class=\"videoAudio\">\r\n      <video id=\"`+elementID+`-video-embed\" poster=\"`+poster+`\" style=\"margin-bottom: -6px;\"\" controls>\r\n      <source src=\"`+src+`\" type=\"video/mp4\"\">Your browser does not support the video tag.\r\n      </video>`;\r\n\r\n    }\r\n  }\r\n\r\n  if(heading.length > 0){\r\n    html += `\r\n        <div class=\"caption\">\r\n          <div class=\"caption-title\">\r\n            <span>`+ heading+`\r\n            </span>\r\n          </div>\r\n        <p>`+caption+`\r\n        </p>\r\n        </div>\r\n      </div>\r\n    </div>`;\r\n  }\r\n  else{\r\n    html += '</div>'\r\n  }\r\n\r\n  $(\"#\"+elementID).empty();\r\n  $(\"#\"+elementID).append(html);\r\n\r\n  $('#'+elementID+' .popupImg').click(function(){\r\n    Modal.openVideoModal(src, LOCAL_COURSE_DATA_ID);\r\n    checkVideoAudioCompletion(getVideoAudioIndex(elementID));\r\n  });\r\n\r\n  $('#'+elementID+'-video').click(function(){\r\n    Modal.openVideoModal(src, LOCAL_COURSE_DATA_ID);\r\n    checkVideoAudioCompletion(getVideoAudioIndex(elementID));\r\n  });\r\n\r\n  $('#'+elementID+'-audio-embed').on('play', function (e) {\r\n    checkVideoAudioCompletion(getVideoAudioIndex(elementID));\r\n\r\n  });\r\n\r\n  $('#'+elementID+'-video-embed').on('play', function (e) {\r\n    checkVideoAudioCompletion(getVideoAudioIndex(elementID));\r\n  });\r\n\r\n\r\n}\r\n\r\nexport function getVideoAudioIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.videoAudioData.videoAudio.length; i++){\r\n    if(courseData.videoAudioData.videoAudio[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function checkVideoAudioCompletion(elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  if(courseData.videoAudioData.videoAudio[elementID].completed == false){\r\n    courseData.videoAudioData.videoAudio[elementID].completed = true;\r\n    courseData.videoAudioData.completed += 1;\r\n    courseData.INTERACTIVES_COMPLETED += 1;\r\n\r\n    if(courseData.videoAudioData.videoAudio[elementID].completion.gate != null) {\r\n      var chapter = courseData.videoAudioData.videoAudio[elementID].completion.gate.chapter;\r\n      var page = courseData.videoAudioData.videoAudio[elementID].completion.gate.page;\r\n      var lock = courseData.videoAudioData.videoAudio[elementID].completion.gate.lock;\r\n      openLock(chapter, page, lock);\r\n    }\r\n  }\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n\r\n}\r\n","var LOCAL_COURSE_DATA_ID;\r\nvar time;\r\n\r\nexport function initGame(GameContentXML, elementID,localStorageID) {\r\n  LOCAL_COURSE_DATA_ID = localStorageID;\r\n  if(localStorage === \"undefined\") {\r\n    location.reload();\r\n  }\r\n\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var currentGame = $(GameContentXML).find('Game[id=\"'+elementID+'\"]');\r\n  if(currentGame.length == 0){\r\n    currentGame = $(GameContentXML).find('Game');\r\n  }\r\n  var currentID = $(currentGame).attr(\"id\");\r\n\r\n  if(courseData.gameData.games != null){\r\n    for(var i=0; i < courseData.gameData.games.length; i++){\r\n      if(courseData.gameData.games[i].id == currentID){\r\n        var id = getGameIndex(currentID);\r\n        console.log(\"Game Loaded Previously\");\r\n        setupGame(id,elementID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  else{\r\n    console.log(\"Game Initialized\");\r\n    courseData.gameData.completed = 0;\r\n    courseData.gameData.games = [];\r\n  }\r\n\r\n  var game = {\r\n    id: $(currentGame).attr(\"id\"),\r\n    completed: false,\r\n    completion: {},\r\n    score: 0,\r\n    questions: [],\r\n    title: $(currentGame).find('title').text(),\r\n    introText: $(currentGame).find('introText').text(),\r\n    completionText: $(currentGame).find('completionText').text()\r\n  };\r\n\r\n  if(currentGame.find(\"completion\").attr(\"gated\") == \"true\"){\r\n  game.completion = {\r\n    gate : {\r\n      chapter: currentGame.find(\"chapter\").text(),\r\n      page: currentGame.find(\"page\").text(),\r\n      lock: currentGame.find(\"lock\").text()\r\n      }\r\n    }\r\n  };\r\n\r\n  $(currentGame).find(\"question\").each(function() {\r\n    var question ={\r\n      body:$(this).find('body').text(),\r\n      answers: [],\r\n      completed: false\r\n    }\r\n\r\n    $(this).find(\"answer\").each(function() {\r\n      var answer ={\r\n        text:$(this).find('text').text(),\r\n        selected:false,\r\n        correct:Boolean($(this).attr('correct'))\r\n      }\r\n      question.answers.push(answer);\r\n    });\r\n\r\n\r\n    game.questions.push(question);\r\n  });\r\n\r\n  courseData.gameData.games.push(game);\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n  var id = getGameIndex(currentID);\r\n  setupGame(id,elementID);\r\n}\r\n\r\nexport function getGameIndex(currentID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  for(var i = 0; i < courseData.gameData.games.length; i++){\r\n    if(courseData.gameData.games[i].id == currentID){\r\n      return i;\r\n    }\r\n  }\r\n}\r\n\r\nexport function setupGame(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  if(courseData.gameData.games[id].completed){\r\n    console.log(\"Previously Completed\");\r\n    //endGame(id, elementID);\r\n    //return;\r\n  }\r\n  var html = `\r\n  <div class=\"game\">\r\n    <div class=\"introText\">\r\n      `+courseData.gameData.games[id].title\r\n      +courseData.gameData.games[id].introText+`\r\n    </div>\r\n\r\n    <div class=\"next\">\r\n      <button class=\"begin\">BEGIN</button>\r\n    </div>\r\n  </div>\r\n  `;\r\n\r\n\r\n  $('#'+elementID).html(html);\r\n\r\n  $('#'+elementID + ' .begin').click(function(){\r\n    startGame(id, elementID, 0);\r\n\r\n    time = 0;\r\n\r\n    window.timingInterval = setInterval(function(){\r\n      time += .1;\r\n      //console.log(time);\r\n    }, 100);\r\n  });\r\n}\r\n\r\nexport function startGame(id, elementID, questionIndex){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var questionObj = courseData.gameData.games[id].questions[questionIndex];\r\n  var totalQuestions = courseData.gameData.games[id].questions.length;\r\n\r\n  var questionBody = questionObj.body;\r\n  var answers = questionObj.answers;\r\n\r\n  var answersHTML = \"\";\r\n\r\n  var html = `\r\n  <div class=\"game\">\r\n    <div class=\"question\">\r\n      <h5>Question `+(questionIndex+1)+` of `+totalQuestions+`</h5>\r\n      `+questionBody+`\r\n    </div>\r\n\r\n    <div class=\"answers\">\r\n    </div>\r\n\r\n    <div class=\"next\">\r\n      <button class=\"next\">NEXT</button>\r\n    </div>\r\n  </div>\r\n  `;\r\n\r\n  $('#'+elementID).html(html);\r\n\r\n  answers.map(function(answer, answerIndex){\r\n    answersHTML = `<div class=\"answer\">`+answer.text+`</div>`;\r\n    $('#'+elementID + ' .answers').append(answersHTML);\r\n\r\n    //SELECTING AN ANSWER\r\n    $('#'+elementID + ' .answers .answer').eq(answerIndex).click(function(){\r\n      $(this).toggleClass('selected');\r\n\r\n      courseData.gameData.games[id].questions[questionIndex].answers[answerIndex].selected=!courseData.gameData.games[id].questions[questionIndex].answers[answerIndex].selected;\r\n\r\n      localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n    });\r\n  });\r\n\r\n\r\n  $('#'+elementID + ' .next').click(function(){\r\n    nextQuestion(id, elementID, questionIndex, totalQuestions);\r\n  });\r\n}\r\n\r\nexport function nextQuestion(id, elementID, questionIndex, totalQuestions){\r\n  if(questionIndex+1 < totalQuestions){\r\n    startGame(id, elementID, questionIndex+1);\r\n  }\r\n  else{\r\n    endGame(id, elementID);\r\n  }\r\n}\r\n\r\nexport function endGame(id, elementID){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  clearTimeout(timingInterval);\r\n\r\n\r\n  var correct = calculateQuestions(id, elementID);\r\n  var total = courseData.gameData.games[id].questions.length;\r\n\r\n  var html = `\r\n  <div class=\"game\">\r\n    <div class=\"introText\">\r\n      <h3>Game Over</h3>\r\n      <p>You got <span class=\"bolded\">`+correct+`</span> out of <span class=\"bolded\">`+total+`</span> questions correct and it took you <span class=\"bolded\">`+Math.round(time)+`</span> seconds to complete the game.</p>\r\n      <p>Thanks for playing.</p>\r\n    </div>\r\n\r\n    <div class=\"next\">\r\n      <button class=\"results\">RESULTS</button>\r\n    </div>\r\n\r\n    <div class=\"next\">\r\n    </div>\r\n  </div>\r\n  `;\r\n\r\n\r\n  $('#'+elementID).html(html);\r\n\r\n  $('#'+elementID + ' .begin').click(function(){\r\n    var currentData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n    currentData.gameData.games[id].completed = false;\r\n\r\n    for(var i = 0; i < currentData.gameData.games[id].questions.length - 1; i++){\r\n      currentData.gameData.games[id].questions[i].completed = false;\r\n\r\n      for(var j = 0; j < currentData.gameData.games[id].questions.length; j++){\r\n        currentData.gameData.games[id].questions[i].answers[j].selected = false;\r\n\r\n      }\r\n    }\r\n\r\n    console.log(currentData);\r\n    localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(currentData));\r\n    setupGame(id, elementID);\r\n  });\r\n\r\n  $('#'+elementID + ' .results').click(function(){\r\n    startResults(id, elementID, 0);\r\n  });\r\n\r\n  courseData.gameData.games[id].completed = true;\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseData));\r\n}\r\n\r\nexport function startResults(id, elementID, questionIndex){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n  var questionObj = courseData.gameData.games[id].questions[questionIndex];\r\n  var totalQuestions = courseData.gameData.games[id].questions.length;\r\n\r\n  var questionBody = questionObj.body;\r\n  var answers = questionObj.answers;\r\n\r\n  var answersHTML = \"\";\r\n\r\n  var html = `\r\n  <div class=\"game\">\r\n    <div class=\"question\">\r\n      <h5>Question `+(questionIndex+1)+` of `+totalQuestions+`</h5>\r\n      `+questionBody+`\r\n    </div>\r\n\r\n    <div class=\"answers\">\r\n    </div>\r\n\r\n    <div class=\"next\">\r\n      <button class=\"next\">NEXT</button>\r\n    </div>\r\n  </div>\r\n  `;\r\n\r\n  $('#'+elementID).html(html);\r\n\r\n  var classes = \"\";\r\n\r\n  answers.map(function(answer, answerIndex){\r\n    classes = \"\";\r\n\r\n    if(answer.correct){\r\n      classes += \" correct\";\r\n    }\r\n    else{\r\n      classes += \" wrong\";\r\n    }\r\n    if(answer.selected){\r\n      classes += \" selected\"\r\n    }\r\n\r\n    answersHTML = `<div class=\"answer`+classes+`\">`+answer.text+`</div>`;\r\n    $('#'+elementID + ' .answers').append(answersHTML);\r\n  });\r\n\r\n\r\n  $('#'+elementID + ' .next').click(function(){\r\n    nextResult(id, elementID, questionIndex, totalQuestions);\r\n  });\r\n}\r\n\r\nexport function nextResult(id, elementID, questionIndex, totalQuestions){\r\n  if(questionIndex+1 < totalQuestions){\r\n    startResults(id, elementID, questionIndex+1);\r\n  }\r\n  else{\r\n    endGame(id, elementID);\r\n  }\r\n}\r\n\r\nexport function calculateQuestions(id){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var game = courseData.gameData.games[id];\r\n  var totalCorrect = 0;\r\n  var questionCorrect = true;\r\n\r\n  for(let i = 0; i < game.questions.length; i++){\r\n    questionCorrect = true;\r\n    for(let j = 0; j < game.questions[i].answers.length; j++){\r\n      var selected = game.questions[i].answers[j].selected;\r\n      var correct = game.questions[i].answers[j].correct;\r\n      if(selected != correct){\r\n        questionCorrect = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if(questionCorrect){\r\n      totalCorrect += 1;\r\n    }\r\n  }\r\n\r\n  return totalCorrect;\r\n}\r\n","//////////////////////////////////////////////////////////////////////\r\n//\r\n//     App JS\r\n//      - Main JS file and entry point.\r\n//      - Loads localStorage and initializes settings.\r\n//\r\n//////////////////////////////////////////////////////////////////////\r\n\r\n\r\nimport * as Interface from './Interface.jsx';\r\nimport * as Tracking from './Tracking.jsx';\r\nimport * as Assessment from './components/assessment_functions';\r\n\r\nvar LOCAL_COURSE_DATA_ID;\r\n\r\nvar Signal;\r\nvar courseData;\r\n\r\nvar settingsLoaded = false;\r\nvar glossaryLoaded = false;\r\nvar resourcesLoaded = false;\r\nvar navigationLoaded = false;\r\nvar cardContentLoaded = false;\r\nvar stringsLoaded = false;\r\nvar assessmentsLoaded = false;\r\nvar splashLoaded = false;\r\nvar splashViewed = false;\r\n\r\nvar totalPages;\r\nvar activePageCount;\r\nvar currentChapter;\r\nvar currentPage;\r\nvar pageIsLoading = false;\r\nvar resources;\r\nvar strings = [];\r\nvar checkingXMLCompleteAlready = false;\r\nvar cookieName = \"cookieName\";\r\nvar muted = false;\r\nvar volume = .6;\r\n\r\n$(document).ready(function() {\r\n  initLocalStorage();\r\n});\r\n\r\nfunction initLocalStorage() {\r\n  //console.log(\"initInterface()\");\r\n\r\n  //LOGIC FOR DEVELOPING\r\n\r\n\r\n  $(window).resize(function() {\r\n    calculateHeight();\r\n  });\r\n  $(window).on(\"unload\", function(){\r\n    Tracking.QuitLMS();\r\n  });\r\n\r\n  Tracking.StartLMS();\r\n\r\n  $.get(\"settings.json\")\r\n  .done(function(json) {\r\n    settingsLoaded = true;\r\n    LOCAL_COURSE_DATA_ID = json.settings.courseStorageID;\r\n\r\n    var localStorageSize = ((JSON.stringify(localStorage).length * 2) / 1048576).toFixed(4);\r\n    console.log(\"localStorage in megabytes: \", localStorageSize);\r\n\r\n    var currentVersion = json.settings.version;\r\n\r\n    if(json.settings.production == null){\r\n      localStorage.clear();\r\n    }\r\n\r\n    var tempStorage = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n    if(tempStorage === null || tempStorage.SETTINGS_VERSION !== currentVersion) {\r\n      populateStorage(json, tempStorage);\r\n      console.log(\"localStorage has reloaded\");\r\n    }\r\n\r\n    else{\r\n      loadInterfaceStyles();\r\n      Interface.initInterface(LOCAL_COURSE_DATA_ID);\r\n      return;\r\n    }\r\n  });\r\n}\r\n\r\nfunction populateStorage(json, tempStorage) {\r\n  var courseStorageObj = {};\r\n  courseStorageObj.TITLE = json.settings.courseTitle;\r\n  courseStorageObj.SUB_TITLE = json.settings.courseSubTitle;\r\n  courseStorageObj.SETTINGS_VERSION = json.settings.version;\r\n  courseStorageObj.THEME = json.settings.theme;\r\n  courseStorageObj.THEME_PATH = \"view/themes/\" + courseStorageObj.THEME;\r\n  courseStorageObj.COOKIE_NAME = json.settings.cookieName;\r\n  courseStorageObj.MENU_PLACEMENT = json.settings.menuPlacement;\r\n  courseStorageObj.MENU_STYLE = json.settings.menuStyle;\r\n  courseStorageObj.HAS_MENU_LOGO = json.settings.hasMenuLogo;\r\n  courseStorageObj.HAS_FOOTER = json.settings.hasFooter;\r\n  courseStorageObj.HAS_GLOSSARY = json.settings.hasGlossary;\r\n  courseStorageObj.HAS_RESOURCES = json.settings.hasResources;\r\n  courseStorageObj.HAS_HELP = json.settings.hasHelp;\r\n  courseStorageObj.HAS_SPLASH_PAGE = json.settings.hasSplashPage;\r\n  courseStorageObj.HAS_INTERACTIVE_COMPLETION = json.settings.hasInteractiveCompletion;\r\n  courseStorageObj.SETTINGS_LOADED = false;\r\n  courseStorageObj.INTERACTIVES_TOTAL = 0;\r\n  courseStorageObj.INTERACTIVES_COMPLETED = 0;\r\n  courseStorageObj.CONTENTS = {\r\n    toc: json.settings.contents,\r\n    completed: []\r\n  };\r\n\r\n  courseStorageObj.HAS_VEHICLE_GAME = json.settings.hasVehicleGame;\r\n  courseStorageObj.modalData = {TOTAL: 0};\r\n  courseStorageObj.ctrData = {TOTAL: 0};\r\n  courseStorageObj.gameData = {TOTAL: 0};\r\n  courseStorageObj.dragDropData = {TOTAL: 0};\r\n  courseStorageObj.flipCardData = {TOTAL: 0};\r\n  courseStorageObj.hotspotData = {TOTAL: 0};\r\n  courseStorageObj.knowledgeCheckData = {TOTAL: 0};\r\n  courseStorageObj.thumbnailData = {TOTAL: 0};\r\n  courseStorageObj.videoAudioData = {TOTAL: 0};\r\n  courseStorageObj.assessmentData = {TOTAL: 0};\r\n\r\n  courseStorageObj.COUNT_PAGES = json.settings.hasCountPages;\r\n  if(courseStorageObj.COUNT_PAGES == \"true\") {\r\n    var pageCountObj = {\"pagesTotal\":0,\"pagesVisited\":0,\"pageIds\":[]};\r\n    courseStorageObj.pageCount = pageCountObj;\r\n  }\r\n\r\n  if(json.settings.hasFooter === \"false\") {\r\n    $('.footer').remove();\r\n  }\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(courseStorageObj));\r\n  getNavigationData();\r\n}\r\n\r\nfunction getNavigationData(){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var contents = courseData.CONTENTS.toc;\r\n  var pageCount = 0;\r\n  var loadingComplete = false;\r\n  var pageTotal = 0;\r\n  var xmlArray = [];\r\n  courseData.chapters = new Array(contents.length);\r\n\r\n  for (var i = 0; i < contents.length; i++) {\r\n    courseData.chapters[i] = {\r\n      title: null,\r\n      titleIndex: -1,\r\n      isActive: true,\r\n      pages: []\r\n    }\r\n    courseData.chapters[i].pages = new Array(contents[i].length);\r\n\r\n    for (var j = 0; j < contents[i].length; j++) {\r\n      pageTotal += 1;\r\n      courseData.chapters[i].pages[j] = {\r\n        title: null,\r\n        file: contents[i][j],\r\n        gated: false,\r\n        locks: [0],\r\n        audio: \"\",\r\n        video: false\r\n      }\r\n\r\n      xmlArray.push({\r\n        page: contents[i][j],\r\n        completed: false\r\n      });\r\n    }\r\n  }\r\n  courseData.PAGE_TOTAL = pageTotal;\r\n  activePageCount = pageTotal;\r\n  courseData.CONTENTS.completed = xmlArray;\r\n  if(courseData.COUNT_PAGES == \"true\"){\r\n    courseData.pageCount.pagesTotal = pageTotal;\r\n  }\r\n\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID,  JSON.stringify(courseData));\r\n  getChapterData();\r\n}\r\n\r\nfunction getChapterData(){\r\n  var tempData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  var activeCount = 0;\r\n  for(var i = 0; i < tempData.chapters.length; i++){\r\n    for(var j = 0; j < tempData.chapters[i].pages.length; j++){\r\n      activeCount += 1;\r\n      var arg = 'view/content/pages/' + tempData.chapters[i].pages[j].file +'.xml';\r\n      $.ajax({\r\n          url: arg,\r\n          type: 'GET',\r\n          chapterIndex: i,\r\n          pageIndex: j,\r\n          activeCount: activeCount,\r\n          success: function(xml) {\r\n            var pathMark = Tracking.GetPathmark();\r\n\r\n            if(this.pageIndex == 0){\r\n\r\n              tempData.chapters[this.chapterIndex].title = $(xml).find(\"title\").find(\"chapterTitle\").text();\r\n\r\n              if(pathMark && pathMark != \"\" && pathMark[i] != undefined) {\r\n                var active = \"false\";\r\n                if(pathMark[i].split(\"}\")[0].split(\"]\")[0] == \"1\") {\r\n                  active = \"true\";\r\n                }\r\n\r\n                tempData.chapters[this.chapterIndex].isActive = active;\r\n                tempData.chapters[this.chapterIndex].titleIndex = pathMark[i].split(\"}\")[0].split(\"]\")[1];\r\n\r\n              }\r\n              //No Scorm Interaction\r\n              else {\r\n                tempData.chapters[this.chapterIndex].isActive = \"true\";\r\n                tempData.chapters[this.chapterIndex].titleIndex =- 1;\r\n              }\r\n            }\r\n\r\n            tempData.chapters[this.chapterIndex].pages[this.pageIndex].title = $(xml).find(\"title\").find(\"pageTitle\").text();\r\n            if($(xml).find(\"title\").find(\"gated\").text() == \"true\"){\r\n              tempData.chapters[this.chapterIndex].pages[this.pageIndex].gated = true;\r\n            }\r\n\r\n            tempData.chapters[this.chapterIndex].pages[this.pageIndex].locks = [0];\r\n            tempData.chapters[this.chapterIndex].pages[this.pageIndex].audio = false;\r\n            tempData.chapters[this.chapterIndex].pages[this.pageIndex].video = false;\r\n            tempData.chapters[this.chapterIndex].pages[this.pageIndex].count = this.activeCount;\r\n            tempData.chapters[this.chapterIndex].pages[this.pageIndex].content = $(xml).find(\"layout\").text();\r\n\r\n            var components = $(xml).find(\"components\");\r\n            components.children().each(function(){\r\n              var type = $(this)[0].tagName;\r\n              tempData = countInteractives(type, tempData)\r\n            });\r\n\r\n            localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(tempData));\r\n            //console.log(tempData.chapters[this.chapterIndex].pages[this.pageIndex].title);\r\n          },\r\n          complete: function(){\r\n            var current = tempData.chapters[this.chapterIndex].pages[this.pageIndex].file;\r\n\r\n            tempData.CONTENTS.completed.forEach(function(item, index){\r\n              if(item.page == current){\r\n                item.completed = true;\r\n              }\r\n\r\n            });\r\n\r\n            for(var i = 0; i < tempData.CONTENTS.completed.length; i++){\r\n              if(tempData.CONTENTS.completed[i].completed != true){\r\n                tempData.SETTINGS_LOADED = false;\r\n                break;\r\n              }\r\n              else{\r\n                tempData.SETTINGS_LOADED = true;\r\n              }\r\n            }\r\n            if(tempData.SETTINGS_LOADED){\r\n              console.log(\"Navigation loading completed:\");\r\n              //RUN REST OF INITALIZE LOCALSTORAGE DATA\r\n              navigationLoaded = true;\r\n              settingsLoaded = true;\r\n\r\n              //buildInterface();\r\n              loadXMLData();\r\n            }\r\n          }\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nfunction loadXMLData() {\r\n  //console.log(\"loadXMLData()\");\r\n  courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n\r\n\r\n  if(courseData.HAS_RESOURCES === 'true' && resourcesLoaded === false) {\r\n    GetInterfaceXML(\"view/content/resources.xml\");\r\n    return;\r\n  }\r\n\r\n  if(courseData.HAS_GLOSSARY === 'true' && glossaryLoaded === false) {\r\n    GetInterfaceXML(\"view/content/glossary.xml\");\r\n    return;\r\n\r\n  }\r\n  if(courseData.HAS_SPLASH_PAGE === 'true' && splashLoaded === false){\r\n    GetInterfaceXML(\"view/content/splash.xml\");\r\n    return;\r\n\r\n  }\r\n\r\n  if(courseData.HAS_VEHICLE_GAME === 'true' && assessmentsLoaded === false) {\r\n    GetInterfaceXML(\"view/content/assessments.xml\");\r\n    return;\r\n  }\r\n else {\r\n    loadInterfaceStyles();\r\n    Interface.initInterface(LOCAL_COURSE_DATA_ID);\r\n    return;\r\n  }\r\n}\r\n\r\nfunction GetInterfaceXML(args) {\r\n  $.get(args).done(function(xml) {\r\n    if(args.indexOf(\"glossary\") != -1) {\r\n      glossaryLoaded = true;\r\n      addGlossaryToLocalStorage(xml);\r\n      loadXMLData();\r\n    }\r\n    else if(args.indexOf(\"resources\") != -1) {\r\n      resourcesLoaded = true;\r\n      addResourcesToLocalStorage(xml);\r\n      loadXMLData();\r\n    }\r\n    else if(args.indexOf(\"splash\") != -1) {\r\n      splashLoaded = true;\r\n      addSplashToLocalStorage(xml);\r\n      loadXMLData();\r\n    }\r\n    else if(args.indexOf(\"assessments\") != -1) {\r\n      assessmentsLoaded = true;\r\n      Assessment.initAssessments(LOCAL_COURSE_DATA_ID, xml); // lives in assessment_functions.js\r\n      loadXMLData();\r\n    }\r\n  });\r\n}\r\n\r\nfunction addGlossaryToLocalStorage(xml) {\r\n  var storage = localStorage.getItem(LOCAL_COURSE_DATA_ID);\r\n  var tempStorage = JSON.parse(storage);\r\n\r\n  tempStorage.glossary = {\"items\":[]}\r\n\r\n  var itemsXML = $(xml).find(\"item\");\r\n  var items = [];\r\n\r\n  for(var hl = 0; hl < itemsXML.length; hl++) {\r\n    var item = {};\r\n\r\n    item.term = $(itemsXML[hl]).find('term').text();\r\n    item.definition = $(itemsXML[hl]).find('definition').text();\r\n    items.push(item);\r\n  }\r\n  tempStorage.glossary.items = items;\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(tempStorage));\r\n}\r\n\r\nfunction addResourcesToLocalStorage(xml) {\r\n  var storage = localStorage.getItem(LOCAL_COURSE_DATA_ID);\r\n  var tempStorage = JSON.parse(storage);\r\n\r\n  tempStorage.resources = {\"items\":[]}\r\n\r\n  var itemsXML = $(xml).find(\"item\");\r\n  var items = [];\r\n\r\n  for(var hl = 0; hl < itemsXML.length; hl++) {\r\n    var item = {};\r\n\r\n    item.term = $(itemsXML[hl]).find('term').text();\r\n    item.definition = $(itemsXML[hl]).find('definition').text();\r\n    item.source = $(itemsXML[hl]).find('source').text();\r\n    item.name = $(itemsXML[hl]).find('name').text();\r\n    items.push(item);\r\n  }\r\n\r\n  tempStorage.resources.items = items;\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(tempStorage));\r\n}\r\n\r\nfunction addSplashToLocalStorage(xml) {\r\n  var storage = localStorage.getItem(LOCAL_COURSE_DATA_ID);\r\n  var tempStorage = JSON.parse(storage);\r\n\r\n  tempStorage.splash = {\r\n    \"title\": $(xml).find(\"title\").text(),\r\n    \"caption\": $(xml).find(\"caption\").text(),\r\n    \"introduction\": $(xml).find(\"introduction\").text()\r\n  }\r\n  localStorage.setItem(LOCAL_COURSE_DATA_ID, JSON.stringify(tempStorage));\r\n}\r\n\r\nfunction loadInterfaceStyles(){\r\n  var courseData = JSON.parse(localStorage.getItem(LOCAL_COURSE_DATA_ID));\r\n  $(\".add-theme-path\").attr(\"src\", function () {\r\n    return $(this).attr(\"src\").replace(\"theme-path\", courseData.THEME_PATH);\r\n  });\r\n\r\n  $(\".add-theme-path-head\").attr(\"href\", function () {\r\n    $(this).attr(\"href\").replace(\"theme-path\", courseData.THEME_PATH);\r\n\r\n    return $(this).attr(\"href\").replace(\"theme-path\", courseData.THEME_PATH);\r\n  });\r\n}\r\n\r\nfunction calculateHeight() {\r\n  // subtracting one pixel ensures that second scroll bar doesn't appear\r\n  // adding padding to accommodate Bootstrap header nav\r\n  // console.log(\"calculateHeight\");\r\n  // console.log($(\"#navbar\").height());\r\n\r\n\r\n  //  $(\"#contentContainer\").css({height:$(window).height() - 1, paddingTop:$(\"#navbar\").height()});\r\n  //$(\"#contentContainer\").css({height:$(window).height() - 1});\r\n  $(\"#contentContainer\").css({height:$(window).height()-($('#navContainer').height()+getFooterHeight())});\r\n\r\n\r\n  var navItemHeight = (($(window).height()-($('#navContainer').height()+getFooterHeight())) * .75)/ $('.courseTitleChapter').length;\r\n  //$('.tabbed #navbarMobile .courseTitleChapter').css({height: navItemHeight});\r\n  //---------------DEPRICATED AFTER REMOVING IFRAMES---------------\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height()});\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height() - $(\"#navbar\").height(), top:$(\"#navbar\").height()});\r\n  //$(\"#contentFrame\").css({height:$(\"#contentContainer\").height() - 7});\r\n\r\n  $(\"#audioBar\").width($(\"#mainContainer\").width()-216-$(\"#navBtns\").width());\r\n  $('.leftNav #navbarMain').css({height:$(window).height()-($('#navContainer').height()+getFooterHeight())});\r\n\r\n}\r\n\r\nfunction getFooterHeight() {\r\n  if($('footer').height() == null){\r\n    return 0;\r\n  }\r\n  return $('footer').height();\r\n}\r\n\r\nfunction countInteractives(interactive, tempData){\r\n  if(interactive == \"Ctr\"){\r\n    if(tempData.ctrData == null){\r\n      tempData.ctrData = {TOTAL: 0};\r\n    }\r\n    tempData.ctrData.TOTAL += 1;\r\n    tempData.INTERACTIVES_TOTAL += 1;\r\n  }\r\n  else if(interactive == \"Modal\"){\r\n    if(tempData.modalData == null){\r\n      tempData.modalData = {TOTAL: 0};\r\n    }\r\n    tempData.modalData.TOTAL += 1;\r\n    tempData.INTERACTIVES_TOTAL += 1;\r\n  }\r\n  else if(interactive == \"Game\"){\r\n    if(tempData.gameData == null){\r\n      tempData.gameData = {TOTAL: 0};\r\n    }\r\n    tempData.gameData.TOTAL += 1;\r\n    tempData.INTERACTIVES_TOTAL += 1;\r\n  }\r\n  else if(interactive == \"DragAndDrop\"){\r\n    if(tempData.dragDropData == null){\r\n      tempData.dragDropData = {TOTAL: 0};\r\n    }\r\n    tempData.dragDropData.TOTAL += 1;\r\n    tempData.INTERACTIVES_TOTAL += 1;\r\n  }\r\n  else if(interactive == \"FlipCard\"){\r\n    if(tempData.flipCardData == null){\r\n      tempData.flipCardData = {TOTAL: 0};\r\n    }\r\n    tempData.flipCardData.TOTAL += 1;\r\n    tempData.INTERACTIVES_TOTAL += 1;\r\n  }\r\n  else if(interactive == \"Hotspot\"){\r\n    if(tempData.hotspotData == null){\r\n      tempData.hotspotData = {TOTAL: 0};\r\n    }\r\n    tempData.hotspotData.TOTAL += 1;\r\n    tempData.INTERACTIVES_TOTAL += 1;\r\n  }\r\n  else if(interactive == \"KnowledgeCheck\"){\r\n    if(tempData.knowledgeCheckData == null){\r\n      tempData.knowledgeCheckData = {TOTAL: 0};\r\n    }\r\n    tempData.knowledgeCheckData.TOTAL += 1;\r\n    tempData.INTERACTIVES_TOTAL += 1;\r\n  }\r\n  else if(interactive == \"Thumbnails\"){\r\n    if(tempData.thumbnailData == null){\r\n      tempData.thumbnailData = {TOTAL: 0};\r\n    }\r\n    tempData.thumbnailData.TOTAL += 1;\r\n    tempData.INTERACTIVES_TOTAL += 1;\r\n  }\r\n  else if(interactive == \"VideoAudio\"){\r\n    if(tempData.videoAudioData == null){\r\n      tempData.videoAudioData = {TOTAL: 0};\r\n    }\r\n    tempData.videoAudioData.TOTAL += 1;\r\n    tempData.INTERACTIVES_TOTAL += 1;\r\n  }\r\n\r\n\r\n  return tempData;\r\n}\r\n"],"sourceRoot":""}